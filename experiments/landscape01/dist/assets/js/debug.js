/******/ (function(modules) { // webpackBootstrap
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = window["webpackHotUpdate"];
/******/ 	window["webpackHotUpdate"] = 
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) { // eslint-disable-line no-unused-vars
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if(parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/ 	
/******/ 	function hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars
/******/ 		var head = document.getElementsByTagName("head")[0];
/******/ 		var script = document.createElement("script");
/******/ 		script.type = "text/javascript";
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		;
/******/ 		head.appendChild(script);
/******/ 	}
/******/ 	
/******/ 	function hotDownloadManifest(requestTimeout) { // eslint-disable-line no-unused-vars
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if(typeof XMLHttpRequest === "undefined")
/******/ 				return reject(new Error("No browser support"));
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch(err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if(request.readyState !== 4) return;
/******/ 				if(request.status === 0) {
/******/ 					// timeout
/******/ 					reject(new Error("Manifest request to " + requestPath + " timed out."));
/******/ 				} else if(request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if(request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch(e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	
/******/ 	
/******/ 	var hotApplyOnUpdate = true;
/******/ 	var hotCurrentHash = "d33097eb8a7d8f33d346"; // eslint-disable-line no-unused-vars
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule; // eslint-disable-line no-unused-vars
/******/ 	var hotCurrentParents = []; // eslint-disable-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = []; // eslint-disable-line no-unused-vars
/******/ 	
/******/ 	function hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars
/******/ 		var me = installedModules[moduleId];
/******/ 		if(!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if(me.hot.active) {
/******/ 				if(installedModules[request]) {
/******/ 					if(installedModules[request].parents.indexOf(moduleId) < 0)
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if(me.children.indexOf(request) < 0)
/******/ 					me.children.push(request);
/******/ 			} else {
/******/ 				console.warn("[HMR] unexpected require(" + request + ") from disposed module " + moduleId);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for(var name in __webpack_require__) {
/******/ 			if(Object.prototype.hasOwnProperty.call(__webpack_require__, name) && name !== "e") {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if(hotStatus === "ready")
/******/ 				hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/ 	
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if(hotStatus === "prepare") {
/******/ 					if(!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if(hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/ 	
/******/ 	function hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/ 	
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if(typeof dep === "undefined")
/******/ 					hot._selfAccepted = true;
/******/ 				else if(typeof dep === "function")
/******/ 					hot._selfAccepted = dep;
/******/ 				else if(typeof dep === "object")
/******/ 					for(var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else
/******/ 					hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if(typeof dep === "undefined")
/******/ 					hot._selfDeclined = true;
/******/ 				else if(typeof dep === "object")
/******/ 					for(var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else
/******/ 					hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if(idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/ 	
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if(!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if(idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/ 	
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/ 	
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/ 	
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for(var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/ 	
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/ 	
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/ 	
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = (+id) + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/ 	
/******/ 	function hotCheck(apply) {
/******/ 		if(hotStatus !== "idle") throw new Error("check() is only allowed in idle status");
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if(!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/ 	
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = 1;
/******/ 			{ // eslint-disable-line no-lone-blocks
/******/ 				/*globals chunkId */
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if(hotStatus === "prepare" && hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/ 	
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars
/******/ 		if(!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for(var moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/ 	
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if(!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/ 	
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if(!deferred) return;
/******/ 		if(hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve().then(function() {
/******/ 				return hotApply(hotApplyOnUpdate);
/******/ 			}).then(
/******/ 				function(result) {
/******/ 					deferred.resolve(result);
/******/ 				},
/******/ 				function(err) {
/******/ 					deferred.reject(err);
/******/ 				}
/******/ 			);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for(var id in hotUpdate) {
/******/ 				if(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/ 	
/******/ 	function hotApply(options) {
/******/ 		if(hotStatus !== "ready") throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/ 	
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/ 	
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/ 	
/******/ 			var queue = outdatedModules.slice().map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while(queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if(!module || module.hot._selfAccepted)
/******/ 					continue;
/******/ 				if(module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if(module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for(var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if(!parent) continue;
/******/ 					if(parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if(outdatedModules.indexOf(parentId) >= 0) continue;
/******/ 					if(parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if(!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/ 	
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/ 	
/******/ 		function addAllToSet(a, b) {
/******/ 			for(var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if(a.indexOf(item) < 0)
/******/ 					a.push(item);
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/ 	
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn("[HMR] unexpected require(" + result.moduleId + ") to disposed module");
/******/ 		};
/******/ 	
/******/ 		for(var id in hotUpdate) {
/******/ 			if(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				var result;
/******/ 				if(hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if(result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch(result.type) {
/******/ 					case "self-declined":
/******/ 						if(options.onDeclined)
/******/ 							options.onDeclined(result);
/******/ 						if(!options.ignoreDeclined)
/******/ 							abortError = new Error("Aborted because of self decline: " + result.moduleId + chainInfo);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if(options.onDeclined)
/******/ 							options.onDeclined(result);
/******/ 						if(!options.ignoreDeclined)
/******/ 							abortError = new Error("Aborted because of declined dependency: " + result.moduleId + " in " + result.parentId + chainInfo);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if(options.onUnaccepted)
/******/ 							options.onUnaccepted(result);
/******/ 						if(!options.ignoreUnaccepted)
/******/ 							abortError = new Error("Aborted because " + moduleId + " is not accepted" + chainInfo);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if(options.onAccepted)
/******/ 							options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if(options.onDisposed)
/******/ 							options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if(abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if(doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for(moduleId in result.outdatedDependencies) {
/******/ 						if(Object.prototype.hasOwnProperty.call(result.outdatedDependencies, moduleId)) {
/******/ 							if(!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(outdatedDependencies[moduleId], result.outdatedDependencies[moduleId]);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if(doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for(i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 		}
/******/ 	
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if(hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/ 	
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while(queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if(!module) continue;
/******/ 	
/******/ 			var data = {};
/******/ 	
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for(j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/ 	
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/ 	
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/ 	
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/ 	
/******/ 			// remove "parents" references from all children
/******/ 			for(j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if(!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if(idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for(moduleId in outdatedDependencies) {
/******/ 			if(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {
/******/ 				module = installedModules[moduleId];
/******/ 				if(module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for(j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if(idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// Not in "apply" phase
/******/ 		hotSetStatus("apply");
/******/ 	
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/ 	
/******/ 		// insert new code
/******/ 		for(moduleId in appliedUpdate) {
/******/ 			if(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for(moduleId in outdatedDependencies) {
/******/ 			if(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {
/******/ 				module = installedModules[moduleId];
/******/ 				if(module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for(i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if(cb) {
/******/ 							if(callbacks.indexOf(cb) >= 0) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for(i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch(err) {
/******/ 							if(options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if(!options.ignoreErrored) {
/******/ 								if(!error)
/******/ 									error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// Load self accepted modules
/******/ 		for(i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch(err) {
/******/ 				if(typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch(err2) {
/******/ 						if(options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								orginalError: err, // TODO remove in webpack 4
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if(!options.ignoreErrored) {
/******/ 							if(!error)
/******/ 								error = err2;
/******/ 						}
/******/ 						if(!error)
/******/ 							error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if(options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if(!options.ignoreErrored) {
/******/ 						if(!error)
/******/ 							error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if(error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/ 	
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire(36)(__webpack_require__.s = 36);
/******/ })
/************************************************************************/
/******/ ({

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

!function(root,factory){ true?module.exports=factory():"function"==typeof define&&define.amd?define("alfrid",[],factory):"object"==typeof exports?exports.alfrid=factory():root.alfrid=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=41)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),_getAndApplyExtension=__webpack_require__(47),_getAndApplyExtension2=_interopRequireDefault(_getAndApplyExtension),_exposeAttributes=__webpack_require__(48),_exposeAttributes2=_interopRequireDefault(_exposeAttributes),_getFloat=__webpack_require__(49),_getFloat2=_interopRequireDefault(_getFloat),_getHalfFloat=__webpack_require__(50),_getHalfFloat2=_interopRequireDefault(_getHalfFloat),_getAttribLoc=__webpack_require__(24),_ExtensionsList=(_interopRequireDefault(_getAttribLoc),__webpack_require__(51)),_ExtensionsList2=_interopRequireDefault(_ExtensionsList),gl=void 0,GLTool=function(){function GLTool(){_classCallCheck(this,GLTool),this.canvas,this._viewport=[0,0,0,0],this._enabledVertexAttribute=[],this.identityMatrix=_glMatrix.mat4.create(),this._normalMatrix=_glMatrix.mat3.create(),this._inverseModelViewMatrix=_glMatrix.mat3.create(),this._modelMatrix=_glMatrix.mat4.create(),this._matrix=_glMatrix.mat4.create(),this._matrixStacks=[],this._lastMesh=null,this._useWebGL2=!1,this._hasArrayInstance,this._extArrayInstance,this._hasCheckedExt=!1,_glMatrix.mat4.identity(this.identityMatrix,this.identityMatrix),this.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}return _createClass(GLTool,[{key:"init",value:function(mCanvas){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===mCanvas||void 0===mCanvas)return void console.error("Canvas not exist");void 0!==this.canvas&&null!==this.canvas&&this.destroy(),this.canvas=mCanvas,this.setSize(window.innerWidth,window.innerHeight),mParameters.useWebgl2=mParameters.useWebgl2||!1;var ctx=void 0;mParameters.useWebgl2?(ctx=this.canvas.getContext("experimental-webgl2",mParameters)||this.canvas.getContext("webgl2",mParameters),ctx?this._useWebGL2=!0:(ctx=this.canvas.getContext("webgl",mParameters)||this.canvas.getContext("experimental-webgl",mParameters),this._useWebGL2=!1)):(ctx=this.canvas.getContext("webgl",mParameters)||this.canvas.getContext("experimental-webgl",mParameters),this._useWebGL2=!1),console.log("Using WebGL 2 ?",this.webgl2),this.initWithGL(ctx)}},{key:"initWithGL",value:function(ctx){this.canvas||(this.canvas=ctx.canvas),gl=this.gl=ctx,this.extensions={};for(var i=0;i<_ExtensionsList2.default.length;i++)this.extensions[_ExtensionsList2.default[i]]=gl.getExtension(_ExtensionsList2.default[i]);(0,_exposeAttributes2.default)(),(0,_getAndApplyExtension2.default)(gl,"OES_vertex_array_object"),(0,_getAndApplyExtension2.default)(gl,"ANGLE_instanced_arrays"),(0,_getAndApplyExtension2.default)(gl,"WEBGL_draw_buffers"),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.enable(this.BLEND),this.enableAlphaBlending()}},{key:"setViewport",value:function(x,y,w,h){var hasChanged=!1;x!==this._viewport[0]&&(hasChanged=!0),y!==this._viewport[1]&&(hasChanged=!0),w!==this._viewport[2]&&(hasChanged=!0),h!==this._viewport[3]&&(hasChanged=!0),hasChanged&&(gl.viewport(x,y,w,h),this._viewport=[x,y,w,h])}},{key:"scissor",value:function(x,y,w,h){gl.scissor(x,y,w,h)}},{key:"clear",value:function(r,g,b,a){gl.clearColor(r,g,b,a),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT)}},{key:"cullFace",value:function(mValue){gl.cullFace(mValue)}},{key:"setMatrices",value:function(mCamera){this.camera=mCamera,this.rotate(this.identityMatrix)}},{key:"useShader",value:function(mShader){this.shader=mShader,this.shaderProgram=this.shader.shaderProgram}},{key:"rotate",value:function(mRotation){_glMatrix.mat4.copy(this._modelMatrix,mRotation),_glMatrix.mat4.multiply(this._matrix,this.camera.matrix,this._modelMatrix),_glMatrix.mat3.fromMat4(this._normalMatrix,this._matrix),_glMatrix.mat3.invert(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.transpose(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.fromMat4(this._inverseModelViewMatrix,this._matrix),_glMatrix.mat3.invert(this._inverseModelViewMatrix,this._inverseModelViewMatrix)}},{key:"draw",value:function(mMesh,mDrawingType){if(mMesh.length)for(var i=0;i<mMesh.length;i++)this.draw(mMesh[i]);else{mMesh.bind(this.shaderProgram),void 0!==this.camera&&(this.shader.uniform("uProjectionMatrix","mat4",this.camera.projection),this.shader.uniform("uViewMatrix","mat4",this.camera.matrix)),this.shader.uniform("uModelMatrix","mat4",this._modelMatrix),this.shader.uniform("uNormalMatrix","mat3",this._normalMatrix),this.shader.uniform("uModelViewMatrixInverse","mat3",this._inverseModelViewMatrix);var drawType=mMesh.drawType;void 0!==mDrawingType&&(drawType=mDrawingType),mMesh.isInstanced?gl.drawElementsInstanced(mMesh.drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0,mMesh.numInstance):drawType===gl.POINTS?gl.drawArrays(drawType,0,mMesh.vertexSize):gl.drawElements(drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0),mMesh.unbind()}}},{key:"drawTransformFeedback",value:function(mTransformObject){var meshSource=mTransformObject.meshSource,meshDestination=mTransformObject.meshDestination,numPoints=mTransformObject.numPoints,transformFeedback=mTransformObject.transformFeedback;meshSource.bind(this.shaderProgram),meshDestination.generateBuffers(this.shaderProgram),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,transformFeedback),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,attr.buffer)}),gl.enable(gl.RASTERIZER_DISCARD),gl.beginTransformFeedback(gl.POINTS),gl.drawArrays(gl.POINTS,0,numPoints),gl.endTransformFeedback(),gl.disable(gl.RASTERIZER_DISCARD),gl.useProgram(null),gl.bindBuffer(gl.ARRAY_BUFFER,null),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,null)}),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,null),meshSource.unbind()}},{key:"setSize",value:function(mWidth,mHeight){this._width=mWidth,this._height=mHeight,this.canvas.width=this._width,this.canvas.height=this._height,this._aspectRatio=this._width/this._height,gl&&this.viewport(0,0,this._width,this._height)}},{key:"showExtensions",value:function(){console.log("Extensions : ",this.extensions);for(var ext in this.extensions)this.extensions[ext]&&console.log(ext,":",this.extensions[ext])}},{key:"checkExtension",value:function(mExtension){return!!this.extensions[mExtension]}},{key:"getExtension",value:function(mExtension){return this.extensions[mExtension]}},{key:"enableAlphaBlending",value:function(){gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA)}},{key:"enableAdditiveBlending",value:function(){gl.blendFunc(gl.ONE,gl.ONE)}},{key:"pushMatrix",value:function(){var mtx=_glMatrix.mat4.clone(this._modelMatrix);this._matrixStacks.push(mtx)}},{key:"popMatrix",value:function(){if(0==this._matrixStacks.length)return null;var mtx=this._matrixStacks.pop();this.rotate(mtx)}},{key:"enable",value:function(mParameter){gl.enable(mParameter)}},{key:"disable",value:function(mParameter){gl.disable(mParameter)}},{key:"viewport",value:function(x,y,w,h){this.setViewport(x,y,w,h)}},{key:"destroy",value:function(){if(this.canvas.parentNode)try{this.canvas.parentNode.removeChild(this.canvas)}catch(e){console.log("Error : ",e)}this.canvas=null}},{key:"FLOAT",get:function(){return(0,_getFloat2.default)()}},{key:"HALF_FLOAT",get:function(){return(0,_getHalfFloat2.default)()}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"aspectRatio",get:function(){return this._aspectRatio}},{key:"webgl2",get:function(){return this._useWebGL2}}]),GLTool}(),GL=new GLTool;exports.default=GL},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vec4=exports.vec3=exports.vec2=exports.quat=exports.mat4=exports.mat3=exports.mat2d=exports.mat2=exports.glMatrix=void 0;var _common=__webpack_require__(3),glMatrix=_interopRequireWildcard(_common),_mat=__webpack_require__(42),mat2=_interopRequireWildcard(_mat),_mat2d=__webpack_require__(43),mat2d=_interopRequireWildcard(_mat2d),_mat2=__webpack_require__(20),mat3=_interopRequireWildcard(_mat2),_mat3=__webpack_require__(44),mat4=_interopRequireWildcard(_mat3),_quat=__webpack_require__(45),quat=_interopRequireWildcard(_quat),_vec=__webpack_require__(46),vec2=_interopRequireWildcard(_vec),_vec2=__webpack_require__(21),vec3=_interopRequireWildcard(_vec2),_vec3=__webpack_require__(22),vec4=_interopRequireWildcard(_vec3);exports.glMatrix=glMatrix,exports.mat2=mat2,exports.mat2d=mat2d,exports.mat3=mat3,exports.mat4=mat4,exports.quat=quat,exports.vec2=vec2,exports.vec3=vec3,exports.vec4=vec4},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),isSame=(__webpack_require__(52),function(array1,array2){if(array1.length!==array2.length)return!1;for(var i=0;i<array1.length;i++)if(array1[i]!==array2[i])return!1;return!0}),addLineNumbers=function(string){for(var lines=string.split("\n"),i=0;i<lines.length;i++)lines[i]=i+1+": "+lines[i];return lines.join("\n")},cloneArray=function(mArray){return mArray.slice?mArray.slice(0):new Float32Array(mArray)},gl=void 0,defaultVertexShader=__webpack_require__(11),defaultFragmentShader=__webpack_require__(53),uniformMapping={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},GLShader=function(){function GLShader(){var strVertexShader=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultVertexShader,strFragmentShader=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultFragmentShader,mVaryings=arguments[2];_classCallCheck(this,GLShader),gl=_GLTool2.default.gl,this.parameters=[],this.uniformTextures=[],this._varyings=mVaryings,strVertexShader||(strVertexShader=defaultVertexShader),strFragmentShader||(strFragmentShader=defaultVertexShader);var vsShader=this._createShaderProgram(strVertexShader,!0),fsShader=this._createShaderProgram(strFragmentShader,!1);this._attachShaderProgram(vsShader,fsShader)}return _createClass(GLShader,[{key:"bind",value:function(){_GLTool2.default.shader!==this&&(gl.useProgram(this.shaderProgram),_GLTool2.default.useShader(this),this.uniformTextures=[])}},{key:"uniform",value:function(mName,mType,mValue){if("object"===(void 0===mName?"undefined":_typeof(mName)))return void this.uniformObject(mName);for(var uniformType=uniformMapping[mType]||mType,hasUniform=!1,oUniform=void 0,parameterIndex=-1,i=0;i<this.parameters.length;i++)if(oUniform=this.parameters[i],oUniform.name===mName){hasUniform=!0,parameterIndex=i;break}var isNumber=!1;if(hasUniform?(this.shaderProgram[mName]=oUniform.uniformLoc,isNumber=oUniform.isNumber):(isNumber="uniform1i"===uniformType||"uniform1f"===uniformType,this.shaderProgram[mName]=gl.getUniformLocation(this.shaderProgram,mName),isNumber?this.parameters.push({name:mName,type:uniformType,value:mValue,uniformLoc:this.shaderProgram[mName],isNumber:isNumber}):this.parameters.push({name:mName,type:uniformType,value:cloneArray(mValue),uniformLoc:this.shaderProgram[mName],isNumber:isNumber}),parameterIndex=this.parameters.length-1),this.parameters[parameterIndex].uniformLoc)if(-1===uniformType.indexOf("Matrix"))if(isNumber){var needUpdate=this.parameters[parameterIndex].value!==mValue||!hasUniform;needUpdate&&(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=mValue)}else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=cloneArray(mValue));else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],!1,mValue),this.parameters[parameterIndex].value=cloneArray(mValue))}},{key:"uniformObject",value:function(mUniformObj){for(var uniformName in mUniformObj){var uniformValue=mUniformObj[uniformName],uniformType=GLShader.getUniformType(uniformValue);if(uniformValue.concat&&uniformValue[0].concat){for(var tmp=[],i=0;i<uniformValue.length;i++)tmp=tmp.concat(uniformValue[i]);uniformValue=tmp}this.uniform(uniformName,uniformType,uniformValue)}}},{key:"_createShaderProgram",value:function(mShaderStr,isVertexShader){var shaderType=isVertexShader?_GLTool2.default.VERTEX_SHADER:_GLTool2.default.FRAGMENT_SHADER,shader=gl.createShader(shaderType);return gl.shaderSource(shader,mShaderStr),gl.compileShader(shader),gl.getShaderParameter(shader,gl.COMPILE_STATUS)?shader:(console.warn("Error in Shader : ",gl.getShaderInfoLog(shader)),console.log(addLineNumbers(mShaderStr)),null)}},{key:"_attachShaderProgram",value:function(mVertexShader,mFragmentShader){this.shaderProgram=gl.createProgram(),gl.attachShader(this.shaderProgram,mVertexShader),gl.attachShader(this.shaderProgram,mFragmentShader),gl.deleteShader(mVertexShader),gl.deleteShader(mFragmentShader),this._varyings&&(console.log("Transform feedback setup : ",this._varyings),gl.transformFeedbackVaryings(this.shaderProgram,this._varyings,gl.SEPARATE_ATTRIBS)),gl.linkProgram(this.shaderProgram)}}]),GLShader}();GLShader.getUniformType=function(mValue){var isArray=!!mValue.concat,getArrayUniformType=function(mValue){return 9===mValue.length?"uniformMatrix3fv":16===mValue.length?"uniformMatrix4fv":"vec"+mValue.length};return isArray?getArrayUniformType(mValue[0].concat?mValue[0]:mValue):"float"},exports.default=GLShader},function(module,exports,__webpack_require__){"use strict";function setMatrixArrayType(type){exports.ARRAY_TYPE=ARRAY_TYPE=type}function toRadian(a){return a*degree}function equals(a,b){return Math.abs(a-b)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMatrixArrayType=setMatrixArrayType,exports.toRadian=toRadian,exports.equals=equals;var EPSILON=exports.EPSILON=1e-6,ARRAY_TYPE=exports.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,degree=(exports.RANDOM=Math.random,Math.PI/180)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),Batch=function(){function Batch(mMesh,mShader){_classCallCheck(this,Batch),this._mesh=mMesh,this._shader=mShader}return _createClass(Batch,[{key:"draw",value:function(){this._shader.bind(),_GLTool2.default.draw(this.mesh)}},{key:"mesh",get:function(){return this._mesh}},{key:"shader",get:function(){return this._shader}}]),Batch}();exports.default=Batch},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_glMatrix=__webpack_require__(1),_getAttribLoc=__webpack_require__(24),_getAttribLoc2=_interopRequireDefault(_getAttribLoc),gl=void 0,getBuffer=function(attr){var buffer=void 0;return void 0!==attr.buffer?buffer=attr.buffer:(buffer=gl.createBuffer(),attr.buffer=buffer),buffer},formBuffer=function(mData,mNum){for(var ary=[],i=0;i<mData.length;i+=mNum){for(var o=[],j=0;j<mNum;j++)o.push(mData[i+j]);ary.push(o)}return ary},Mesh=function(){function Mesh(){var mDrawingType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,mUseVao=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classCallCheck(this,Mesh),gl=_GLTool2.default.gl,this.drawType=mDrawingType,this._attributes=[],this._numInstance=-1,this._enabledVertexAttribute=[],this._indices=[],this._faces=[],this._bufferChanged=[],this._hasIndexBufferChanged=!1,this._hasVAO=!1,this._isInstanced=!1,this._extVAO=!!_GLTool2.default.gl.createVertexArray,this._useVAO=!!this._extVAO&&mUseVao}return _createClass(Mesh,[{key:"bufferVertex",value:function(mArrayVertices){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayVertices,"aVertexPosition",3,mDrawType),this.normals.length<this.vertices.length&&this.bufferNormal(mArrayVertices,mDrawType),this}},{key:"bufferTexCoord",value:function(mArrayTexCoords){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayTexCoords,"aTextureCoord",2,mDrawType),this}},{key:"bufferNormal",value:function(mNormals){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mNormals,"aNormal",3,mDrawType),this}},{key:"bufferIndex",value:function(mArrayIndices){var isDynamic=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._drawType=isDynamic?gl.DYNAMIC_DRAW:gl.STATIC_DRAW,this._indices=new Uint16Array(mArrayIndices),this._numItems=this._indices.length,this}},{key:"bufferFlattenData",value:function(mData,mName,mItemSize){var data=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],formBuffer(mData,mItemSize));return this.bufferData(data,mName,mItemSize,35044,!1),this}},{key:"bufferData",value:function(mData,mName,mItemSize){var mDrawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35044,isInstanced=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=0,drawType=mDrawType,bufferData=[];for(mItemSize||(mItemSize=mData[0].length),this._isInstanced=isInstanced||this._isInstanced,i=0;i<mData.length;i++)for(var j=0;j<mData[i].length;j++)bufferData.push(mData[i][j]);var dataArray=new Float32Array(bufferData),attribute=this.getAttribute(mName);return attribute?(attribute.itemSize=mItemSize,attribute.dataArray=dataArray,attribute.source=mData):this._attributes.push({name:mName,source:mData,itemSize:mItemSize,drawType:drawType,dataArray:dataArray,isInstanced:isInstanced}),this._bufferChanged.push(mName),this}},{key:"bufferInstance",value:function(mData,mName){if(!_GLTool2.default.gl.vertexAttribDivisor)return void console.error("Extension : ANGLE_instanced_arrays is not supported with this device !");var itemSize=mData[0].length;this._numInstance=mData.length,this.bufferData(mData,mName,itemSize,35044,!0)}},{key:"bind",value:function(mShaderProgram){this.generateBuffers(mShaderProgram),this.hasVAO?gl.bindVertexArray(this.vao):(this.attributes.forEach(function(attribute){gl.bindBuffer(gl.ARRAY_BUFFER,attribute.buffer);var attrPosition=attribute.attrPosition;gl.vertexAttribPointer(attrPosition,attribute.itemSize,gl.FLOAT,!1,0,0),attribute.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer))}},{key:"generateBuffers",value:function(mShaderProgram){var _this=this;0!=this._bufferChanged.length&&(this._useVAO?(this._vao||(this._vao=gl.createVertexArray()),gl.bindVertexArray(this._vao),this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer(),gl.bindVertexArray(null),this._hasVAO=!0):(this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer()),this._hasIndexBufferChanged=!1,this._bufferChanged=[])}},{key:"unbind",value:function(){this._useVAO&&gl.bindVertexArray(null),this._attributes.forEach(function(attribute){attribute.isInstanced&&gl.vertexAttribDivisor(attribute.attrPosition,0)})}},{key:"_updateIndexBuffer",value:function(){this._hasIndexBufferChanged||(this.iBuffer||(this.iBuffer=gl.createBuffer()),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,this._indices,this._drawType),this.iBuffer.itemSize=1,this.iBuffer.numItems=this._numItems)}},{key:"computeNormals",value:function(){var usingFaceNormals=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.generateFaces(),usingFaceNormals?this._computeFaceNormals():this._computeVertexNormals()}},{key:"_computeFaceNormals",value:function(){for(var faceIndex=void 0,face=void 0,normals=[],i=0;i<this._indices.length;i+=3){faceIndex=i/3,face=this._faces[faceIndex];var N=face.normal;normals[face.indices[0]]=N,normals[face.indices[1]]=N,normals[face.indices[2]]=N}this.bufferNormal(normals)}},{key:"_computeVertexNormals",value:function(){for(var face=void 0,sumNormal=_glMatrix.vec3.create(),normals=[],vertices=this.vertices,i=0;i<vertices.length;i++){_glMatrix.vec3.set(sumNormal,0,0,0);for(var j=0;j<this._faces.length;j++)face=this._faces[j],face.indices.indexOf(i)>=0&&(sumNormal[0]+=face.normal[0],sumNormal[1]+=face.normal[1],sumNormal[2]+=face.normal[2]);_glMatrix.vec3.normalize(sumNormal,sumNormal),normals.push([sumNormal[0],sumNormal[1],sumNormal[2]])}this.bufferNormal(normals)}},{key:"generateFaces",value:function(){for(var ia=void 0,ib=void 0,ic=void 0,a=void 0,b=void 0,c=void 0,vertices=(_glMatrix.vec3.create(),_glMatrix.vec3.create(),_glMatrix.vec3.create(),this.vertices),i=0;i<this._indices.length;i+=3){ia=this._indices[i],ib=this._indices[i+1],ic=this._indices[i+2],a=vertices[ia],b=vertices[ib],c=vertices[ic];var face={indices:[ia,ib,ic],vertices:[a,b,c]};this._faces.push(face)}}},{key:"getAttribute",value:function(mName){return this._attributes.find(function(a){return a.name===mName})}},{key:"getSource",value:function(mName){var attr=this.getAttribute(mName);return attr?attr.source:[]}},{key:"vertices",get:function(){return this.getSource("aVertexPosition")}},{key:"normals",get:function(){return this.getSource("aNormal")}},{key:"coords",get:function(){return this.getSource("aTextureCoord")}},{key:"indices",get:function(){return this._indices}},{key:"vertexSize",get:function(){return this.vertices.length}},{key:"faces",get:function(){return this._faces}},{key:"attributes",get:function(){return this._attributes}},{key:"hasVAO",get:function(){return this._hasVAO}},{key:"vao",get:function(){return this._vao}},{key:"numInstance",get:function(){return this._numInstance}},{key:"isInstanced",get:function(){return this._isInstanced}}]),Mesh}();exports.default=Mesh},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Scheduler=function(){function Scheduler(){_classCallCheck(this,Scheduler),this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this._startTime=(new Date).getTime(),this._deltaTime=0,this._loop()}return _createClass(Scheduler,[{key:"addEF",value:function(func,params){params=params||[];var id=this._idTable;return this._enterframeTasks[id]={func:func,params:params},this._idTable++,id}},{key:"removeEF",value:function(id){return void 0!==this._enterframeTasks[id]&&(this._enterframeTasks[id]=null),-1}},{key:"delay",value:function(func,params,_delay){var time=(new Date).getTime(),t={func:func,params:params,delay:_delay,time:time};this._delayTasks.push(t)}},{key:"defer",value:function(func,params){var t={func:func,params:params};this._deferTasks.push(t)}},{key:"next",value:function(func,params){var t={func:func,params:params};this._nextTasks.push(t)}},{key:"usurp",value:function(func,params){var t={func:func,params:params};this._usurpTask.push(t)}},{key:"_process",value:function(){var i=0,task=void 0,interval=void 0;for(i=0;i<this._enterframeTasks.length;i++)null!==(task=this._enterframeTasks[i])&&void 0!==task&&task.func(task.params);for(;this._highTasks.length>0;)task=this._highTasks.pop(),task.func(task.params);var startTime=(new Date).getTime();for(this._deltaTime=(startTime-this._startTime)/1e3,i=0;i<this._delayTasks.length;i++)task=this._delayTasks[i],startTime-task.time>task.delay&&(task.func(task.params),this._delayTasks.splice(i,1));for(startTime=(new Date).getTime(),this._deltaTime=(startTime-this._startTime)/1e3,interval=1e3/60;this._deferTasks.length>0;){if(task=this._deferTasks.shift(),!((new Date).getTime()-startTime<interval)){this._deferTasks.unshift(task);break}task.func(task.params)}for(startTime=(new Date).getTime(),this._deltaTime=(startTime-this._startTime)/1e3,interval=1e3/60;this._usurpTask.length>0;)task=this._usurpTask.shift(),(new Date).getTime()-startTime<interval&&task.func(task.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[]}},{key:"_loop",value:function(){var _this=this;this._process(),window.requestAnimationFrame(function(){return _this._loop()})}},{key:"deltaTime",get:function(){return this._deltaTime}}]),Scheduler}(),scheduler=new Scheduler;exports.default=scheduler},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Mesh=__webpack_require__(5),_Mesh2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Mesh),Geom={},meshTri=void 0;Geom.plane=function(width,height,numSegments){for(var axis=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"xy",drawType=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,positions=[],coords=[],indices=[],normals=[],gapX=width/numSegments,gapY=height/numSegments,gapUV=1/numSegments,sx=.5*-width,sy=.5*-height,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){var tx=gapX*i+sx,ty=gapY*j+sy,u=i/numSegments,v=j/numSegments;"xz"===axis?(positions.push([tx,0,ty+gapY]),positions.push([tx+gapX,0,ty+gapY]),positions.push([tx+gapX,0,ty]),positions.push([tx,0,ty]),coords.push([u,1-(v+gapUV)]),coords.push([u+gapUV,1-(v+gapUV)]),coords.push([u+gapUV,1-v]),coords.push([u,1-v]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0])):"yz"===axis?(positions.push([0,ty,tx]),positions.push([0,ty,tx+gapX]),positions.push([0,ty+gapY,tx+gapX]),positions.push([0,ty+gapY,tx]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0])):(positions.push([tx,ty,0]),positions.push([tx+gapX,ty,0]),positions.push([tx+gapX,ty+gapY,0]),positions.push([tx,ty+gapY,0]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1])),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.sphere=function(size,numSegments){function getPosition(i,j){var isNormal=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rx=i/numSegments*Math.PI-.5*Math.PI,ry=j/numSegments*Math.PI*2,r=isNormal?1:size,pos=[];pos[1]=Math.sin(rx)*r;var t=Math.cos(rx)*r;pos[0]=Math.cos(ry)*t,pos[2]=Math.sin(ry)*t;return pos[0]=Math.floor(1e4*pos[0])/1e4,pos[1]=Math.floor(1e4*pos[1])/1e4,pos[2]=Math.floor(1e4*pos[2])/1e4,pos}for(var isInvert=arguments.length>2&&void 0!==arguments[2]&&arguments[2],drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,positions=[],coords=[],indices=[],normals=[],gapUV=1/numSegments,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){positions.push(getPosition(i,j)),positions.push(getPosition(i+1,j)),positions.push(getPosition(i+1,j+1)),positions.push(getPosition(i,j+1)),normals.push(getPosition(i,j,!0)),normals.push(getPosition(i+1,j,!0)),normals.push(getPosition(i+1,j+1,!0)),normals.push(getPosition(i,j+1,!0));var u=j/numSegments,v=i/numSegments;coords.push([1-u,v]),coords.push([1-u,v+gapUV]),coords.push([1-u-gapUV,v+gapUV]),coords.push([1-u-gapUV,v]),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}isInvert&&indices.reverse();var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.cube=function(w,h,d){var drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;h=h||w,d=d||w;var x=w/2,y=h/2,z=d/2,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([-x,y,-z]),positions.push([x,y,-z]),positions.push([x,-y,-z]),positions.push([-x,-y,-z]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([x,y,z]),positions.push([x,-y,z]),positions.push([x,-y,-z]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,z]),positions.push([-x,y,z]),positions.push([-x,-y,z]),positions.push([x,-y,z]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-x,y,z]),positions.push([-x,y,-z]),positions.push([-x,-y,-z]),positions.push([-x,-y,z]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([-x,y,-z]),positions.push([-x,y,z]),positions.push([x,y,z]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,-y,z]),positions.push([-x,-y,z]),positions.push([-x,-y,-z]),positions.push([x,-y,-z]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++;var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.skybox=function(size){var drawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([size,size,-size]),positions.push([-size,size,-size]),positions.push([-size,-size,-size]),positions.push([size,-size,-size]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([size,-size,size]),positions.push([size,size,size]),positions.push([size,size,-size]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,size,size]),positions.push([size,size,size]),positions.push([size,-size,size]),positions.push([-size,-size,size]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,-size,size]),positions.push([-size,-size,-size]),positions.push([-size,size,-size]),positions.push([-size,size,size]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,size,size]),positions.push([-size,size,size]),positions.push([-size,size,-size]),positions.push([size,size,-size]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([-size,-size,-size]),positions.push([-size,-size,size]),positions.push([size,-size,size]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3);var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.bigTriangle=function(){if(!meshTri){var indices=[2,1,0],positions=[[-1,-1],[-1,4],[4,-1]];meshTri=new _Mesh2.default,meshTri.bufferData(positions,"aPosition",2),meshTri.bufferIndex(indices)}return meshTri},exports.default=Geom},function(module,exports,__webpack_require__){"use strict";module.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6403:"RED",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33321:"R8",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_FrameBuffer=__webpack_require__(12),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),_ShaderLibs=__webpack_require__(32),_ShaderLibs2=_interopRequireDefault(_ShaderLibs),Pass=function(){function Pass(mSource){var mWidth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,mHeight=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,Pass),this.shader=new _GLShader2.default(_ShaderLibs2.default.bigTriangleVert,mSource),this._width=mWidth,this._height=mHeight,this._uniforms={},this._hasOwnFbo=this._width>0&&this._width>0,this._uniforms={},this._hasOwnFbo&&(this._fbo=new _FrameBuffer2.default(this._width,this.height,mParmas))}return _createClass(Pass,[{key:"uniform",value:function(mName,mValue){this._uniforms[mName]=mValue}},{key:"render",value:function(texture){this.shader.bind(),this.shader.uniform("texture","uniform1i",0),texture.bind(0),this.shader.uniform(this._uniforms)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"fbo",get:function(){return this._fbo}},{key:"hasFbo",get:function(){return this._hasOwnFbo}}]),Pass}();exports.default=Pass},function(module,exports){module.exports="// simpleColor.frag\n\n#define SHADER_NAME SIMPLE_COLOR\n\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main(void) {\n    gl_FragColor = vec4(color, opacity);\n}"},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(26),_GLTexture2=_interopRequireDefault(_GLTexture),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),gl=void 0,webglDepthTexture=void 0,hasCheckedMultiRenderSupport=!1,extDrawBuffer=void 0,checkMultiRender=function(){return!!_GLTool2.default.webgl2||!!(extDrawBuffer=_GLTool2.default.getExtension("WEBGL_draw_buffers"))},FrameBuffer=function(){function FrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},mNumTargets=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,FrameBuffer),gl=_GLTool2.default.gl,webglDepthTexture=_GLTool2.default.checkExtension("WEBGL_depth_texture"),this.width=mWidth,this.height=mHeight,this._numTargets=mNumTargets,this._multipleTargets=mNumTargets>1,this._parameters=mParameters,hasCheckedMultiRenderSupport||checkMultiRender(),this._multipleTargets&&this._checkMaxNumRenderTarget(),this._init()}return _createClass(FrameBuffer,[{key:"_init",value:function(){if(this._initTextures(),this.frameBuffer=gl.createFramebuffer(),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),_GLTool2.default.webgl2){for(var buffers=[],i=0;i<this._numTargets;i++)gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.COLOR_ATTACHMENT0+i,gl.TEXTURE_2D,this._textures[i].texture,0),buffers.push(gl["COLOR_ATTACHMENT"+i]);gl.drawBuffers(buffers),gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}else{for(var _i=0;_i<this._numTargets;_i++)gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0+_i,gl.TEXTURE_2D,this._textures[_i].texture,0);if(this._multipleTargets){for(var drawBuffers=[],_i2=0;_i2<this._numTargets;_i2++)drawBuffers.push(extDrawBuffer["COLOR_ATTACHMENT"+_i2+"_WEBGL"]);extDrawBuffer.drawBuffersWEBGL(drawBuffers)}webglDepthTexture&&gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}var FBOstatus=gl.checkFramebufferStatus(gl.FRAMEBUFFER);FBOstatus!=gl.FRAMEBUFFER_COMPLETE&&console.error("GL_FRAMEBUFFER_COMPLETE failed, CANNOT use Framebuffer",_WebglNumber2.default[FBOstatus]),gl.bindTexture(gl.TEXTURE_2D,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,null),this.clear()}},{key:"_checkMaxNumRenderTarget",value:function(){var maxNumDrawBuffers=_GLTool2.default.gl.getParameter(extDrawBuffer.MAX_DRAW_BUFFERS_WEBGL);this._numTargets>maxNumDrawBuffers&&(console.error("Over max number of draw buffers supported : ",maxNumDrawBuffers),this._numTargets=maxNumDrawBuffers)}},{key:"_initTextures",value:function(){this._textures=[];for(var i=0;i<this._numTargets;i++){var glt=this._createTexture();this._textures.push(glt)}_GLTool2.default.webgl2?this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0):this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,{minFilter:_GLTool2.default.LINEAR})}},{key:"_createTexture",value:function(mInternalformat,mTexelType,mFormat){var mParameters=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},parameters=Object.assign({},this._parameters);mFormat||(mFormat=mInternalformat),parameters.internalFormat=mInternalformat||gl.RGBA,parameters.format=mFormat,parameters.type=mTexelType||parameters.type||_GLTool2.default.UNSIGNED_BYTE;for(var s in mParameters)parameters[s]=mParameters[s];return new _GLTexture2.default(null,parameters,this.width,this.height)}},{key:"bind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),gl.bindFramebuffer(gl.FRAMEBUFFER,null),this._textures.forEach(function(texture){texture.generateMipmap()})}},{key:"clear",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.bind(),_GLTool2.default.clear(r,g,b,a),this.unbind()}},{key:"getTexture",value:function(){var mIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._textures[mIndex]}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}},{key:"showParameters",value:function(){this._textures[0].showParameters()}},{key:"minFilter",get:function(){return this._textures[0].minFilter},set:function(mValue){this._textures.forEach(function(texture){texture.minFilter=mValue})}},{key:"magFilter",get:function(){return this._textures[0].magFilter},set:function(mValue){this._textures.forEach(function(texture){texture.magFilter=mValue})}},{key:"wrapS",get:function(){return this._textures[0].wrapS},set:function(mValue){this._textures.forEach(function(texture){texture.wrapS=mValue})}},{key:"wrapT",get:function(){return this._textures[0].wrapT},set:function(mValue){this._textures.forEach(function(texture){texture.wrapT=mValue})}},{key:"numTargets",get:function(){return this._numTargets}}]),FrameBuffer}();exports.default=FrameBuffer},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(6),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),EaseNumber=function(){function EaseNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;_classCallCheck(this,EaseNumber),this.easing=mEasing,this._value=mValue,this._targetValue=mValue,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(EaseNumber,[{key:"_update",value:function(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}},{key:"setTo",value:function(mValue){this._targetValue=this._value=mValue}},{key:"add",value:function(mAdd){this._targetValue+=mAdd}},{key:"limit",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:"value",set:function(mValue){this._targetValue=mValue},get:function(){return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),EaseNumber}();exports.default=EaseNumber},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),a=_glMatrix.vec3.create(),b=_glMatrix.vec3.create(),c=_glMatrix.vec3.create(),target=_glMatrix.vec3.create(),edge1=_glMatrix.vec3.create(),edge2=_glMatrix.vec3.create(),normal=_glMatrix.vec3.create(),diff=_glMatrix.vec3.create(),Ray=function(){function Ray(mOrigin,mDirection){_classCallCheck(this,Ray),this.origin=_glMatrix.vec3.clone(mOrigin),this.direction=_glMatrix.vec3.clone(mDirection)}return _createClass(Ray,[{key:"at",value:function(t){return _glMatrix.vec3.copy(target,this.direction),_glMatrix.vec3.scale(target,target,t),_glMatrix.vec3.add(target,target,this.origin),target}},{key:"lookAt",value:function(mTarget){_glMatrix.vec3.sub(this.direction,mTarget,this.origin),_glMatrix.vec3.normalize(this.origin,this.origin)}},{key:"closestPointToPoint",value:function(mPoint){var result=_glMatrix.vec3.create();_glMatrix.vec3.sub(mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(result,this.direction);return directionDistance<0?_glMatrix.vec3.clone(this.origin):(_glMatrix.vec3.copy(result,this.direction),_glMatrix.vec3.scale(result,result,directionDistance),_glMatrix.vec3.add(result,result,this.origin),result)}},{key:"distanceToPoint",value:function(mPoint){return Math.sqrt(this.distanceSqToPoint(mPoint))}},{key:"distanceSqToPoint",value:function(mPoint){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(v1,this.direction);return directionDistance<0?_glMatrix.vec3.squaredDistance(this.origin,mPoint):(_glMatrix.vec3.copy(v1,this.direction),_glMatrix.vec3.scale(v1,v1,directionDistance),_glMatrix.vec3.add(v1,v1,this.origin),_glMatrix.vec3.squaredDistance(v1,mPoint))}},{key:"intersectsSphere",value:function(mCenter,mRadius){return this.distanceToPoint(mCenter)<=mRadius}},{key:"intersectSphere",value:function(mCenter,mRadius){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mCenter,this.origin);var tca=_glMatrix.vec3.dot(v1,this.direction),d2=_glMatrix.vec3.dot(v1,v1)-tca*tca,radius2=mRadius*mRadius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2),t0=tca-thc,t1=tca+thc;return t0<0&&t1<0?null:t0<0?this.at(t1):this.at(t0)}},{key:"distanceToPlane",value:function(mPlaneCenter,mNormal){_glMatrix.vec3.dot(mNormal,this.direction)}},{key:"intersectTriangle",value:function(mPA,mPB,mPC){var backfaceCulling=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_glMatrix.vec3.copy(a,mPA),_glMatrix.vec3.copy(b,mPB),_glMatrix.vec3.copy(c,mPC),_glMatrix.vec3.sub(edge1,b,a),_glMatrix.vec3.sub(edge2,c,a),_glMatrix.vec3.cross(normal,edge1,edge2);var DdN=_glMatrix.vec3.dot(this.direction,normal),sign=void 0;if(DdN>0){if(backfaceCulling)return null;sign=1}else{if(!(DdN<0))return null;sign=-1,DdN=-DdN}_glMatrix.vec3.sub(diff,this.origin,a),_glMatrix.vec3.cross(edge2,diff,edge2);var DdQxE2=sign*_glMatrix.vec3.dot(this.direction,edge2);if(DdQxE2<0)return null;_glMatrix.vec3.cross(edge1,edge1,diff);var DdE1xQ=sign*_glMatrix.vec3.dot(this.direction,edge1);if(DdE1xQ<0)return null;if(DdQxE2+DdE1xQ>DdN)return null;var Qdn=-sign*_glMatrix.vec3.dot(diff,normal);return Qdn<0?null:this.at(Qdn/DdN)}}]),Ray}();exports.default=Ray},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),Camera=function(){function Camera(){_classCallCheck(this,Camera),this._matrix=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create(),this._orientation=_glMatrix.mat4.create(),this._projection=_glMatrix.mat4.create(),this.position=vec3.create()}return _createClass(Camera,[{key:"lookAt",value:function(aEye,aCenter){var aUp=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1,0];this._eye=vec3.clone(aEye),this._center=vec3.clone(aCenter),vec3.copy(this.position,aEye),_glMatrix.mat4.identity(this._matrix),_glMatrix.mat4.lookAt(this._matrix,aEye,aCenter,aUp)}},{key:"setFromOrientation",value:function(x,y,z,w){_glMatrix.quat.set(this._quat,x,y,z,w),_glMatrix.mat4.fromQuat(this._orientation,this._quat),_glMatrix.mat4.translate(this._matrix,this._orientation,this.positionOffset)}},{key:"setProjection",value:function(mProj){this._projection=_glMatrix.mat4.clone(mProj)}},{key:"setView",value:function(mView){this._matrix=_glMatrix.mat4.clone(mView)}},{key:"setFromViewProj",value:function(mView,mProj){this.setView(mView),this.setProjection(mProj)}},{key:"matrix",get:function(){return this._matrix}},{key:"viewMatrix",get:function(){return this._matrix}},{key:"projection",get:function(){return this._projection}},{key:"projectionMatrix",get:function(){return this._projection}},{key:"eye",get:function(){return this._eye}},{key:"center",get:function(){return this._center}}]),Camera}();exports.default=Camera},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(15),_Camera3=_interopRequireDefault(_Camera2),_Ray=__webpack_require__(14),_Ray2=_interopRequireDefault(_Ray),_glMatrix=__webpack_require__(1),mInverseViewProj=_glMatrix.mat4.create(),cameraDir=_glMatrix.vec3.create(),CameraPerspective=function(_Camera){function CameraPerspective(){return _classCallCheck(this,CameraPerspective),_possibleConstructorReturn(this,(CameraPerspective.__proto__||Object.getPrototypeOf(CameraPerspective)).apply(this,arguments))}return _inherits(CameraPerspective,_Camera),_createClass(CameraPerspective,[{key:"setPerspective",value:function(mFov,mAspectRatio,mNear,mFar){this._fov=mFov,this._near=mNear,this._far=mFar,this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this._projection,mFov,mAspectRatio,mNear,mFar)}},{key:"setAspectRatio",value:function(mAspectRatio){this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this.projection,this._fov,mAspectRatio,this._near,this._far)}},{key:"generateRay",value:function(mScreenPosition,mRay){var proj=this.projectionMatrix,view=this.viewMatrix;return _glMatrix.mat4.multiply(mInverseViewProj,proj,view),_glMatrix.mat4.invert(mInverseViewProj,mInverseViewProj),_glMatrix.vec3.transformMat4(cameraDir,mScreenPosition,mInverseViewProj),_glMatrix.vec3.sub(cameraDir,cameraDir,this.position),_glMatrix.vec3.normalize(cameraDir,cameraDir),mRay?(mRay.origin=this.position,mRay.direction=cameraDir):mRay=new _Ray2.default(this.position,cameraDir),mRay}}]),CameraPerspective}(_Camera3.default);exports.default=CameraPerspective},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BinaryLoader=function(){function BinaryLoader(){var _this=this,isArrayBuffer=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,BinaryLoader),this._req=new XMLHttpRequest,this._req.addEventListener("load",function(e){return _this._onLoaded(e)}),this._req.addEventListener("progress",function(e){return _this._onProgress(e)}),isArrayBuffer&&(this._req.responseType="arraybuffer")}return _createClass(BinaryLoader,[{key:"load",value:function(url,callback){console.log("Loading : ",url),this._callback=callback,this._req.open("GET",url),this._req.send()}},{key:"_onLoaded",value:function(){this._callback(this._req.response)}},{key:"_onProgress",value:function(){}}]),BinaryLoader}();exports.default=BinaryLoader},function(module,exports){module.exports="// bigTriangle.vert\n\n#define SHADER_NAME BIG_TRIANGLE_VERTEX\n\nprecision mediump float;\n#define GLSLIFY 1\nattribute vec2 aPosition;\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTextureCoord = aPosition * .5 + .5;\n}"},function(module,exports){module.exports="// copy.frag\n\n#define SHADER_NAME COPY_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = texture2D(texture, vTextureCoord);\n}"},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat4(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out}function clone(a){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromValues(m00,m01,m02,m10,m11,m12,m20,m21,m22){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function set(out,m00,m01,m02,m10,m11,m12,m20,m21,m22){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function translate(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out}function rotate(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out}function scale(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=v[0],out[7]=v[1],out[8]=1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=-s,out[4]=c,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=v[1],out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat2d(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out}function normalFromMat4(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null}function projection(out,width,height){return out[0]=2/width,out[1]=0,out[2]=0,out[3]=0,out[4]=-2/height,out[5]=0,out[6]=-1,out[7]=1,out[8]=1,out}function str(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.fromMat4=fromMat4,exports.clone=clone,exports.copy=copy,exports.fromValues=fromValues,exports.set=set,exports.identity=identity,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.translate=translate,exports.rotate=rotate,exports.scale=scale,exports.fromTranslation=fromTranslation,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.fromMat2d=fromMat2d,exports.fromQuat=fromQuat,exports.normalFromMat4=normalFromMat4,exports.projection=projection,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=0,out[1]=0,out[2]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function length(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}function fromValues(x,y,z){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function set(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z}function squaredLength(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cross(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out}function hermite(out,a,b,c,d,t){var factorTimes2=t*t,factor1=factorTimes2*(2*t-3)+1,factor2=factorTimes2*(t-2)+t,factor3=factorTimes2*(t-1),factor4=factorTimes2*(3-2*t);return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function bezier(out,a,b,c,d,t){var inverseFactor=1-t,inverseFactorTimesTwo=inverseFactor*inverseFactor,factorTimes2=t*t,factor1=inverseFactorTimesTwo*inverseFactor,factor2=3*t*inverseFactorTimesTwo,factor3=3*factorTimes2*inverseFactor,factor4=factorTimes2*t;return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI,z=2*glMatrix.RANDOM()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out}function transformMat3(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out}function transformQuat(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out}function rotateX(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateY(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateZ(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function angle(a,b){var tempA=fromValues(a[0],a[1],a[2]),tempB=fromValues(b[0],b[1],b[2]);normalize(tempA,tempA),normalize(tempB,tempB);var cosine=dot(tempA,tempB);return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function str(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],b0=b[0],b1=b[1],b2=b[2];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=clone,exports.length=length,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.hermite=hermite,exports.bezier=bezier,exports.random=random,exports.transformMat4=transformMat4,exports.transformMat3=transformMat3,exports.transformQuat=transformQuat,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.angle=angle,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a}}()},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function fromValues(x,y,z,w){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function set(out,x,y,z,w){return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out[3]=a[3]*b[3],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out[3]=a[3]/b[3],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out[3]=Math.ceil(a[3]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out[3]=Math.floor(a[3]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out[3]=Math.min(a[3],b[3]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out[3]=Math.max(a[3],b[3]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out[3]=Math.round(a[3]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return x*x+y*y+z*z+w*w}function length(a){var x=a[0],y=a[1],z=a[2],w=a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function squaredLength(a){var x=a[0],y=a[1],z=a[2],w=a[3];return x*x+y*y+z*z+w*w}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=-a[3],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out[3]=1/a[3],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;return len>0&&(len=1/Math.sqrt(len),out[0]=x*len,out[1]=y*len,out[2]=z*len,out[3]=w*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out[3]=aw+t*(b[3]-aw),out}function random(out,vectorScale){return vectorScale=vectorScale||1,out[0]=glMatrix.RANDOM(),out[1]=glMatrix.RANDOM(),out[2]=glMatrix.RANDOM(),out[3]=glMatrix.RANDOM(),normalize(out,out),scale(out,out,vectorScale),out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out}function transformQuat(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out[3]=a[3],out}function str(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.lerp=lerp,exports.random=random,exports.transformMat4=transformMat4,exports.transformQuat=transformQuat,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=4),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],vec[3]=a[i+3],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2],a[i+3]=vec[3];return a}}()},function(module,exports,__webpack_require__){"use strict";module.exports={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,RED:6403,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0,R8:33321}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(gl,shaderProgram,name){return void 0===shaderProgram.cacheAttribLoc&&(shaderProgram.cacheAttribLoc={}),void 0===shaderProgram.cacheAttribLoc[name]&&(shaderProgram.cacheAttribLoc[name]=gl.getAttribLocation(shaderProgram,name)),shaderProgram.cacheAttribLoc[name]}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}function isSourcePowerOfTwo(obj){var w=obj.width||obj.videoWidth,h=obj.height||obj.videoHeight;return!(!w||!h)&&(isPowerOfTwo(w)&&isPowerOfTwo(h))}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_WebglNumber=__webpack_require__(8),gl=(_interopRequireDefault(_WebglNumber),void 0),GLTexture=function(){function GLTexture(mSource){var isTexture=arguments.length>1&&void 0!==arguments[1]&&arguments[1],mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,GLTexture),gl=_GLTool2.default.gl,isTexture)this._texture=mSource;else{this._mSource=mSource,this._texture=gl.createTexture(),this._isVideo="VIDEO"===mSource.tagName,this._premultiplyAlpha=!0,this._magFilter=mParameters.magFilter||gl.LINEAR,this._minFilter=mParameters.minFilter||gl.NEAREST_MIPMAP_LINEAR,this._wrapS=mParameters.wrapS||gl.MIRRORED_REPEAT,this._wrapT=mParameters.wrapT||gl.MIRRORED_REPEAT;mSource.width||mSource.videoWidth?isSourcePowerOfTwo(mSource)||(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)):(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),mSource.exposure?gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,mSource.shape[0],mSource.shape[1],0,gl.RGBA,gl.FLOAT,mSource.data):gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT);var ext=_GLTool2.default.getExtension("EXT_texture_filter_anisotropic");if(ext){var max=gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT);gl.texParameterf(gl.TEXTURE_2D,ext.TEXTURE_MAX_ANISOTROPY_EXT,max)}this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}}return _createClass(GLTexture,[{key:"generateMipmap",value:function(){this._canGenerateMipmap()&&(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null))}},{key:"updateTexture",value:function(mSource){mSource&&(this._mSource=mSource),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,this._mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"bind",value:function(index){void 0===index&&(index=0),_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_2D,this._texture),this._bindIndex=index)}},{key:"_canGenerateMipmap",value:function(){return this._minFilter===gl.LINEAR_MIPMAP_NEAREST||this._minFilter===gl.NEAREST_MIPMAP_LINEAR||this._minFilter===gl.LINEAR_MIPMAP_LINEAR||this._minFilter===gl.NEAREST_MIPMAP_NEAREST}},{key:"minFilter",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.LINEAR_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_NEAREST)return this;this._minFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._minFilter}},{key:"magFilter",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST)return this;this._magFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._magFilter}},{key:"wrapS",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapS=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapS}},{key:"wrapT",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapT=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapT}},{key:"premultiplyAlpha",set:function(mValue){this._premultiplyAlpha=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),console.log("premultiplyAlpha:",mValue),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._premultiplyAlpha}},{key:"texture",get:function(){return this._texture}}]),GLTexture}(),_whiteTexture=void 0,_greyTexture=void 0,_blackTexture=void 0;GLTexture.whiteTexture=function(){if(void 0===_whiteTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="#fff",ctx.fillRect(0,0,4,4),_whiteTexture=new GLTexture(canvas)}return _whiteTexture},GLTexture.greyTexture=function(){if(void 0===_greyTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,4,4),_greyTexture=new GLTexture(canvas)}return _greyTexture},GLTexture.blackTexture=function(){if(void 0===_blackTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,4,4),_blackTexture=new GLTexture(canvas)}return _blackTexture},exports.default=GLTexture},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}function getSourceType(mSource){var type=_GLTool2.default.UNSIGNED_BYTE;return mSource instanceof Array?type=_GLTool2.default.UNSIGNED_BYTE:mSource instanceof Uint8Array?type=_GLTool2.default.UNSIGNED_BYTE:mSource instanceof Float32Array?type=_GLTool2.default.FLOAT:mSource instanceof HTMLImageElement?type="image":mSource instanceof HTMLCanvasElement?type="canvas":mSource instanceof HTMLVideoElement&&(type="video"),type}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_getTextureParameters=__webpack_require__(54),_getTextureParameters2=_interopRequireDefault(_getTextureParameters),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),gl=void 0,GLTexture=function(){function GLTexture(mSource){var mParam=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_this=this,mWidth=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,mHeight=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;_classCallCheck(this,GLTexture),gl=_GLTool2.default.gl,this._source=mSource,this._getDimension(mSource,mWidth,mHeight),this._sourceType=mParam.type||getSourceType(mSource),this._checkSource(),this._texelType=this._getTexelType(),this._isTextureReady=!0,this._params=(0,_getTextureParameters2.default)(mParam,mSource,this._width,this._height),this._checkMipmap(),this._checkWrapping(),this._texture=gl.createTexture(),"video"===this._sourceType?(this._isTextureReady=!1,_scheduling2.default.addEF(function(){return _this._loop()})):this._uploadTexture()}return _createClass(GLTexture,[{key:"_loop",value:function(){4==this._source.readyState&&(this._isTextureReady=!0,this._uploadTexture())}},{key:"_uploadTexture",value:function(){if(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),this._isSourceHtmlElement()?gl.texImage2D(gl.TEXTURE_2D,0,this._params.internalFormat,this._params.format,this._texelType,this._source):gl.texImage2D(gl.TEXTURE_2D,0,this._params.internalFormat,this._width,this._height,0,this._params.format,this._texelType,this._source),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._params.magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._params.minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._params.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._params.wrapT),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._params.premultiplyAlpha),this._params.anisotropy>0){var ext=_GLTool2.default.getExtension("EXT_texture_filter_anisotropic");if(ext){var max=gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT),level=Math.min(max,this._params.anisotropy);gl.texParameterf(gl.TEXTURE_2D,ext.TEXTURE_MAX_ANISOTROPY_EXT,level)}}this._generateMipmap&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"bind",value:function(index){void 0===index&&(index=0),_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),this._isTextureReady?gl.bindTexture(gl.TEXTURE_2D,this._texture):gl.bindTexture(gl.TEXTURE_2D,GLTexture.blackTexture().texture),this._bindIndex=index)}},{key:"updateTexture",value:function(mSource){this._source=mSource,this._checkSource(),this._uploadTexture()}},{key:"generateMipmap",value:function(){this._generateMipmap&&(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null))}},{key:"showParameters",value:function(){console.log("Source type : ",_WebglNumber2.default[this._sourceType]||this._sourceType),console.log("Texel type:",_WebglNumber2.default[this.texelType]),console.log("Dimension :",this._width,this._height);for(var s in this._params)console.log(s,_WebglNumber2.default[this._params[s]]||this._params[s]);console.log("Mipmapping :",this._generateMipmap)}},{key:"_getDimension",value:function(mSource,mWidth,mHeight){mSource?(this._width=mSource.width||mSource.videoWidth,this._height=mSource.height||mSource.videoWidth,this._width=this._width||mWidth,this._height=this._height||mHeight,this._width&&this._height||(this._width=this._height=Math.sqrt(mSource.length/4))):(this._width=mWidth,this._height=mHeight)}},{key:"_checkSource",value:function(){this._source&&(this._sourceType===_GLTool2.default.UNSIGNED_BYTE?this._source instanceof Uint8Array||(this._source=new Uint8Array(this._source)):this._sourceType===_GLTool2.default.FLOAT&&(this._source instanceof Float32Array||(this._source=new Float32Array(this._source))))}},{key:"_getTexelType",value:function(){return this._isSourceHtmlElement()?_GLTool2.default.UNSIGNED_BYTE:_GLTool2.default[_WebglNumber2.default[this._sourceType]]||this._sourceType}},{key:"_checkMipmap",value:function(){this._generateMipmap=this._params.mipmap,isPowerOfTwo(this._width)&&isPowerOfTwo(this._height)||(this._generateMipmap=!1),-1==_WebglNumber2.default[this._params.minFilter].indexOf("MIPMAP")&&(this._generateMipmap=!1)}},{key:"_checkWrapping",value:function(){this._generateMipmap||(this._params.wrapS=_GLTool2.default.CLAMP_TO_EDGE,this._params.wrapT=_GLTool2.default.CLAMP_TO_EDGE)}},{key:"_isSourceHtmlElement",value:function(){return"image"===this._sourceType||"video"===this._sourceType||"canvas"===this._sourceType}},{key:"minFilter",get:function(){return this._params.minFilter},set:function(mValue){this._params.minFilter=mValue,this._checkMipmap(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._params.minFilter),gl.bindTexture(gl.TEXTURE_2D,null),this.generateMipmap()}},{key:"magFilter",get:function(){return this._params.minFilter},set:function(mValue){this._params.magFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._params.magFilter),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"wrapS",get:function(){return this._params.wrapS},set:function(mValue){this._params.wrapS=mValue,this._checkWrapping(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._params.wrapS),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"wrapT",get:function(){return this._params.wrapT},set:function(mValue){this._params.wrapT=mValue,this._checkWrapping(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._params.wrapT),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"texelType",get:function(){return this._texelType}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"texture",get:function(){return this._texture}},{key:"isTextureReady",get:function(){return this._isTextureReady}}]),GLTexture}(),_whiteTexture=void 0,_greyTexture=void 0,_blackTexture=void 0;GLTexture.whiteTexture=function(){if(void 0===_whiteTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=2;var ctx=canvas.getContext("2d");ctx.fillStyle="#fff",ctx.fillRect(0,0,2,2),_whiteTexture=new GLTexture(canvas)}return _whiteTexture},GLTexture.greyTexture=function(){if(void 0===_greyTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=2;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,2,2),_greyTexture=new GLTexture(canvas)}return _greyTexture},GLTexture.blackTexture=function(){if(void 0===_blackTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=2;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(0, 0, 0)",ctx.fillRect(0,0,2,2),_blackTexture=new GLTexture(canvas)}return _blackTexture},exports.default=GLTexture},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_parseDds=__webpack_require__(55),_parseDds2=_interopRequireDefault(_parseDds),gl=void 0,GLCubeTexture=function(){function GLCubeTexture(mSource){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isCubeTexture=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_classCallCheck(this,GLCubeTexture),gl=_GLTool2.default.gl,isCubeTexture)return void(this.texture=mSource);var hasMipmaps=mSource.length>6;mSource[0].mipmapCount&&(hasMipmaps=mSource[0].mipmapCount>1),this.texture=gl.createTexture(),this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR_MIPMAP_LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,hasMipmaps||this.minFilter!=gl.LINEAR_MIPMAP_LINEAR||(this.minFilter=gl.LINEAR),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture);var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],numLevels=1,index=0;if(numLevels=mSource.length/6,this.numLevels=numLevels,hasMipmaps)for(var j=0;j<6;j++)for(var i=0;i<numLevels;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),index=j*numLevels+i,mSource[index].shape?gl.texImage2D(targets[j],i,gl.RGBA,mSource[index].shape[0],mSource[index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[index].data):gl.texImage2D(targets[j],i,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);else{for(var _index=0,_j=0;_j<6;_j++)_index=_j*numLevels,gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),mSource[_index].shape?gl.texImage2D(targets[_j],0,gl.RGBA,mSource[_index].shape[0],mSource[_index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[_index].data):gl.texImage2D(targets[_j],0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[_index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);gl.generateMipmap(gl.TEXTURE_CUBE_MAP)}gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}return _createClass(GLCubeTexture,[{key:"bind",value:function(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.uniform1i(_GLTool2.default.shader.uniformTextures[index],index),this._bindIndex=index)}},{key:"unbind",value:function(){gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}}]),GLCubeTexture}();GLCubeTexture.parseDDS=function(mArrayBuffer){var ddsInfos=(0,_parseDds2.default)(mArrayBuffer),flags=ddsInfos.flags,header=new Int32Array(mArrayBuffer,0,31),mipmapCount=1;131072&flags&&(mipmapCount=Math.max(1,header[7]));var sources=ddsInfos.images.map(function(img){return{data:new Float32Array(mArrayBuffer.slice(img.offset,img.offset+img.length)),shape:img.shape,mipmapCount:mipmapCount}});return new GLCubeTexture(sources)},exports.default=GLCubeTexture},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),supportsCustomEvents=!0;try{document.createEvent("CustomEvent");null}catch(e){supportsCustomEvents=!1}var EventDispatcher=function(){function EventDispatcher(){_classCallCheck(this,EventDispatcher),this._eventListeners={}}return _createClass(EventDispatcher,[{key:"addEventListener",value:function(aEventType,aFunction){return null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={}),this._eventListeners[aEventType]||(this._eventListeners[aEventType]=[]),this._eventListeners[aEventType].push(aFunction),this}},{key:"on",value:function(aEventType,aFunction){return this.addEventListener(aEventType,aFunction)}},{key:"removeEventListener",value:function(aEventType,aFunction){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var currentArray=this._eventListeners[aEventType];if(void 0===currentArray)return this;for(var currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]===aFunction&&(currentArray.splice(i,1),i--,currentArrayLength--);return this}},{key:"off",value:function(aEventType,aFunction){return this.removeEventListener(aEventType,aFunction)}},{key:"dispatchEvent",value:function(aEvent){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var eventType=aEvent.type;try{null===aEvent.target&&(aEvent.target=this),aEvent.currentTarget=this}catch(theError){var newEvent={type:eventType,detail:aEvent.detail,dispatcher:this};return this.dispatchEvent(newEvent)}var currentEventListeners=this._eventListeners[eventType];if(null!==currentEventListeners&&void 0!==currentEventListeners)for(var currentArray=this._copyArray(currentEventListeners),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++){var currentFunction=currentArray[i];currentFunction.call(this,aEvent)}return this}},{key:"dispatchCustomEvent",value:function(aEventType,aDetail){var newEvent=void 0;return supportsCustomEvents?(newEvent=document.createEvent("CustomEvent"),newEvent.dispatcher=this,newEvent.initCustomEvent(aEventType,!1,!1,aDetail)):newEvent={type:aEventType,detail:aDetail,dispatcher:this},this.dispatchEvent(newEvent)}},{key:"trigger",value:function(aEventType,aDetail){return this.dispatchCustomEvent(aEventType,aDetail)}},{key:"_destroy",value:function(){if(null!==this._eventListeners){for(var objectName in this._eventListeners)if(this._eventListeners.hasOwnProperty(objectName)){for(var currentArray=this._eventListeners[objectName],currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=null;delete this._eventListeners[objectName]}this._eventListeners=null}}},{key:"_copyArray",value:function(aArray){for(var currentArray=new Array(aArray.length),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=aArray[i];return currentArray}}]),EventDispatcher}();exports.default=EventDispatcher},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_EaseNumber=__webpack_require__(13),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),_glMatrix=__webpack_require__(1),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},OrbitalControl=function(){function OrbitalControl(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mRadius=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;_classCallCheck(this,OrbitalControl),this._target=mTarget,this._listenerTarget=mListenerTarget,this._mouse={},this._preMouse={},this.center=_glMatrix.vec3.create(),this._up=_glMatrix.vec3.fromValues(0,1,0),this.radius=new _EaseNumber2.default(mRadius),this.position=_glMatrix.vec3.fromValues(0,0,this.radius.value),this.positionOffset=_glMatrix.vec3.create(),this._rx=new _EaseNumber2.default(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new _EaseNumber2.default(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this.sensitivity=1,this._wheelBind=function(e){return _this._onWheel(e)},this._downBind=function(e){return _this._onDown(e)},this._moveBind=function(e){return _this._onMove(e)},this._upBind=function(){return _this._onUp()},this.connect(),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(OrbitalControl,[{key:"connect",value:function(){this.disconnect(),this._listenerTarget.addEventListener("mousewheel",this._wheelBind),this._listenerTarget.addEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.addEventListener("mousedown",this._downBind),this._listenerTarget.addEventListener("touchstart",this._downBind),this._listenerTarget.addEventListener("mousemove",this._moveBind),this._listenerTarget.addEventListener("touchmove",this._moveBind),window.addEventListener("touchend",this._upBind),window.addEventListener("mouseup",this._upBind)}},{key:"disconnect",value:function(){this._listenerTarget.removeEventListener("mousewheel",this._wheelBind),this._listenerTarget.removeEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.removeEventListener("mousedown",this._downBind),this._listenerTarget.removeEventListener("touchstart",this._downBind),this._listenerTarget.removeEventListener("mousemove",this._moveBind),this._listenerTarget.removeEventListener("touchmove",this._moveBind),window.removeEventListener("touchend",this._upBind),window.removeEventListener("mouseup",this._upBind)}},{key:"lock",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue,this._isLockRotation=mValue,this._isMouseDown=!1}},{key:"lockZoom",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue}},{key:"lockRotation",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockRotation=mValue}},{key:"inverseControl",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:"_onDown",value:function(mEvent){this._isLockRotation||(this._isMouseDown=!0,getMouse(mEvent,this._mouse),getMouse(mEvent,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}},{key:"_onMove",value:function(mEvent){if(!this._isLockRotation&&(getMouse(mEvent,this._mouse),mEvent.touches&&mEvent.preventDefault(),this._isMouseDown)){var diffX=-(this._mouse.x-this._preMouse.x);this._isInvert&&(diffX*=-1),this._ry.value=this._preRY-.01*diffX*this.sensitivity;var diffY=-(this._mouse.y-this._preMouse.y);this._isInvert&&(diffY*=-1),this._rx.value=this._preRX-.01*diffY*this.sensitivity}}},{key:"_onUp",value:function(){this._isLockRotation||(this._isMouseDown=!1)}},{key:"_onWheel",value:function(mEvent){if(!this._isLockZoom){var w=mEvent.wheelDelta,d=mEvent.detail,value=0;value=d?w?w/d/40*d>0?1:-1:-d/3:w/120,this.radius.add(2*-value)}}},{key:"_loop",value:function(){this._updatePosition(),this._target&&this._updateCamera()}},{key:"_updatePosition",value:function(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;var tr=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*tr,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*tr,_glMatrix.vec3.add(this.position,this.position,this.positionOffset)}},{key:"_updateCamera",value:function(){this._target.lookAt(this.position,this.center,this._up)}},{key:"rx",get:function(){return this._rx}},{key:"ry",get:function(){return this._ry}}]),OrbitalControl}();exports.default=OrbitalControl},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(15),_Camera3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Camera2),_glMatrix=__webpack_require__(1),CameraOrtho=function(_Camera){function CameraOrtho(){_classCallCheck(this,CameraOrtho);var _this=_possibleConstructorReturn(this,(CameraOrtho.__proto__||Object.getPrototypeOf(CameraOrtho)).call(this)),eye=_glMatrix.vec3.clone([0,0,15]),center=_glMatrix.vec3.create(),up=_glMatrix.vec3.clone([0,-1,0]);return _this.lookAt(eye,center,up),_this.ortho(1,-1,1,-1),_this}return _inherits(CameraOrtho,_Camera),_createClass(CameraOrtho,[{key:"setBoundary",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.ortho(left,right,top,bottom,near,far)}},{key:"ortho",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.left=left,this.right=right,this.top=top,this.bottom=bottom,mat4.ortho(this._projection,left,right,top,bottom,near,far)}}]),CameraOrtho}(_Camera3.default);exports.default=CameraOrtho},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),Object3D=function(){function Object3D(){_classCallCheck(this,Object3D),this._needUpdate=!0,this._x=0,this._y=0,this._z=0,this._sx=1,this._sy=1,this._sz=1,this._rx=0,this._ry=0,this._rz=0,this._position=_glMatrix.vec3.create(),this._scale=_glMatrix.vec3.fromValues(1,1,1),this._rotation=_glMatrix.vec3.create(),this._matrix=_glMatrix.mat4.create(),this._matrixRotation=_glMatrix.mat4.create(),this._matrixScale=_glMatrix.mat4.create(),this._matrixTranslation=_glMatrix.mat4.create(),this._matrixQuaternion=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create()}return _createClass(Object3D,[{key:"_update",value:function(){_glMatrix.vec3.set(this._scale,this._sx,this._sy,this._sz),_glMatrix.vec3.set(this._rotation,this._rx,this._ry,this._rz),_glMatrix.vec3.set(this._position,this._x,this._y,this._z),_glMatrix.mat4.identity(this._matrixTranslation,this._matrixTranslation),_glMatrix.mat4.identity(this._matrixScale,this._matrixScale),_glMatrix.mat4.identity(this._matrixRotation,this._matrixRotation),_glMatrix.mat4.rotateX(this._matrixRotation,this._matrixRotation,this._rx),_glMatrix.mat4.rotateY(this._matrixRotation,this._matrixRotation,this._ry),_glMatrix.mat4.rotateZ(this._matrixRotation,this._matrixRotation,this._rz),_glMatrix.mat4.fromQuat(this._matrixQuaternion,this._quat),_glMatrix.mat4.mul(this._matrixRotation,this._matrixQuaternion,this._matrixRotation),_glMatrix.mat4.scale(this._matrixScale,this._matrixScale,this._scale),_glMatrix.mat4.translate(this._matrixTranslation,this._matrixTranslation,this._position),_glMatrix.mat4.mul(this._matrix,this._matrixTranslation,this._matrixRotation),_glMatrix.mat4.mul(this._matrix,this._matrix,this._matrixScale),this._needUpdate=!1}},{key:"setRotationFromQuaternion",value:function(mQuat){_glMatrix.quat.copy(this._quat,mQuat),this._needUpdate=!0}},{key:"matrix",get:function(){return this._needUpdate&&this._update(),this._matrix}},{key:"x",get:function(){return this._x},set:function(mValue){this._needUpdate=!0,this._x=mValue}},{key:"y",get:function(){return this._y},set:function(mValue){this._needUpdate=!0,this._y=mValue}},{key:"z",get:function(){return this._z},set:function(mValue){this._needUpdate=!0,this._z=mValue}},{key:"scaleX",get:function(){return this._sx},set:function(mValue){this._needUpdate=!0,this._sx=mValue}},{key:"scaleY",get:function(){return this._sy},set:function(mValue){this._needUpdate=!0,this._sy=mValue}},{key:"scaleZ",get:function(){return this._sz},set:function(mValue){this._needUpdate=!0,this._sz=mValue}},{key:"rotationX",get:function(){return this._rx},set:function(mValue){this._needUpdate=!0,this._rx=mValue}},{key:"rotationY",get:function(){return this._ry},set:function(mValue){this._needUpdate=!0,this._ry=mValue}},{key:"rotationZ",get:function(){return this._rz},set:function(mValue){this._needUpdate=!0,this._rz=mValue}}]),Object3D}();exports.default=Object3D},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _simpleColor=__webpack_require__(10),_simpleColor2=_interopRequireDefault(_simpleColor),_bigTriangle=__webpack_require__(18),_bigTriangle2=_interopRequireDefault(_bigTriangle),_general=__webpack_require__(33),_general2=_interopRequireDefault(_general),_copy=__webpack_require__(19),_copy2=_interopRequireDefault(_copy),_basic=__webpack_require__(11),_basic2=_interopRequireDefault(_basic),_skybox=__webpack_require__(34),_skybox2=_interopRequireDefault(_skybox),_skybox3=__webpack_require__(35),_skybox4=_interopRequireDefault(_skybox3),ShaderLibs={simpleColorFrag:_simpleColor2.default,bigTriangleVert:_bigTriangle2.default,generalVert:_general2.default,copyFrag:_copy2.default,basicVert:_basic2.default,skyboxVert:_skybox2.default,skyboxFrag:_skybox4.default};exports.default=ShaderLibs},function(module,exports){module.exports="// generalWithNormal.vert\n\n#define SHADER_NAME GENERAL_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec3 position;\nuniform vec3 scale;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 pos      = aVertexPosition * scale;\n\tpos           += position;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\t\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = normalize(uNormalMatrix * aNormal);\n}"},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME SKYBOX_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n\tgl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n\tvTextureCoord = aTextureCoord;\n\t\n\tvVertex = aVertexPosition;\n\tvNormal = aNormal;\n}"},function(module,exports){module.exports="// basic.frag\n\n#define SHADER_NAME SKYBOX_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\nuniform samplerCube texture;\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\n\nvoid main(void) {\n    gl_FragColor = textureCube(texture, vVertex);\n}"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PassMacro=function(){function PassMacro(){_classCallCheck(this,PassMacro),this._passes=[]}return _createClass(PassMacro,[{key:"addPass",value:function(pass){this._passes.push(pass)}},{key:"passes",get:function(){return this._passes}}]),PassMacro}();exports.default=PassMacro},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _PassBlurBase2=__webpack_require__(38),_PassBlurBase3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_PassBlurBase2),PassVBlur=function(_PassBlurBase){function PassVBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];return _classCallCheck(this,PassVBlur),_possibleConstructorReturn(this,(PassVBlur.__proto__||Object.getPrototypeOf(PassVBlur)).call(this,mQuality,[0,1],mWidth,mHeight,mParams))}return _inherits(PassVBlur,_PassBlurBase),PassVBlur}(_PassBlurBase3.default);exports.default=PassVBlur},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Pass2=__webpack_require__(9),_Pass3=_interopRequireDefault(_Pass2),fsBlur5=__webpack_require__(73),fsBlur9=__webpack_require__(74),fsBlur13=__webpack_require__(75),PassBlurBase=function(_Pass){function PassBlurBase(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mDirection=arguments[1],mWidth=arguments[2],mHeight=arguments[3],mParams=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};_classCallCheck(this,PassBlurBase);var fs=void 0;switch(mQuality){case 5:default:fs=fsBlur5;break;case 9:fs=fsBlur9;break;case 13:fs=fsBlur13}var _this=_possibleConstructorReturn(this,(PassBlurBase.__proto__||Object.getPrototypeOf(PassBlurBase)).call(this,fs,mWidth,mHeight,mParams));return _this.uniform("uDirection",mDirection),_this.uniform("uResolution",[_GLTool2.default.width,_GLTool2.default.height]),_this}return _inherits(PassBlurBase,_Pass),PassBlurBase}(_Pass3.default);exports.default=PassBlurBase},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _PassBlurBase2=__webpack_require__(38),_PassBlurBase3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_PassBlurBase2),PassHBlur=function(_PassBlurBase){function PassHBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];return _classCallCheck(this,PassHBlur),_possibleConstructorReturn(this,(PassHBlur.__proto__||Object.getPrototypeOf(PassHBlur)).call(this,mQuality,[1,0],mWidth,mHeight,mParams))}return _inherits(PassHBlur,_PassBlurBase),PassHBlur}(_PassBlurBase3.default);exports.default=PassHBlur},function(module,exports){module.exports="// fxaa.frag\n\n#define SHADER_NAME FXAA\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uResolution;\n\n\nfloat FXAA_SUBPIX_SHIFT = 1.0/4.0;\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#define FXAA_SPAN_MAX     8.0\n\n\nvec4 applyFXAA(sampler2D tex) {\n    vec4 color;\n    vec2 fragCoord = gl_FragCoord.xy;\n    vec3 rgbNW = texture2D(tex, (fragCoord + vec2(-1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbNE = texture2D(tex, (fragCoord + vec2(1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbSW = texture2D(tex, (fragCoord + vec2(-1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbSE = texture2D(tex, (fragCoord + vec2(1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbM  = texture2D(tex, fragCoord  * uResolution).xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * uResolution;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * uResolution + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * uResolution + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, 1.0);\n    else\n        color = vec4(rgbB, 1.0);\n    return color;\n}\n\nvoid main(void) {\n \tvec4 color = applyFXAA(texture);\n    gl_FragColor = color;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShaderLibs=exports.View3D=exports.View=exports.Scene=exports.BatchFXAA=exports.BatchSky=exports.BatchSkybox=exports.BatchLine=exports.BatchDotsPlane=exports.BatchBall=exports.BatchAxis=exports.BatchCopy=exports.PassFxaa=exports.PassHBlur=exports.PassVBlur=exports.PassBlur=exports.PassMacro=exports.Pass=exports.EffectComposer=exports.ColladaParser=exports.HDRLoader=exports.ObjLoader=exports.BinaryLoader=exports.Object3D=exports.Ray=exports.CameraCube=exports.CameraPerspective=exports.CameraOrtho=exports.Camera=exports.TouchDetector=exports.QuatRotation=exports.WebglNumber=exports.OrbitalControl=exports.TweenNumber=exports.EaseNumber=exports.EventDispatcher=exports.Scheduler=exports.TransformFeedbackObject=exports.MultisampleFrameBuffer=exports.CubeFrameBuffer=exports.FrameBuffer=exports.Batch=exports.Geom=exports.Mesh=exports.GLCubeTexture=exports.GLTextureOld=exports.GLTexture=exports.GLShader=exports.GL=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),GLM=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_glMatrix),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_GLTexture=__webpack_require__(25),_GLTexture2=_interopRequireDefault(_GLTexture),_GLTexture3=__webpack_require__(26),_GLTexture4=_interopRequireDefault(_GLTexture3),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_Batch=__webpack_require__(4),_Batch2=_interopRequireDefault(_Batch),_FrameBuffer=__webpack_require__(12),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),_CubeFrameBuffer=__webpack_require__(56),_CubeFrameBuffer2=_interopRequireDefault(_CubeFrameBuffer),_MultisampleFrameBuffer=__webpack_require__(57),_MultisampleFrameBuffer2=_interopRequireDefault(_MultisampleFrameBuffer),_TransformFeedbackObject=__webpack_require__(58),_TransformFeedbackObject2=_interopRequireDefault(_TransformFeedbackObject),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),_EventDispatcher=__webpack_require__(28),_EventDispatcher2=_interopRequireDefault(_EventDispatcher),_EaseNumber=__webpack_require__(13),_EaseNumber2=_interopRequireDefault(_EaseNumber),_TweenNumber=__webpack_require__(59),_TweenNumber2=_interopRequireDefault(_TweenNumber),_OrbitalControl=__webpack_require__(29),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),_QuatRotation=__webpack_require__(60),_QuatRotation2=_interopRequireDefault(_QuatRotation),_TouchDetector=__webpack_require__(61),_TouchDetector2=_interopRequireDefault(_TouchDetector),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),_WebglConst=__webpack_require__(23),_Camera=(_interopRequireDefault(_WebglConst),__webpack_require__(15)),_Camera2=_interopRequireDefault(_Camera),_CameraOrtho=__webpack_require__(30),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_CameraPerspective=__webpack_require__(16),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraCube=__webpack_require__(63),_CameraCube2=_interopRequireDefault(_CameraCube),_Ray=__webpack_require__(14),_Ray2=_interopRequireDefault(_Ray),_Object3D=__webpack_require__(31),_Object3D2=_interopRequireDefault(_Object3D),_BinaryLoader=__webpack_require__(17),_BinaryLoader2=_interopRequireDefault(_BinaryLoader),_ObjLoader=__webpack_require__(64),_ObjLoader2=_interopRequireDefault(_ObjLoader),_HDRLoader=__webpack_require__(65),_HDRLoader2=_interopRequireDefault(_HDRLoader),_ColladaParser=__webpack_require__(67),_ColladaParser2=_interopRequireDefault(_ColladaParser),_EffectComposer=__webpack_require__(71),_EffectComposer2=_interopRequireDefault(_EffectComposer),_Pass=__webpack_require__(9),_Pass2=_interopRequireDefault(_Pass),_PassMacro=__webpack_require__(36),_PassMacro2=_interopRequireDefault(_PassMacro),_PassBlur=__webpack_require__(72),_PassBlur2=_interopRequireDefault(_PassBlur),_PassVBlur=__webpack_require__(37),_PassVBlur2=_interopRequireDefault(_PassVBlur),_PassHBlur=__webpack_require__(39),_PassHBlur2=_interopRequireDefault(_PassHBlur),_PassFxaa=__webpack_require__(76),_PassFxaa2=_interopRequireDefault(_PassFxaa),_BatchCopy=__webpack_require__(77),_BatchCopy2=_interopRequireDefault(_BatchCopy),_BatchAxis=__webpack_require__(78),_BatchAxis2=_interopRequireDefault(_BatchAxis),_BatchBall=__webpack_require__(81),_BatchBall2=_interopRequireDefault(_BatchBall),_BatchDotsPlane=__webpack_require__(82),_BatchDotsPlane2=_interopRequireDefault(_BatchDotsPlane),_BatchLine=__webpack_require__(84),_BatchLine2=_interopRequireDefault(_BatchLine),_BatchSkybox=__webpack_require__(85),_BatchSkybox2=_interopRequireDefault(_BatchSkybox),_BatchSky=__webpack_require__(86),_BatchSky2=_interopRequireDefault(_BatchSky),_BatchFXAA=__webpack_require__(88),_BatchFXAA2=_interopRequireDefault(_BatchFXAA),_Scene=__webpack_require__(89),_Scene2=_interopRequireDefault(_Scene),_View=__webpack_require__(90),_View2=_interopRequireDefault(_View),_View3D=__webpack_require__(91),_View3D2=_interopRequireDefault(_View3D),_ShaderLibs=__webpack_require__(32),_ShaderLibs2=_interopRequireDefault(_ShaderLibs),Alfrid=function(){function Alfrid(){_classCallCheck(this,Alfrid),this.glm=GLM,this.GL=_GLTool2.default,this.GLTool=_GLTool2.default,this.GLShader=_GLShader2.default,this.GLTexture=_GLTexture4.default,this.GLTextureOld=_GLTexture2.default,this.GLCubeTexture=_GLCubeTexture2.default,this.Mesh=_Mesh2.default,this.Geom=_Geom2.default,this.Batch=_Batch2.default,this.FrameBuffer=_FrameBuffer2.default,this.CubeFrameBuffer=_CubeFrameBuffer2.default,this.Scheduler=_scheduling2.default,this.EventDispatcher=_EventDispatcher2.default,this.EaseNumber=_EaseNumber2.default,this.TweenNumber=_TweenNumber2.default,this.Camera=_Camera2.default,this.CameraOrtho=_CameraOrtho2.default,this.CameraPerspective=_CameraPerspective2.default,this.Ray=_Ray2.default,this.CameraCube=_CameraCube2.default,this.OrbitalControl=_OrbitalControl2.default,this.QuatRotation=_QuatRotation2.default,this.BinaryLoader=_BinaryLoader2.default,this.ObjLoader=_ObjLoader2.default,this.ColladaParser=_ColladaParser2.default,this.HDRLoader=_HDRLoader2.default,this.BatchCopy=_BatchCopy2.default,this.BatchAxis=_BatchAxis2.default,this.BatchBall=_BatchBall2.default,this.BatchBall=_BatchBall2.default,this.BatchLine=_BatchLine2.default,this.BatchSkybox=_BatchSkybox2.default,this.BatchSky=_BatchSky2.default,this.BatchFXAA=_BatchFXAA2.default,this.BatchDotsPlane=_BatchDotsPlane2.default,this.Scene=_Scene2.default,this.View=_View2.default,this.View3D=_View3D2.default,this.Object3D=_Object3D2.default,this.ShaderLibs=_ShaderLibs2.default,this.WebglNumber=_WebglNumber2.default,this.EffectComposer=_EffectComposer2.default,this.Pass=_Pass2.default,this.PassMacro=_PassMacro2.default,this.PassBlur=_PassBlur2.default,this.PassVBlur=_PassVBlur2.default,this.PassHBlur=_PassHBlur2.default,this.PassFxaa=_PassFxaa2.default,this.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,this.TransformFeedbackObject=_TransformFeedbackObject2.default;for(var s in GLM)GLM[s]&&(window[s]=GLM[s])}return _createClass(Alfrid,[{key:"log",value:function(){navigator.userAgent.indexOf("Chrome")>-1?console.log("%clib alfrid : VERSION 0.2.0","background: #193441; color: #FCFFF5"):console.log("lib alfrid : VERSION ","0.2.0"),console.log("%cClasses : ","color: #193441");for(var s in this)this[s]&&console.log("%c - "+s,"color: #3E606F")}}]),Alfrid}(),al=new Alfrid;exports.default=al,exports.GL=_GLTool2.default,exports.GLShader=_GLShader2.default,exports.GLTexture=_GLTexture4.default,exports.GLTextureOld=_GLTexture2.default,exports.GLCubeTexture=_GLCubeTexture2.default,exports.Mesh=_Mesh2.default,exports.Geom=_Geom2.default,exports.Batch=_Batch2.default,exports.FrameBuffer=_FrameBuffer2.default,exports.CubeFrameBuffer=_CubeFrameBuffer2.default,exports.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,exports.TransformFeedbackObject=_TransformFeedbackObject2.default,exports.Scheduler=_scheduling2.default,exports.EventDispatcher=_EventDispatcher2.default,exports.EaseNumber=_EaseNumber2.default,exports.TweenNumber=_TweenNumber2.default,exports.OrbitalControl=_OrbitalControl2.default,exports.WebglNumber=_WebglNumber2.default,exports.QuatRotation=_QuatRotation2.default,exports.TouchDetector=_TouchDetector2.default,exports.Camera=_Camera2.default,exports.CameraOrtho=_CameraOrtho2.default,exports.CameraPerspective=_CameraPerspective2.default,exports.CameraCube=_CameraCube2.default,exports.Ray=_Ray2.default,exports.Object3D=_Object3D2.default,exports.BinaryLoader=_BinaryLoader2.default,exports.ObjLoader=_ObjLoader2.default,exports.HDRLoader=_HDRLoader2.default,exports.ColladaParser=_ColladaParser2.default,exports.EffectComposer=_EffectComposer2.default,exports.Pass=_Pass2.default,exports.PassMacro=_PassMacro2.default,exports.PassBlur=_PassBlur2.default,exports.PassVBlur=_PassVBlur2.default,exports.PassHBlur=_PassHBlur2.default,exports.PassFxaa=_PassFxaa2.default,exports.BatchCopy=_BatchCopy2.default,exports.BatchAxis=_BatchAxis2.default,exports.BatchBall=_BatchBall2.default,exports.BatchDotsPlane=_BatchDotsPlane2.default,exports.BatchLine=_BatchLine2.default,exports.BatchSkybox=_BatchSkybox2.default,exports.BatchSky=_BatchSky2.default,exports.BatchFXAA=_BatchFXAA2.default,exports.Scene=_Scene2.default,exports.View=_View2.default,exports.View3D=_View3D2.default,exports.ShaderLibs=_ShaderLibs2.default},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out}function fromValues(m00,m01,m10,m11){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function set(out,m00,m01,m10,m11){return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function transpose(out,a){if(out===a){var a1=a[1];out[1]=a[2],out[2]=a1}else out[0]=a[0],out[1]=a[2],out[2]=a[1],out[3]=a[3];return out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],det=a0*a3-a2*a1;return det?(det=1/det,out[0]=a3*det,out[1]=-a1*det,out[2]=-a2*det,out[3]=a0*det,out):null}function adjoint(out,a){var a0=a[0];return out[0]=a[3],out[1]=-a[1],out[2]=-a[2],out[3]=a0,out}function determinant(a){return a[0]*a[3]-a[2]*a[1]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out}function scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out}function str(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))}function LDU(L,D,U,a){return L[2]=a[2]/a[0],U[0]=a[0],U[1]=a[1],U[3]=a[3]-L[2]*U[1],[L,D,U]}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.identity=identity,exports.fromValues=fromValues,exports.set=set,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.rotate=rotate,exports.scale=scale,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.str=str,exports.frob=frob,exports.LDU=LDU,exports.add=add,exports.subtract=subtract,exports.exactEquals=exactEquals,exports.equals=equals,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function fromValues(a,b,c,d,tx,ty){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function set(out,a,b,c,d,tx,ty){return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function invert(out,a){var aa=a[0],ab=a[1],ac=a[2],ad=a[3],atx=a[4],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}function determinant(a){return a[0]*a[3]-a[1]*a[2]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out[4]=a0*b4+a2*b5+a4,out[5]=a1*b4+a3*b5+a5,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out[4]=a4,out[5]=a5,out}function scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out[4]=a4,out[5]=a5,out}function translate(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=a0*v0+a2*v1+a4,out[5]=a1*v0+a3*v1+a5,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out[4]=0,out[5]=0,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out[4]=0,out[5]=0,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=v[0],out[5]=v[1],out}function str(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.identity=identity,exports.fromValues=fromValues,exports.set=set,exports.invert=invert,exports.determinant=determinant,exports.multiply=multiply,exports.rotate=rotate,exports.scale=scale,exports.translate=translate,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.fromTranslation=fromTranslation,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function fromValues(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function set(out,m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return out[0]=a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),out[1]=-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),out[2]=a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),out[3]=-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),out[4]=-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),out[5]=a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),out[6]=-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),out[7]=a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),out[8]=a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),out[9]=-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),out[10]=a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),out[11]=-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),out[12]=-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),out[13]=a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),out[14]=-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),out[15]=a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11),out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}function translate(out,a,v){var x=v[0],y=v[1],z=v[2],a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0;return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out}function scale(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function rotate(out,a,rad,axis){var x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z),s=void 0,c=void 0,t=void 0,a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0,b00=void 0,b01=void 0,b02=void 0,b10=void 0,b11=void 0,b12=void 0,b20=void 0,b21=void 0,b22=void 0;return Math.abs(len)<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out)}function rotateX(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out}function rotateY(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out}function rotateZ(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=v[1],out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=v[2],out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotation(out,rad,axis){var x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z),s=void 0,c=void 0,t=void 0;return Math.abs(len)<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,out[0]=x*x*t+c,out[1]=y*x*t+z*s,out[2]=z*x*t-y*s,out[3]=0,out[4]=x*y*t-z*s,out[5]=y*y*t+c,out[6]=z*y*t+x*s,out[7]=0,out[8]=x*z*t+y*s,out[9]=y*z*t-x*s,out[10]=z*z*t+c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out)}function fromXRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=c,out[6]=s,out[7]=0,out[8]=0,out[9]=-s,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromYRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=0,out[2]=-s,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=s,out[9]=0,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromZRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=0,out[4]=-s,out[5]=c,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotationTranslation(out,q,v){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-(yy+zz),out[1]=xy+wz,out[2]=xz-wy,out[3]=0,out[4]=xy-wz,out[5]=1-(xx+zz),out[6]=yz+wx,out[7]=0,out[8]=xz+wy,out[9]=yz-wx,out[10]=1-(xx+yy),out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function getTranslation(out,mat){return out[0]=mat[12],out[1]=mat[13],out[2]=mat[14],out}function getScaling(out,mat){var m11=mat[0],m12=mat[1],m13=mat[2],m21=mat[4],m22=mat[5],m23=mat[6],m31=mat[8],m32=mat[9],m33=mat[10];return out[0]=Math.sqrt(m11*m11+m12*m12+m13*m13),out[1]=Math.sqrt(m21*m21+m22*m22+m23*m23),out[2]=Math.sqrt(m31*m31+m32*m32+m33*m33),out}function getRotation(out,mat){var trace=mat[0]+mat[5]+mat[10],S=0;return trace>0?(S=2*Math.sqrt(trace+1),out[3]=.25*S,out[0]=(mat[6]-mat[9])/S,out[1]=(mat[8]-mat[2])/S,out[2]=(mat[1]-mat[4])/S):mat[0]>mat[5]&mat[0]>mat[10]?(S=2*Math.sqrt(1+mat[0]-mat[5]-mat[10]),out[3]=(mat[6]-mat[9])/S,out[0]=.25*S,out[1]=(mat[1]+mat[4])/S,out[2]=(mat[8]+mat[2])/S):mat[5]>mat[10]?(S=2*Math.sqrt(1+mat[5]-mat[0]-mat[10]),out[3]=(mat[8]-mat[2])/S,out[0]=(mat[1]+mat[4])/S,out[1]=.25*S,out[2]=(mat[6]+mat[9])/S):(S=2*Math.sqrt(1+mat[10]-mat[0]-mat[5]),out[3]=(mat[1]-mat[4])/S,out[0]=(mat[8]+mat[2])/S,out[1]=(mat[6]+mat[9])/S,out[2]=.25*S),out}function fromRotationTranslationScale(out,q,v,s){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromRotationTranslationScaleOrigin(out,q,v,s,o){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2],ox=o[0],oy=o[1],oz=o[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0]+ox-(out[0]*ox+out[4]*oy+out[8]*oz),out[13]=v[1]+oy-(out[1]*ox+out[5]*oy+out[9]*oz),out[14]=v[2]+oz-(out[2]*ox+out[6]*oy+out[10]*oz),out[15]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function frustum(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out}function perspective(out,fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=1/(near-far);return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=2*far*near*nf,out[15]=0,out}function perspectiveFromFieldOfView(out,fov,near,far){var upTan=Math.tan(fov.upDegrees*Math.PI/180),downTan=Math.tan(fov.downDegrees*Math.PI/180),leftTan=Math.tan(fov.leftDegrees*Math.PI/180),rightTan=Math.tan(fov.rightDegrees*Math.PI/180),xScale=2/(leftTan+rightTan),yScale=2/(upTan+downTan);return out[0]=xScale,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=yScale,out[6]=0,out[7]=0,out[8]=-(leftTan-rightTan)*xScale*.5,out[9]=(upTan-downTan)*yScale*.5,out[10]=far/(near-far),out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near/(near-far),out[15]=0,out}function ortho(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out}function lookAt(out,eye,center,up){var x0=void 0,x1=void 0,x2=void 0,y0=void 0,y1=void 0,y2=void 0,z0=void 0,z1=void 0,z2=void 0,len=void 0,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<glMatrix.EPSILON&&Math.abs(eyey-centery)<glMatrix.EPSILON&&Math.abs(eyez-centerz)<glMatrix.EPSILON?mat4.identity(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,len=1/Math.sqrt(z0*z0+z1*z1+z2*z2),z0*=len,z1*=len,z2*=len,x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0,len=Math.sqrt(x0*x0+x1*x1+x2*x2),len?(len=1/len,x0*=len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,len=Math.sqrt(y0*y0+y1*y1+y2*y2),len?(len=1/len,y0*=len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)}function targetTo(out,eye,target,up){var eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],z0=eyex-target[0],z1=eyey-target[1],z2=eyez-target[2],len=z0*z0+z1*z1+z2*z2;len>0&&(len=1/Math.sqrt(len),z0*=len,z1*=len,z2*=len);var x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0;return out[0]=x0,out[1]=x1,out[2]=x2,out[3]=0,out[4]=z1*x2-z2*x1,out[5]=z2*x0-z0*x2,out[6]=z0*x1-z1*x0,out[7]=0,out[8]=z0,out[9]=z1,out[10]=z2,out[11]=0,out[12]=eyex,out[13]=eyey,out[14]=eyez,out[15]=1,out}function str(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out[9]=a[9]+b[9],out[10]=a[10]+b[10],out[11]=a[11]+b[11],out[12]=a[12]+b[12],out[13]=a[13]+b[13],out[14]=a[14]+b[14],out[15]=a[15]+b[15],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out[9]=a[9]-b[9],out[10]=a[10]-b[10],out[11]=a[11]-b[11],out[12]=a[12]-b[12],out[13]=a[13]-b[13],out[14]=a[14]-b[14],out[15]=a[15]-b[15],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out[9]=a[9]*b,out[10]=a[10]*b,out[11]=a[11]*b,out[12]=a[12]*b,out[13]=a[13]*b,out[14]=a[14]*b,out[15]=a[15]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out[9]=a[9]+b[9]*scale,out[10]=a[10]+b[10]*scale,out[11]=a[11]+b[11]*scale,out[12]=a[12]+b[12]*scale,out[13]=a[13]+b[13]*scale,out[14]=a[14]+b[14]*scale,out[15]=a[15]+b[15]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],a9=a[9],a10=a[10],a11=a[11],a12=a[12],a13=a[13],a14=a[14],a15=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))&&Math.abs(a9-b9)<=glMatrix.EPSILON*Math.max(1,Math.abs(a9),Math.abs(b9))&&Math.abs(a10-b10)<=glMatrix.EPSILON*Math.max(1,Math.abs(a10),Math.abs(b10))&&Math.abs(a11-b11)<=glMatrix.EPSILON*Math.max(1,Math.abs(a11),Math.abs(b11))&&Math.abs(a12-b12)<=glMatrix.EPSILON*Math.max(1,Math.abs(a12),Math.abs(b12))&&Math.abs(a13-b13)<=glMatrix.EPSILON*Math.max(1,Math.abs(a13),Math.abs(b13))&&Math.abs(a14-b14)<=glMatrix.EPSILON*Math.max(1,Math.abs(a14),Math.abs(b14))&&Math.abs(a15-b15)<=glMatrix.EPSILON*Math.max(1,Math.abs(a15),Math.abs(b15))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.fromValues=fromValues,exports.set=set,exports.identity=identity,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.translate=translate,exports.scale=scale,exports.rotate=rotate,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.fromTranslation=fromTranslation,exports.fromScaling=fromScaling,exports.fromRotation=fromRotation,exports.fromXRotation=fromXRotation,exports.fromYRotation=fromYRotation,exports.fromZRotation=fromZRotation,exports.fromRotationTranslation=fromRotationTranslation,exports.getTranslation=getTranslation,exports.getScaling=getScaling,exports.getRotation=getRotation,exports.fromRotationTranslationScale=fromRotationTranslationScale,exports.fromRotationTranslationScaleOrigin=fromRotationTranslationScaleOrigin,exports.fromQuat=fromQuat,exports.frustum=frustum,exports.perspective=perspective,exports.perspectiveFromFieldOfView=perspectiveFromFieldOfView,exports.ortho=ortho,exports.lookAt=lookAt,exports.targetTo=targetTo,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function create(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}function identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}function setAxisAngle(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out}function getAxisAngle(out_axis,q){var rad=2*Math.acos(q[3]),s=Math.sin(rad/2);return 0!=s?(out_axis[0]=q[0]/s,out_axis[1]=q[1]/s,out_axis[2]=q[2]/s):(out_axis[0]=1,out_axis[1]=0,out_axis[2]=0),rad}function multiply(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out}function rotateX(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out}function rotateY(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out}function rotateZ(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out}function calculateW(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out}function slerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3],omega=void 0,cosom=void 0,sinom=void 0,scale0=void 0,scale1=void 0;return cosom=ax*bx+ay*by+az*bz+aw*bw,cosom<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>1e-6?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out}function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out}function fromMat3(out,m){var fTrace=m[0]+m[4]+m[8],fRoot=void 0;if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out}function fromEuler(out,x,y,z){var halfToRad=.5*Math.PI/180;x*=halfToRad,y*=halfToRad,z*=halfToRad;var sx=Math.sin(x),cx=Math.cos(x),sy=Math.sin(y),cy=Math.cos(y),sz=Math.sin(z),cz=Math.cos(z);return out[0]=sx*cy*cz-cx*sy*sz,out[1]=cx*sy*cz+sx*cy*sz,out[2]=cx*cy*sz-sx*sy*cz,out[3]=cx*cy*cz+sx*sy*sz,out}function str(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAxes=exports.sqlerp=exports.rotationTo=exports.equals=exports.exactEquals=exports.normalize=exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.lerp=exports.dot=exports.scale=exports.mul=exports.add=exports.set=exports.copy=exports.fromValues=exports.clone=void 0,exports.create=create,exports.identity=identity,exports.setAxisAngle=setAxisAngle,exports.getAxisAngle=getAxisAngle,exports.multiply=multiply,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.calculateW=calculateW,exports.slerp=slerp,exports.invert=invert,exports.conjugate=conjugate,exports.fromMat3=fromMat3,exports.fromEuler=fromEuler,exports.str=str;var _common=__webpack_require__(3),glMatrix=_interopRequireWildcard(_common),_mat=__webpack_require__(20),mat3=_interopRequireWildcard(_mat),_vec=__webpack_require__(21),vec3=_interopRequireWildcard(_vec),_vec2=__webpack_require__(22),vec4=_interopRequireWildcard(_vec2),length=(exports.clone=vec4.clone,exports.fromValues=vec4.fromValues,exports.copy=vec4.copy,exports.set=vec4.set,exports.add=vec4.add,exports.mul=multiply,exports.scale=vec4.scale,exports.dot=vec4.dot,exports.lerp=vec4.lerp,exports.length=vec4.length),squaredLength=(exports.len=length,exports.squaredLength=vec4.squaredLength),normalize=(exports.sqrLen=squaredLength,exports.normalize=vec4.normalize);exports.exactEquals=vec4.exactEquals,exports.equals=vec4.equals,exports.rotationTo=function(){var tmpvec3=vec3.create(),xUnitVec3=vec3.fromValues(1,0,0),yUnitVec3=vec3.fromValues(0,1,0);return function(out,a,b){var dot=vec3.dot(a,b);return dot<-.999999?(vec3.cross(tmpvec3,xUnitVec3,a),vec3.len(tmpvec3)<1e-6&&vec3.cross(tmpvec3,yUnitVec3,a),vec3.normalize(tmpvec3,tmpvec3),setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(vec3.cross(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,normalize(out,out))}}(),exports.sqlerp=function(){var temp1=create(),temp2=create();return function(out,a,b,c,d,t){return slerp(temp1,a,d,t),slerp(temp2,b,c,t),slerp(out,temp1,temp2,2*t*(1-t)),out}}(),exports.setAxes=function(){var matr=mat3.create();return function(out,view,right,up){return matr[0]=right[0],matr[3]=right[1],matr[6]=right[2],matr[1]=up[0],matr[4]=up[1],matr[7]=up[2],matr[2]=-view[0],matr[5]=-view[1],matr[8]=-view[2],normalize(out,fromMat3(out,matr))}}()},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=0,out[1]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=a[0],out[1]=a[1],out}function fromValues(x,y){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=x,out[1]=y,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out}function set(out,x,y){return out[0]=x,out[1]=y,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y}function length(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)}function squaredLength(a){var x=a[0],y=a[1];return x*x+y*y}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out}function normalize(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]}function cross(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out}function transformMat2(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out}function transformMat2d(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function transformMat3(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out}function transformMat4(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out}function str(a){return"vec2("+a[0]+", "+a[1]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]}function equals(a,b){var a0=a[0],a1=a[1],b0=b[0],b1=b[1];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.random=random,exports.transformMat2=transformMat2,exports.transformMat2d=transformMat2d,exports.transformMat3=transformMat3,exports.transformMat4=transformMat4,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.len=length,exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a}}()},function(module,exports,__webpack_require__){"use strict";function getAndApplyExtension(gl,name){var ext=gl.getExtension(name);if(!ext)return!1;var suffix=name.split("_")[0],suffixRE=new RegExp(suffix+"$");for(var key in ext){if("function"==typeof ext[key]){var unsuffixedKey=key.replace(suffixRE,"");key.substring&&(gl[unsuffixedKey]=ext[key].bind(ext))}}return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getAndApplyExtension},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_WebglConst=__webpack_require__(23),_WebglConst2=_interopRequireDefault(_WebglConst),exposeAttributes=function(){for(var s in _WebglConst2.default)_GLTool2.default[s]?console.log("already exist : ",s):_GLTool2.default[s]=_WebglConst2.default[s]};exports.default=exposeAttributes},function(module,exports,__webpack_require__){"use strict";function checkFloat(){return _GLTool2.default.webgl2?_GLTool2.default.gl.FLOAT:_GLTool2.default.getExtension("OES_texture_float")?_GLTool2.default.gl.FLOAT:(console.warn("USING FLOAT BUT OES_texture_float NOT SUPPORTED"),_GLTool2.default.gl.UNSIGNED_BYTE)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return hasChecked||(_float=checkFloat()),_float};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,_float=void 0},function(module,exports,__webpack_require__){"use strict";function checkHalfFloat(){if(_GLTool2.default.webgl2)return _GLTool2.default.gl.HALF_FLOAT;var extHalfFloat=_GLTool2.default.getExtension("OES_texture_half_float");return extHalfFloat?extHalfFloat.HALF_FLOAT_OES:(console.warn("USING HALF FLOAT BUT OES_texture_half_float NOT SUPPORTED"),_GLTool2.default.gl.UNSIGNED_BYTE)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return hasChecked||(halfFloat=checkHalfFloat()),halfFloat};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,halfFloat=void 0},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","WEBGL_depth_texture","EXT_texture_filter_anisotropic","OES_vertex_array_object","ANGLE_instanced_arrays","WEBGL_draw_buffers"]},function(module,exports,__webpack_require__){"use strict";module.exports=function(strings){"string"==typeof strings&&(strings=[strings]);for(var exprs=[].slice.call(arguments,1),parts=[],i=0;i<strings.length-1;i++)parts.push(strings[i],exprs[i]||"");return parts.push(strings[i]),parts.join("")}},function(module,exports){module.exports="// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform float time;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vTextureCoord, sin(time) * .5 + .5, 1.0);\n}"},function(module,exports,__webpack_require__){"use strict";function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),getTextureParameters=function(mParams,mSource,mWidth,mHeight){if(!mParams.minFilter){var minFilter=_GLTool2.default.LINEAR;mWidth&&mWidth&&isPowerOfTwo(mWidth)&&isPowerOfTwo(mHeight)&&(minFilter=_GLTool2.default.NEAREST_MIPMAP_LINEAR),mParams.minFilter=minFilter}return mParams.mipmap=mParams.mipmap||!0,mParams.magFilter=mParams.magFilter||_GLTool2.default.LINEAR,mParams.wrapS=mParams.wrapS||_GLTool2.default.CLAMP_TO_EDGE,mParams.wrapT=mParams.wrapT||_GLTool2.default.CLAMP_TO_EDGE,mParams.internalFormat=mParams.internalFormat||_GLTool2.default.RGBA,mParams.format=mParams.format||_GLTool2.default.RGBA,mParams.premultiplyAlpha=mParams.premultiplyAlpha||!1,mParams.level=mParams.level||0,mParams.anisotropy=mParams.anisotropy||0,mParams};exports.default=getTextureParameters},function(module,exports,__webpack_require__){"use strict";function parseHeaders(arrayBuffer){var header=new Int32Array(arrayBuffer,0,headerLengthInt);if(header[off_magic]!==DDS_MAGIC)throw new Error("Invalid magic number in DDS header");if(!header[off_pfFlags]&DDPF_FOURCC)throw new Error("Unsupported format, must contain a FourCC code");var blockBytes,format,fourCC=header[off_pfFourCC];switch(fourCC){case FOURCC_DXT1:blockBytes=8,format="dxt1";break;case FOURCC_DXT3:blockBytes=16,format="dxt3";break;case FOURCC_DXT5:blockBytes=16,format="dxt5";break;case FOURCC_FP32F:format="rgba32f";break;case FOURCC_DX10:var dx10Header=new Uint32Array(arrayBuffer.slice(128,148));format=dx10Header[0];var resourceDimension=dx10Header[1];dx10Header[2],dx10Header[3],dx10Header[4];if(resourceDimension!==D3D10_RESOURCE_DIMENSION_TEXTURE2D||format!==DXGI_FORMAT_R32G32B32A32_FLOAT)throw new Error("Unsupported DX10 texture format "+format);format="rgba32f";break;default:throw new Error("Unsupported FourCC code: "+int32ToFourCC(fourCC))}var flags=header[off_flags],mipmapCount=1;flags&DDSD_MIPMAPCOUNT&&(mipmapCount=Math.max(1,header[off_mipmapCount]));var cubemap=!1;header[off_caps2]&DDSCAPS2_CUBEMAP&&(cubemap=!0);var dataLength,width=header[off_width],height=header[off_height],dataOffset=header[off_size]+4,texWidth=width,texHeight=height,images=[];if(fourCC===FOURCC_DX10&&(dataOffset+=20),cubemap)for(var f=0;f<6;f++){if("rgba32f"!==format)throw new Error("Only RGBA32f cubemaps are supported");width=texWidth,height=texHeight;for(var requiredMipLevels=Math.log(width)/Math.log(2)+1,i=0;i<requiredMipLevels;i++)dataLength=width*height*16,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),i<mipmapCount&&(dataOffset+=dataLength),width=Math.floor(width/2),height=Math.floor(height/2)}else for(var i=0;i<mipmapCount;i++)dataLength=Math.max(4,width)/4*Math.max(4,height)/4*blockBytes,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),dataOffset+=dataLength,width=Math.floor(width/2),height=Math.floor(height/2);return{shape:[texWidth,texHeight],images:images,format:format,flags:flags,cubemap:cubemap}}function fourCCToInt32(value){return value.charCodeAt(0)+(value.charCodeAt(1)<<8)+(value.charCodeAt(2)<<16)+(value.charCodeAt(3)<<24)}function int32ToFourCC(value){return String.fromCharCode(255&value,value>>8&255,value>>16&255,value>>24&255)}var DDS_MAGIC=542327876,DDSD_MIPMAPCOUNT=131072,DDPF_FOURCC=4,FOURCC_DXT1=fourCCToInt32("DXT1"),FOURCC_DXT3=fourCCToInt32("DXT3"),FOURCC_DXT5=fourCCToInt32("DXT5"),FOURCC_DX10=fourCCToInt32("DX10"),FOURCC_FP32F=116,DDSCAPS2_CUBEMAP=512,D3D10_RESOURCE_DIMENSION_TEXTURE2D=3,DXGI_FORMAT_R32G32B32A32_FLOAT=2,headerLengthInt=31,off_magic=0,off_size=1,off_flags=2,off_height=3,off_width=4,off_mipmapCount=7,off_pfFlags=20,off_pfFourCC=21,off_caps2=28;module.exports=parseHeaders},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),gl=void 0,CubeFrameBuffer=function(){function CubeFrameBuffer(size){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,CubeFrameBuffer),gl=_GLTool2.default.gl,this._size=size,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this._init()}return _createClass(CubeFrameBuffer,[{key:"_init",value:function(){this.texture=gl.createTexture(),this.glTexture=new _GLCubeTexture2.default(this.texture,{},!0),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT);for(var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],i=0;i<targets.length;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),gl.texImage2D(targets[i],0,gl.RGBA,this.width,this.height,0,gl.RGBA,gl.FLOAT,null);this._frameBuffers=[];for(var _i=0;_i<targets.length;_i++){var frameBuffer=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,frameBuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,targets[_i],this.texture,0);var status=gl.checkFramebufferStatus(gl.FRAMEBUFFER);status!==gl.FRAMEBUFFER_COMPLETE&&console.log("'gl.checkFramebufferStatus() returned '"+status),this._frameBuffers.push(frameBuffer)}gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}},{key:"bind",value:function(mTargetIndex){_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this._frameBuffers[mTargetIndex])}},{key:"unbind",value:function(){gl.bindFramebuffer(gl.FRAMEBUFFER,null),_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height)}},{key:"getTexture",value:function(){return this.glTexture}},{key:"width",get:function(){return this._size}},{key:"height",get:function(){return this._size}}]),CubeFrameBuffer}();exports.default=CubeFrameBuffer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(25),_GLTexture2=_interopRequireDefault(_GLTexture),gl=void 0,MultisampleFrameBuffer=function(){function MultisampleFrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,MultisampleFrameBuffer),gl=_GLTool2.default.gl,this.width=mWidth,this.height=mHeight,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this.useDepth=mParameters.useDepth||!0,this.useStencil=mParameters.useStencil||!1,this.texelType=mParameters.type,this._numSample=mParameters.numSample||8,isPowerOfTwo(this.width)&&isPowerOfTwo(this.height)||(this.wrapS=this.wrapT=gl.CLAMP_TO_EDGE,this.minFilter===gl.LINEAR_MIPMAP_NEAREST&&(this.minFilter=gl.LINEAR)),this._init()}return _createClass(MultisampleFrameBuffer,[{key:"_init",value:function(){var texelType=gl.UNSIGNED_BYTE;this.texelType&&(texelType=this.texelType),this.texelType=texelType,this.frameBuffer=gl.createFramebuffer(),this.frameBufferColor=gl.createFramebuffer(),this.renderBufferColor=gl.createRenderbuffer(),this.renderBufferDepth=gl.createRenderbuffer(),this.glTexture=this._createTexture(),this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferColor),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.RGBA8,this.width,this.height),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferDepth),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.DEPTH_COMPONENT16,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.RENDERBUFFER,this.renderBufferColor),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.RENDERBUFFER,this.renderBufferDepth),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBufferColor),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,this.glTexture.texture,0),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:"_createTexture",value:function(mInternalformat,mTexelType,mFormat){var forceNearest=arguments.length>3&&void 0!==arguments[3]&&arguments[3];void 0===mInternalformat&&(mInternalformat=gl.RGBA),void 0===mTexelType&&(mTexelType=this.texelType),mFormat||(mFormat=mInternalformat);var t=gl.createTexture(),glt=new _GLTexture2.default(t,!0),magFilter=forceNearest?_GLTool2.default.NEAREST:this.magFilter,minFilter=forceNearest?_GLTool2.default.NEAREST:this.minFilter;return gl.bindTexture(gl.TEXTURE_2D,t),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this.wrapT),gl.texImage2D(gl.TEXTURE_2D,0,mInternalformat,this.width,this.height,0,mFormat,mTexelType,null),gl.bindTexture(gl.TEXTURE_2D,null),glt}},{key:"bind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height);var width=this.width,height=this.height;gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.READ_FRAMEBUFFER,this.frameBuffer),gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER,this.frameBufferColor),gl.clearBufferfv(gl.COLOR,0,[0,0,0,0]),gl.blitFramebuffer(0,0,width,height,0,0,width,height,gl.COLOR_BUFFER_BIT,_GLTool2.default.NEAREST),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:"getTexture",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.glTexture}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}}]),MultisampleFrameBuffer}();exports.default=MultisampleFrameBuffer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),gl=void 0,TransformFeedbackObject=function(){function TransformFeedbackObject(strVertexShader,strFragmentShader){_classCallCheck(this,TransformFeedbackObject),gl=_GLTool2.default.gl,this._vs=strVertexShader,this._fs=strFragmentShader,this._init()}return _createClass(TransformFeedbackObject,[{key:"_init",value:function(){this._meshCurrent=new _Mesh2.default,this._meshTarget=new _Mesh2.default,this._numPoints=-1,this._varyings=[],this.transformFeedback=gl.createTransformFeedback()}},{key:"bufferData",value:function(mData,mName,mVaryingName){var isTransformFeedback=!!mVaryingName;console.log("is Transform feedback ?",mName,isTransformFeedback),this._meshCurrent.bufferData(mData,mName,null,gl.STREAM_COPY,!1),this._meshTarget.bufferData(mData,mName,null,gl.STREAM_COPY,!1),isTransformFeedback&&(this._varyings.push(mVaryingName),this._numPoints<0&&(this._numPoints=mData.length))}},{key:"bufferIndex",value:function(mArrayIndices){this._meshCurrent.bufferIndex(mArrayIndices),this._meshTarget.bufferIndex(mArrayIndices)}},{key:"uniform",value:function(mName,mType,mValue){this.shader&&this.shader.uniform(mName,mType,mValue)}},{key:"generate",value:function(){this.shader=new _GLShader2.default(this._vs,this._fs,this._varyings)}},{key:"render",value:function(){this.shader||this.generate(),this.shader.bind(),_GLTool2.default.drawTransformFeedback(this),this._swap()}},{key:"_swap",value:function(){var tmp=this._meshCurrent;this._meshCurrent=this._meshTarget,this._meshTarget=tmp}},{key:"numPoints",get:function(){return this._numPoints}},{key:"meshCurrent",get:function(){return this._meshCurrent}},{key:"meshTarget",get:function(){return this._meshTarget}},{key:"meshSource",get:function(){return this._meshCurrent}},{key:"meshDestination",get:function(){return this._meshTarget}}]),TransformFeedbackObject}();exports.default=TransformFeedbackObject},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getFunc(mEasing){switch(mEasing){default:case"linear":return Easing.Linear.None;case"expIn":return Easing.Exponential.In;case"expOut":return Easing.Exponential.Out;case"expInOut":return Easing.Exponential.InOut;case"cubicIn":return Easing.Cubic.In;case"cubicOut":return Easing.Cubic.Out;case"cubicInOut":return Easing.Cubic.InOut;case"quarticIn":return Easing.Quartic.In;case"quarticOut":return Easing.Quartic.Out;case"quarticInOut":return Easing.Quartic.InOut;case"quinticIn":return Easing.Quintic.In;case"quinticOut":return Easing.Quintic.Out;case"quinticInOut":return Easing.Quintic.InOut;case"sinusoidalIn":return Easing.Sinusoidal.In;case"sinusoidalOut":return Easing.Sinusoidal.Out;case"sinusoidalInOut":return Easing.Sinusoidal.InOut;case"circularIn":return Easing.Circular.In;case"circularOut":return Easing.Circular.Out;case"circularInOut":return Easing.Circular.InOut;case"elasticIn":return Easing.Elastic.In;case"elasticOut":return Easing.Elastic.Out;case"elasticInOut":return Easing.Elastic.InOut;case"backIn":return Easing.Back.In;case"backOut":return Easing.Back.Out;case"backInOut":return Easing.Back.InOut;case"bounceIn":return Easing.Bounce.in;case"bounceOut":return Easing.Bounce.out;case"bounceInOut":return Easing.Bounce.inOut}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(6),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),Easing={Linear:{None:function(k){return k}},Quadratic:{In:function(k){return k*k},Out:function(k){return k*(2-k)},InOut:function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)}},Cubic:{In:function(k){return k*k*k},Out:function(k){return--k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)}},Quartic:{In:function(k){return k*k*k*k},Out:function(k){return 1- --k*k*k*k},InOut:function(k){return(k*=2)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2)}},Quintic:{In:function(k){return k*k*k*k*k},Out:function(k){return--k*k*k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2)}},Sinusoidal:{In:function(k){return 1-Math.cos(k*Math.PI/2)},Out:function(k){return Math.sin(k*Math.PI/2)},InOut:function(k){return.5*(1-Math.cos(Math.PI*k))}},Exponential:{In:function(k){return 0===k?0:Math.pow(1024,k-1)},Out:function(k){return 1===k?1:1-Math.pow(2,-10*k)},InOut:function(k){return 0===k?0:1===k?1:(k*=2)<1?.5*Math.pow(1024,k-1):.5*(2-Math.pow(2,-10*(k-1)))}},Circular:{In:function(k){return 1-Math.sqrt(1-k*k)},Out:function(k){return Math.sqrt(1- --k*k)},InOut:function(k){return(k*=2)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1)}},Elastic:{In:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4))},Out:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/.4)+1)},InOut:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),(k*=2)<1?a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*-.5:a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(k){var s=1.70158;return k*k*((s+1)*k-s)},Out:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},InOut:function(k){var s=2.5949095;return(k*=2)<1?k*k*((s+1)*k-s)*.5:.5*((k-=2)*k*((s+1)*k+s)+2)}},Bounce:{in:function(k){return 1-Easing.Bounce.out(1-k)},out:function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375},inOut:function(k){return k<.5?.5*Easing.Bounce.in(2*k):.5*Easing.Bounce.out(2*k-1)+.5}}},TweenNumber=function(){function TweenNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expOut",mSpeed=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;_classCallCheck(this,TweenNumber),this._value=mValue,this._startValue=mValue,this._targetValue=mValue,this._counter=1,this.speed=mSpeed,this.easing=mEasing,this._needUpdate=!0,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(TweenNumber,[{key:"_update",value:function(){var newCounter=this._counter+this.speed;if(newCounter>1&&(newCounter=1),this._counter===newCounter)return void(this._needUpdate=!1);this._counter=newCounter,this._needUpdate=!0}},{key:"limit",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:"setTo",value:function(mValue){this._value=mValue,this._targetValue=mValue,this._counter=1}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:"value",set:function(mValue){this._startValue=this._value,this._targetValue=mValue,this._checkLimit(),this._counter=0},get:function(){if(this._needUpdate){var f=getFunc(this.easing),p=f(this._counter);this._value=this._startValue+p*(this._targetValue-this._startValue),this._needUpdate=!1}return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),TweenNumber}();exports.default=TweenNumber},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),_glMatrix2=_interopRequireDefault(_glMatrix),_EaseNumber=__webpack_require__(13),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},QuatRotation=function(){function QuatRotation(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mEasing=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;_classCallCheck(this,QuatRotation),this._target=mTarget,this._listenerTarget=mListenerTarget,this.matrix=_glMatrix2.default.mat4.create(),this.m=_glMatrix2.default.mat4.create(),this._vZaxis=_glMatrix2.default.vec3.clone([0,0,0]),this._zAxis=_glMatrix2.default.vec3.clone([0,0,1]),this.preMouse={x:0,y:0},this.mouse={x:0,y:0},this._isMouseDown=!1,this._rotation=_glMatrix2.default.quat.create(),this.tempRotation=_glMatrix2.default.quat.create(),this._rotateZMargin=0,this._offset=.004,this._slerp=-1,this._isLocked=!1,this._diffX=new _EaseNumber2.default(0,mEasing),this._diffY=new _EaseNumber2.default(0,mEasing),this._listenerTarget.addEventListener("mousedown",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener("touchstart",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener("mousemove",function(e){return _this._onMove(e)}),this._listenerTarget.addEventListener("touchmove",function(e){return _this._onMove(e)}),window.addEventListener("touchend",function(){return _this._onUp()}),window.addEventListener("mouseup",function(){return _this._onUp()}),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(QuatRotation,[{key:"inverseControl",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:"lock",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLocked=mValue}},{key:"setCameraPos",value:function(mQuat){var speed=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;if(this.easing=speed,!(this._slerp>0)){var tempRotation=_glMatrix2.default.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=_glMatrix2.default.quat.clone(tempRotation),this._currDiffX=this.diffX=0,this._currDiffY=this.diffY=0,this._isMouseDown=!1,this._isRotateZ=0,this._targetQuat=_glMatrix2.default.quat.clone(mQuat),this._slerp=1}}},{key:"resetQuat",value:function(){this._rotation=_glMatrix2.default.quat.clone([0,0,1,0]),this.tempRotation=_glMatrix2.default.quat.clone([0,0,0,0]),this._targetQuat=void 0,this._slerp=-1}},{key:"_onDown",value:function(mEvent){if(!this._isLocked){var mouse=getMouse(mEvent),tempRotation=_glMatrix2.default.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=tempRotation,this._isMouseDown=!0,this._isRotateZ=0,this.preMouse={x:mouse.x,y:mouse.y},mouse.y<this._rotateZMargin||mouse.y>window.innerHeight-this._rotateZMargin?this._isRotateZ=1:(mouse.x<this._rotateZMargin||mouse.x>window.innerWidth-this._rotateZMargin)&&(this._isRotateZ=2),this._diffX.setTo(0),this._diffY.setTo(0)}}},{key:"_onMove",value:function(mEvent){this._isLocked||getMouse(mEvent,this.mouse)}},{key:"_onUp",value:function(){this._isLocked||(this._isMouseDown=!1)}},{key:"_updateRotation",value:function(mTempRotation){this._isMouseDown&&!this._isLocked&&(this._diffX.value=-(this.mouse.x-this.preMouse.x),this._diffY.value=this.mouse.y-this.preMouse.y,this._isInvert&&(this._diffX.value=-this._diffX.targetValue,this._diffY.value=-this._diffY.targetValue));var angle=void 0,_quat=void 0;if(this._isRotateZ>0)1===this._isRotateZ?(angle=-this._diffX.value*this._offset,angle*=this.preMouse.y<this._rotateZMargin?-1:1,_quat=_glMatrix2.default.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix2.default.quat.multiply(_quat,mTempRotation,_quat)):(angle=-this._diffY.value*this._offset,angle*=this.preMouse.x<this._rotateZMargin?1:-1,_quat=_glMatrix2.default.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix2.default.quat.multiply(_quat,mTempRotation,_quat));else{var v=_glMatrix2.default.vec3.clone([this._diffX.value,this._diffY.value,0]),axis=_glMatrix2.default.vec3.create();_glMatrix2.default.vec3.cross(axis,v,this._zAxis),_glMatrix2.default.vec3.normalize(axis,axis),angle=_glMatrix2.default.vec3.length(v)*this._offset,_quat=_glMatrix2.default.quat.clone([Math.sin(angle)*axis[0],Math.sin(angle)*axis[1],Math.sin(angle)*axis[2],Math.cos(angle)]),_glMatrix2.default.quat.multiply(mTempRotation,_quat,mTempRotation)}}},{key:"_loop",value:function(){_glMatrix2.default.mat4.identity(this.m),void 0===this._targetQuat?(_glMatrix2.default.quat.set(this.tempRotation,this._rotation[0],this._rotation[1],this._rotation[2],this._rotation[3]),this._updateRotation(this.tempRotation)):(this._slerp+=.1*(0-this._slerp),this._slerp<5e-4?(_glMatrix2.default.quat.copy(this._rotation,this._targetQuat),_glMatrix2.default.quat.copy(this.tempRotation,this._targetQuat),this._targetQuat=void 0,this._diffX.setTo(0),this._diffY.setTo(0),this._slerp=-1):(_glMatrix2.default.quat.set(this.tempRotation,0,0,0,0),_glMatrix2.default.quat.slerp(this.tempRotation,this._targetQuat,this._rotation,this._slerp))),_glMatrix2.default.vec3.transformQuat(this._vZaxis,this._vZaxis,this.tempRotation),_glMatrix2.default.mat4.fromQuat(this.matrix,this.tempRotation)}},{key:"easing",set:function(mValue){this._diffX.easing=mValue,this._diffY.easing=mValue},get:function(){return this._diffX.easing}}]),QuatRotation}();exports.default=QuatRotation},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function distance(a,b){var dx=a.x-b.x,dy=a.y-b.y;return Math.sqrt(dx*dx+dy*dy)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_EventDispatcher2=__webpack_require__(28),_EventDispatcher3=_interopRequireDefault(_EventDispatcher2),_Ray=__webpack_require__(14),_Ray2=_interopRequireDefault(_Ray),_getMouse=__webpack_require__(62),_getMouse2=_interopRequireDefault(_getMouse),TouchDetector=function(_EventDispatcher){function TouchDetector(mMesh,mCamera){var mSkipMoveCheck=arguments.length>2&&void 0!==arguments[2]&&arguments[2],mListenerTarget=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;_classCallCheck(this,TouchDetector);var _this=_possibleConstructorReturn(this,(TouchDetector.__proto__||Object.getPrototypeOf(TouchDetector)).call(this));return _this._mesh=mMesh,_this._mesh.generateFaces(),_this._camera=mCamera,_this.faceVertices=mMesh.faces.map(function(face){return face.vertices}),_this.clickTolerance=8,_this._ray=new _Ray2.default([0,0,0],[0,0,-1]),_this._hit=vec3.fromValues(-999,-999,-999),_this._lastPos,_this._firstPos,_this.mtxModel=mat4.create(),_this._listenerTarget=mListenerTarget,_this._skippingMove=mSkipMoveCheck,_this._onMoveBind=function(e){return _this._onMove(e)},_this._onDownBind=function(e){return _this._onDown(e)},_this._onUpBind=function(){return _this._onUp()},_this.connect(),_this}return _inherits(TouchDetector,_EventDispatcher),_createClass(TouchDetector,[{key:"connect",value:function(){this._listenerTarget.addEventListener("mousedown",this._onDownBind),this._listenerTarget.addEventListener("mousemove",this._onMoveBind),this._listenerTarget.addEventListener("mouseup",this._onUpBind)}},{key:"disconnect",value:function(){this._listenerTarget.removeEventListener("mousedown",this._onDownBind),this._listenerTarget.removeEventListener("mousemove",this._onMoveBind),this._listenerTarget.removeEventListener("mouseup",this._onUpBind)}},{key:"_checkHit",value:function(){var _this2=this,mType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onHit",camera=this._camera;if(camera){var mx=this._lastPos.x/_GLTool2.default.width*2-1,my=-this._lastPos.y/_GLTool2.default.height*2+1;camera.generateRay([mx,my,0],this._ray);for(var hit=void 0,v0=vec3.create(),v1=vec3.create(),v2=vec3.create(),dist=0,getVector=function(v,target){vec3.transformMat4(target,v,_this2.mtxModel)},i=0;i<this.faceVertices.length;i++){var vertices=this.faceVertices[i];getVector(vertices[0],v0),getVector(vertices[1],v1),getVector(vertices[2],v2);var t=this._ray.intersectTriangle(v0,v1,v2);if(t)if(hit){var distToCam=vec3.dist(t,camera.position);distToCam<dist&&(hit=vec3.clone(t),dist=distToCam)}else hit=vec3.clone(t),dist=vec3.dist(hit,camera.position)}hit?(this._hit=vec3.clone(hit),this.dispatchCustomEvent(mType,{hit:hit})):this.dispatchCustomEvent("onUp")}}},{key:"_onDown",value:function(e){this._firstPos=(0,_getMouse2.default)(e),this._lastPos=(0,_getMouse2.default)(e),this._checkHit("onDown")}},{key:"_onMove",value:function(e){this._lastPos=(0,_getMouse2.default)(e),this._skippingMove||this._checkHit()}},{key:"_onUp",value:function(){distance(this._firstPos,this._lastPos)<this.clickTolerance&&this._checkHit()}}]),TouchDetector}(_EventDispatcher3.default);exports.default=TouchDetector},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var x=void 0,y=void 0;return e.touches?(x=e.touches[0].pageX,y=e.touches[0].pageY):(x=e.clientX,y=e.clientY),{x:x,y:y}}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_CameraPerspective2=__webpack_require__(16),_CameraPerspective3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_CameraPerspective2),_glMatrix=__webpack_require__(1),CAMERA_SETTINGS=[[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(-1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,1,0),_glMatrix.vec3.fromValues(0,0,1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,-1,0),_glMatrix.vec3.fromValues(0,0,-1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,1),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,-1),_glMatrix.vec3.fromValues(0,-1,0)]],CameraCube=function(_CameraPerspective){function CameraCube(){_classCallCheck(this,CameraCube);var _this=_possibleConstructorReturn(this,(CameraCube.__proto__||Object.getPrototypeOf(CameraCube)).call(this));return _this.setPerspective(Math.PI/2,1,.1,1e3),_this}return _inherits(CameraCube,_CameraPerspective),_createClass(CameraCube,[{key:"face",value:function(mIndex){var o=CAMERA_SETTINGS[mIndex];this.lookAt(o[0],o[1],o[2])}}]),CameraCube}(_CameraPerspective3.default);exports.default=CameraCube},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_BinaryLoader2=__webpack_require__(17),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),ObjLoader=function(_BinaryLoader){function ObjLoader(){return _classCallCheck(this,ObjLoader),_possibleConstructorReturn(this,(ObjLoader.__proto__||Object.getPrototypeOf(ObjLoader)).apply(this,arguments))}return _inherits(ObjLoader,_BinaryLoader),_createClass(ObjLoader,[{key:"load",value:function(url,callback){var drawType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;this._drawType=drawType,_get(ObjLoader.prototype.__proto__||Object.getPrototypeOf(ObjLoader.prototype),"load",this).call(this,url,callback)}},{key:"_onLoaded",value:function(){this.parseObj(this._req.response)}},{key:"parseObj",value:function(objStr){function parseVertexIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+vertices.length/3)}function parseNormalIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+normals.length/3)}function parseUVIndex(value){var index=parseInt(value);return 2*(index>=0?index-1:index+uvs.length/2)}function addVertex(a,b,c){positions.push([vertices[a],vertices[a+1],vertices[a+2]]),positions.push([vertices[b],vertices[b+1],vertices[b+2]]),positions.push([vertices[c],vertices[c+1],vertices[c+2]]),indices.push(3*count+0),indices.push(3*count+1),indices.push(3*count+2),count++}function addUV(a,b,c){coords.push([uvs[a],uvs[a+1]]),coords.push([uvs[b],uvs[b+1]]),coords.push([uvs[c],uvs[c+1]])}function addNormal(a,b,c){finalNormals.push([normals[a],normals[a+1],normals[a+2]]),finalNormals.push([normals[b],normals[b+1],normals[b+2]]),finalNormals.push([normals[c],normals[c+1],normals[c+2]])}function addFace(a,b,c,d,ua,ub,uc,ud,na,nb,nc,nd){var ia=parseVertexIndex(a),ib=parseVertexIndex(b),ic=parseVertexIndex(c),id=void 0;void 0===d?addVertex(ia,ib,ic):(id=parseVertexIndex(d),addVertex(ia,ib,id),addVertex(ib,ic,id)),void 0!==ua&&(ia=parseUVIndex(ua),ib=parseUVIndex(ub),ic=parseUVIndex(uc),void 0===d?addUV(ia,ib,ic):(id=parseUVIndex(ud),addUV(ia,ib,id),addUV(ib,ic,id))),void 0!==na&&(ia=parseNormalIndex(na),ib=parseNormalIndex(nb),ic=parseNormalIndex(nc),void 0===d?addNormal(ia,ib,ic):(id=parseNormalIndex(nd),addNormal(ia,ib,id),addNormal(ib,ic,id)))}for(var lines=objStr.split("\n"),positions=[],coords=[],finalNormals=[],vertices=[],normals=[],uvs=[],indices=[],count=0,result=void 0,vertexPattern=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,normalPattern=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,uvPattern=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,facePattern1=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,facePattern2=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,facePattern3=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,facePattern4=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,i=0;i<lines.length;i++){var line=lines[i];line=line.trim(),0!==line.length&&"#"!==line.charAt(0)&&(null!==(result=vertexPattern.exec(line))?vertices.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=normalPattern.exec(line))?normals.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=uvPattern.exec(line))?uvs.push(parseFloat(result[1]),parseFloat(result[2])):null!==(result=facePattern1.exec(line))?addFace(result[1],result[2],result[3],result[4]):null!==(result=facePattern2.exec(line))?addFace(result[2],result[5],result[8],result[11],result[3],result[6],result[9],result[12]):null!==(result=facePattern3.exec(line))?addFace(result[2],result[6],result[10],result[14],result[3],result[7],result[11],result[15],result[4],result[8],result[12],result[16]):null!==(result=facePattern4.exec(line))&&addFace(result[2],result[5],result[8],result[11],void 0,void 0,void 0,void 0,result[3],result[6],result[9],result[12]))}return this._generateMeshes({positions:positions,coords:coords,normals:finalNormals,indices:indices})}},{key:"_generateMeshes",value:function(o){var hasNormals=o.normals.length>0,hasUVs=o.coords.length>0,mesh=void 0;if(o.positions.length>65535){var meshes=[],lastIndex=0,oCopy={};for(oCopy.positions=o.positions.concat(),oCopy.coords=o.coords.concat(),oCopy.indices=o.indices.concat(),oCopy.normals=o.normals.concat();o.indices.length>0;){for(var sliceNum=Math.min(65535,o.positions.length),indices=o.indices.splice(0,sliceNum),positions=[],coords=[],normals=[],index=void 0,tmpIndex=0,i=0;i<indices.length;i++)indices[i]>tmpIndex&&(tmpIndex=indices[i]),index=indices[i],positions.push(oCopy.positions[index]),hasUVs&&coords.push(oCopy.coords[index]),hasNormals&&normals.push(oCopy.normals[index]),indices[i]-=lastIndex;lastIndex=tmpIndex+1,mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(positions),hasUVs&&mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),hasNormals&&mesh.bufferNormal(normals),meshes.push(mesh)}return this._callback&&this._callback(meshes,oCopy),meshes}return mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(o.positions),hasUVs&&mesh.bufferTexCoord(o.coords),mesh.bufferIndex(o.indices),hasNormals&&mesh.bufferNormal(o.normals),this._callback&&this._callback(mesh,o),mesh}}]),ObjLoader}(_BinaryLoader3.default);ObjLoader.parse=function(objStr){return(new ObjLoader).parseObj(objStr)},exports.default=ObjLoader},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_BinaryLoader2=__webpack_require__(17),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_HDRParser=__webpack_require__(66),_HDRParser2=_interopRequireDefault(_HDRParser),HDRLoader=function(_BinaryLoader){function HDRLoader(){return _classCallCheck(this,HDRLoader),_possibleConstructorReturn(this,(HDRLoader.__proto__||Object.getPrototypeOf(HDRLoader)).call(this,!0))}return _inherits(HDRLoader,_BinaryLoader),_createClass(HDRLoader,[{key:"parse",value:function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)}},{key:"_onLoaded",value:function(){var o=this.parse(this._req.response);this._callback&&this._callback(o)}}]),HDRLoader}(_BinaryLoader3.default);HDRLoader.parse=function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)},exports.default=HDRLoader},function(module,exports,__webpack_require__){"use strict";function readPixelsRawRLE(buffer,data,offset,fileOffset,scanlineWidth,numScanlines){function readBuf(buf){var bytesRead=0;do{buf[bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<buf.length);return bytesRead}function readBufOffset(buf,offset,length){var bytesRead=0;do{buf[offset+bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<length);return bytesRead}for(var rgbe=new Array(4),scanlineBuffer=null,ptr=void 0,ptrEnd=void 0,count=void 0,buf=new Array(2),bufferLength=buffer.length;numScanlines>0;){if(readBuf(rgbe)<rgbe.length)throw new Error("Error reading bytes: expected "+rgbe.length);if(2!==rgbe[0]||2!==rgbe[1]||0!=(128&rgbe[2]))return data[offset++]=rgbe[0],data[offset++]=rgbe[1],data[offset++]=rgbe[2],data[offset++]=rgbe[3],void function(buffer,data,offset,numpixels){var numExpected=4*numpixels,numRead=readBufOffset(data,offset,numExpected);if(numRead<numExpected)throw new Error("Error reading raw pixels: got "+numRead+" bytes, expected "+numExpected)}(0,data,offset,scanlineWidth*numScanlines-1);if(((255&rgbe[2])<<8|255&rgbe[3])!==scanlineWidth)throw new Error("Wrong scanline width "+((255&rgbe[2])<<8|255&rgbe[3])+", expected "+scanlineWidth);null===scanlineBuffer&&(scanlineBuffer=new Array(4*scanlineWidth)),ptr=0;for(var i=0;i<4;i++)for(ptrEnd=(i+1)*scanlineWidth;ptr<ptrEnd;){if(readBuf(buf)<buf.length)throw new Error("Error reading 2-byte buffer");if((255&buf[0])>128){if(0===(count=(255&buf[0])-128)||count>ptrEnd-ptr)throw new Error("Bad scanline data");for(;count-- >0;)scanlineBuffer[ptr++]=buf[1]}else{if(0===(count=255&buf[0])||count>ptrEnd-ptr)throw new Error("Bad scanline data");if(scanlineBuffer[ptr++]=buf[1],--count>0){if(readBufOffset(scanlineBuffer,ptr,count)<count)throw new Error("Error reading non-run data");ptr+=count}}}for(var _i=0;_i<scanlineWidth;_i++)data[offset+0]=scanlineBuffer[_i],data[offset+1]=scanlineBuffer[_i+scanlineWidth],data[offset+2]=scanlineBuffer[_i+2*scanlineWidth],data[offset+3]=scanlineBuffer[_i+3*scanlineWidth],offset+=4;numScanlines--}}function parseHdr(buffer){buffer instanceof ArrayBuffer&&(buffer=new Uint8Array(buffer));for(var fileOffset=0,bufferLength=buffer.length,NEW_LINE=10,width=0,height=0,exposure=1,rle=!1,i=0;i<20;i++){var line=function(){var buf="";do{var b=buffer[fileOffset];if(b===NEW_LINE){++fileOffset;break}buf+=String.fromCharCode(b)}while(++fileOffset<bufferLength);return buf}(),match=void 0;if(match=line.match(radiancePattern));else if(match=line.match(formatPattern))rle=!0;else if(match=line.match(exposurePattern))exposure=Number(match[1]);else if(match=line.match(commentPattern));else if(match=line.match(widthHeightPattern)){height=Number(match[1]),width=Number(match[2]);break}}if(!rle)throw new Error("File is not run length encoded!");var data=new Uint8Array(width*height*4);readPixelsRawRLE(buffer,data,0,fileOffset,width,height);for(var floatData=new Float32Array(width*height*4),offset=0;offset<data.length;offset+=4){var r=data[offset+0]/255,g=data[offset+1]/255,b=data[offset+2]/255,e=data[offset+3],f=Math.pow(2,e-128);r*=f,g*=f,b*=f;var floatOffset=offset;floatData[floatOffset+0]=r,floatData[floatOffset+1]=g,floatData[floatOffset+2]=b,floatData[floatOffset+3]=1}return{shape:[width,height],exposure:exposure,gamma:1,data:floatData}}Object.defineProperty(exports,"__esModule",{value:!0});var radiancePattern="#\\?RADIANCE",commentPattern="#.*",exposurePattern="EXPOSURE=\\s*([0-9]*[.][0-9]*)",formatPattern="FORMAT=32-bit_rle_rgbe",widthHeightPattern="-Y ([0-9]+) \\+X ([0-9]+)";exports.default=parseHdr},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _colladaParser=__webpack_require__(68),_colladaParser2=_interopRequireDefault(_colladaParser),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),generateMesh=function(meshes){var caches={};meshes.forEach(function(mesh){var _mesh$mesh=mesh.mesh,vertices=_mesh$mesh.vertices,normals=_mesh$mesh.normals,coords=_mesh$mesh.coords,triangles=_mesh$mesh.triangles,name=_mesh$mesh.name;if(!caches[name]){var glMesh=(new _Mesh2.default).bufferFlattenData(vertices,"aVertexPosition",3).bufferFlattenData(coords,"aTextureCoord",2).bufferFlattenData(normals,"aNormal",3).bufferIndex(triangles);caches[name]=glMesh}mesh.glMesh=caches[name]})},parse=function(mData){var meshes=_colladaParser2.default.parse(mData);return generateMesh(meshes),meshes},load=function(mPath,mCallback){_colladaParser2.default.load(mPath,function(meshes){generateMesh(meshes),mCallback(meshes)})},ColladaParser={parse:parse,load:load};exports.default=ColladaParser},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Collada=__webpack_require__(69),_Collada2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Collada),_glMatrix=__webpack_require__(1),parseData=function(mData){function getMaterial(id){var mat=void 0;for(var _s in materials)_s===id&&(mat=materials[_s]);var oMaterial={};return mat.diffuse&&(oMaterial.diffuseColor=mat.diffuse),oMaterial.diffuseColor=mat.diffuse||[0,0,0],oMaterial.shininess=mat.shininess||0,mat.textures&&(mat.textures.diffuse&&(oMaterial.diffuseMapID=mat.textures.diffuse.map_id),mat.textures.normal&&(oMaterial.normalMapID=mat.textures.normal.map_id)),oMaterial}function walk(node,mtxParent){var m=_glMatrix.mat4.create();if(node.model?_glMatrix.mat4.multiply(m,mtxParent,node.model):_glMatrix.mat4.copy(m,mtxParent),node.children.length>0&&node.children.forEach(function(child){walk(child,m)}),node.mesh){var _oMesh={};_oMesh.modelMatrix=m,_oMesh.mesh=meshes[node.mesh],_oMesh.id=node.id,_oMesh.name=node.name,_oMesh.material=getMaterial(node.material),meshObjs.push(_oMesh)}}var materials=mData.materials,meshes=mData.meshes,meshObjs=[],allMeshes=[];for(var s in meshes){var oMesh=meshes[s],vertices=oMesh.vertices,normals=oMesh.normals,coords=oMesh.coords,triangles=oMesh.triangles,buffers={vertices:vertices,normals:normals,coords:coords,triangles:triangles};allMeshes.push({id:s,buffers:buffers})}var mtx=_glMatrix.mat4.create();return walk(mData.root,mtx),meshObjs},parse=function(mFile){var o=_Collada2.default.parse(mFile);return parseData(o)},load=function(mPath,mCallBack){_Collada2.default.load(mPath,function(mData){mCallBack(parseData(mData))})},ColladaParser={load:load,parse:parse};exports.default=ColladaParser,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";(function(global){function request(url,callback){var req=new XMLHttpRequest;req.onload=function(){this.response;200==this.status&&callback&&callback(this.response)},req.open("get",url,!0),req.send()}Object.defineProperty(exports,"__esModule",{value:!0});var _glMatrix=__webpack_require__(1),isWorker=void 0===global.document,DEG2RAD=2*Math.PI/360,temp_mat4=null,temp_vec2=null,temp_vec3=null,temp_vec4=null,temp_quat=null,Collada={libsPath:"./",workerPath:"./",no_flip:!0,use_transferables:!0,onerror:null,verbose:!1,config:{forceParser:!1},init:function(config){config=config||{};for(var i in config)this[i]=config[i];if(this.config=config,isWorker)try{importScripts(this.libsPath+"gl-matrix-min.js",this.libsPath+"tinyxml.js")}catch(err){Collada.throwException(Collada.LIBMISSING_ERROR)}temp_mat4=_glMatrix.mat4.create(),temp_vec2=vec3.create(),temp_vec3=vec3.create(),temp_vec4=vec3.create(),temp_quat=_glMatrix.quat.create(),isWorker&&console.log("Collada worker ready")},load:function(url,callback){request(url,function(data){callback(data?Collada.parse(data):null)})},_xmlroot:null,_nodes_by_id:null,_transferables:null,_controllers_found:null,_geometries_found:null,safeString:function(str){return str?this.convertID?this.convertID(str):str.replace(/ /g,"_"):""},LIBMISSING_ERROR:"Libraries loading error, when using workers remember to pass the URL to the tinyxml.js in the options.libsPath",NOXMLPARSER_ERROR:"TinyXML not found, when using workers remember to pass the URL to the tinyxml.js in the options.libsPath (Workers do not allow to access the native XML DOMParser)",throwException:function(msg){throw isWorker?self.postMessage({action:"exception",msg:msg}):Collada.onerror&&Collada.onerror(msg),msg},getFilename:function(filename){var pos=filename.lastIndexOf("\\");return-1!=pos&&(filename=filename.substr(pos+1)),pos=filename.lastIndexOf("/"),-1!=pos&&(filename=filename.substr(pos+1)),filename},last_name:0,generateName:function(v){v=v||"name_";var name=v+this.last_name;return this.last_name++,name},parse:function(data,options,filename){options=options||{},filename=filename||"_dae_"+Date.now()+".dae";var xmlparser=null,root=null;if(this._transferables=[],this.verbose&&console.log(" - XML parsing..."),global.DOMParser&&!this.config.forceParser)xmlparser=new DOMParser,root=xmlparser.parseFromString(data,"text/xml"),this.verbose&&console.log(" - XML parsed");else{if(!global.DOMImplementation)return Collada.throwException(Collada.NOXMLPARSER_ERROR);try{xmlparser=new DOMImplementation}catch(err){return Collada.throwException(Collada.NOXMLPARSER_ERROR)}root=xmlparser.loadXML(data),this.verbose&&console.log(" - XML parsed");for(var by_ids=root._nodes_by_id={},i=0,l=root.all.length;i<l;++i){var node=root.all[i];by_ids[node.id]=node,node.getAttribute("sid")&&(by_ids[node.getAttribute("sid")]=node)}this.extra_functions||(this.extra_functions=!0,DOMDocument.prototype.querySelector=DOMElement.prototype.querySelector=function(selector){for(var tags=selector.split(" "),current_element=this;tags.length;){var current=tags.shift(),tokens=current.split("#"),tagname=tokens[0],id=tokens[1],elements=tagname?current_element.getElementsByTagName(tagname):current_element.childNodes;if(id){for(var i=0;i<elements.length;i++)if(elements.item(i).getAttribute("id")==id){if(0==tags.length)return elements.item(i);current_element=elements.item(i);break}}else{if(0==tags.length)return elements.item(0);current_element=elements.item(0)}}return null},DOMDocument.prototype.querySelectorAll=DOMElement.prototype.querySelectorAll=function(selector){function inner(root,tags){if(tags){var current=tags.shift(),elements=root.getElementsByTagName(current);if(0!=tags.length)for(var i=0;i<elements.length;i++)inner(elements.item(i),tags.concat());else for(var i=0;i<elements.length;i++)result.push(elements.item(i))}}var tags=selector.split(" ");if(1==tags.length)return this.getElementsByTagName(selector);var result=[];inner(this,tags);var list=new DOMNodeList(this.documentElement);return list._nodes=result,list.length=result.length,list},Object.defineProperty(DOMElement.prototype,"textContent",{get:function(){return this.getChildNodes().item(0).toString()},set:function(){}}))}this._xmlroot=root;var xmlcollada=root.querySelector("COLLADA");xmlcollada&&(this._current_DAE_version=xmlcollada.getAttribute("version"),console.log("DAE Version:"+this._current_DAE_version));var xmlvisual_scene=root.getElementsByTagName("visual_scene").item(0);if(!xmlvisual_scene)throw"visual_scene XML node not found in DAE";this._nodes_by_id={},this._controllers_found={},this._geometries_found={};var scene={object_type:"SceneTree",light:null,materials:{},meshes:{},resources:{},root:{children:[]},external_files:{}},xmlasset=root.getElementsByTagName("asset")[0];xmlasset&&(scene.metadata=this.readAsset(xmlasset));for(var xmlnodes=xmlvisual_scene.childNodes,i=0;i<xmlnodes.length;i++)if("node"==xmlnodes.item(i).localName){var node=this.readNodeTree(xmlnodes.item(i),scene,0,!1);node&&scene.root.children.push(node)}for(var i=0;i<xmlnodes.length;i++)"node"==xmlnodes.item(i).localName&&this.readNodeInfo(xmlnodes.item(i),scene,0,!1);this.readLibraryControllers(scene);var animations=this.readAnimations(root,scene);if(animations){var animations_name="#animations_"+filename.substr(0,filename.indexOf("."));scene.resources[animations_name]=animations,scene.root.animations=animations_name}return scene.images=this.readImages(root),this._nodes_by_id={},this._controllers_found={},this._geometries_found={},this._xmlroot=null,scene},readAsset:function(xmlasset){for(var metadata={},i=0;i<xmlasset.childNodes.length;i++){var xmlchild=xmlasset.childNodes.item(i);if(1==xmlchild.nodeType)switch(xmlchild.localName){case"contributor":var tool=xmlchild.querySelector("authoring_tool");tool&&(metadata.authoring_tool=tool.textContext);break;case"unit":metadata.unit=xmlchild.getAttribute("name");break;default:metadata[xmlchild.localName]=xmlchild.textContent}}return metadata},readNodeTree:function(xmlnode,scene,level,flip){var node_id=this.safeString(xmlnode.getAttribute("id")),node_sid=this.safeString(xmlnode.getAttribute("sid"));if(!node_id&&!node_sid)return null;var node={id:node_sid||node_id,children:[],_depth:level},node_type=xmlnode.getAttribute("type");node_type&&(node.type=node_type);var node_name=xmlnode.getAttribute("name");node_name&&(node.name=node_name),this._nodes_by_id[node.id]=node,node_id&&(this._nodes_by_id[node_id]=node),node_sid&&(this._nodes_by_id[node_sid]=node),node.model=this.readTransform(xmlnode,level,flip);for(var i=0;i<xmlnode.childNodes.length;i++){var xmlchild=xmlnode.childNodes.item(i);if(1==xmlchild.nodeType)if("node"!=xmlchild.localName);else{var child_node=this.readNodeTree(xmlchild,scene,level+1,flip);child_node&&node.children.push(child_node)}}return node},readNodeInfo:function(xmlnode,scene,level,flip,parent){var node,node_id=this.safeString(xmlnode.getAttribute("id")),node_sid=this.safeString(xmlnode.getAttribute("sid"));if(node_id||node_sid)node=this._nodes_by_id[node_id||node_sid];else{if(!parent)return null;node=this._nodes_by_id[parent.id||parent.sid]}if(!node)return console.warn("Collada: Node not found by id: "+(node_id||node_sid)),null;for(var i=0;i<xmlnode.childNodes.length;i++){var xmlchild=xmlnode.childNodes.item(i);if(1==xmlchild.nodeType)if("node"!=xmlchild.localName){if("instance_geometry"==xmlchild.localName){var url=xmlchild.getAttribute("url"),mesh_id=url.toString().substr(1);if(node.mesh=mesh_id,!scene.meshes[url]){var mesh_data=this.readGeometry(url,flip);mesh_data&&(mesh_data.name=mesh_id,scene.meshes[mesh_id]=mesh_data)}var xmlmaterials=xmlchild.querySelectorAll("instance_material");if(xmlmaterials)for(var iMat=0;iMat<xmlmaterials.length;++iMat){var xmlmaterial=xmlmaterials.item(iMat);if(xmlmaterial){var matname=xmlmaterial.getAttribute("target").toString().substr(1);if(!scene.materials[matname]){var material=this.readMaterial(matname);material&&(material.id=matname,scene.materials[material.id]=material)}0==iMat?node.material=matname:(node.materials||(node.materials=[]),node.materials.push(matname))}else console.warn("instance_material not found: "+i)}}if("instance_controller"==xmlchild.localName){var url=xmlchild.getAttribute("url"),xmlcontroller=this._xmlroot.querySelector("controller"+url);if(xmlcontroller){var mesh_data=this.readController(xmlcontroller,flip,scene),xmlbind_material=xmlchild.querySelector("bind_material");if(xmlbind_material)for(var xmltechniques=xmlbind_material.querySelectorAll("technique_common"),iTec=0;iTec<xmltechniques.length;iTec++)for(var xmltechnique=xmltechniques.item(iTec),xmlinstance_materials=xmltechnique.querySelectorAll("instance_material"),iMat=0;iMat<xmlinstance_materials.length;iMat++){var xmlinstance_material=xmlinstance_materials.item(iMat);if(xmlinstance_material){var matname=xmlinstance_material.getAttribute("target").toString().substr(1);if(!scene.materials[matname]){var material=this.readMaterial(matname);material&&(material.id=matname,scene.materials[material.id]=material)}0==iMat?node.material=matname:(node.materials||(node.materials=[]),node.materials.push(matname))}else console.warn("instance_material for controller not found: "+xmlinstance_material)}if(mesh_data){var mesh=mesh_data;"morph"==mesh_data.type&&(mesh=mesh_data.mesh,node.morph_targets=mesh_data.morph_targets),mesh.name=url.toString(),node.mesh=url.toString(),scene.meshes[url]=mesh}}}if("instance_light"==xmlchild.localName){var url=xmlchild.getAttribute("url");this.readLight(node,url)}if("instance_camera"==xmlchild.localName){var url=xmlchild.getAttribute("url");this.readCamera(node,url)}}else this.readNodeInfo(xmlchild,scene,level+1,flip,xmlnode)}},material_translate_table:{},light_translate_table:{point:"omni",directional:"directional",spot:"spot"},camera_translate_table:{xfov:"fov",aspect_ratio:"aspect",znear:"near",zfar:"far"},querySelectorAndId:function(root,selector,id){for(var nodes=root.querySelectorAll(selector),i=0;i<nodes.length;i++){var attr_id=nodes.item(i).getAttribute("id");if(attr_id&&(attr_id=attr_id.toString())==id)return nodes.item(i)}return null},getFirstChildElement:function(root,localName){for(var c=root.childNodes,i=0;i<c.length;++i){var item=c.item(i);if(item.localName&&!localName||localName&&localName==item.localName)return item}return null},readMaterial:function(url){var xmlmaterial=this.querySelectorAndId(this._xmlroot,"library_materials material",url);if(!xmlmaterial)return null;var xmleffect=xmlmaterial.querySelector("instance_effect");if(!xmleffect)return null;var effect_url=xmleffect.getAttribute("url").substr(1),xmleffects=this.querySelectorAndId(this._xmlroot,"library_effects effect",effect_url);if(!xmleffects)return null;var xmltechnique=xmleffects.querySelector("technique");if(!xmltechnique)return null;for(var xmlnewparams=xmleffects.querySelectorAll("newparam"),newparams={},i=0;i<xmlnewparams.length;i++){var parent,init_from=xmlnewparams[i].querySelector("init_from");if(init_from)parent=init_from.innerHTML;else{parent=xmlnewparams[i].querySelector("source").innerHTML}newparams[xmlnewparams[i].getAttribute("sid")]={parent:parent}}var material={},images=this.readImages(this._xmlroot),xmlphong=xmltechnique.querySelector("phong");if(xmlphong||(xmlphong=xmltechnique.querySelector("blinn")),xmlphong||(xmlphong=xmltechnique.querySelector("lambert")),!xmlphong)return null;for(var i=0;i<xmlphong.childNodes.length;++i){var xmlparam=xmlphong.childNodes.item(i);if(xmlparam.localName){var param_name=xmlparam.localName.toString();this.material_translate_table[param_name]&&(param_name=this.material_translate_table[param_name]);var xmlparam_value=this.getFirstChildElement(xmlparam);if(xmlparam_value)if("color"!=xmlparam_value.localName.toString())if("float"!=xmlparam_value.localName.toString()){if("texture"==xmlparam_value.localName.toString()){material.textures||(material.textures={});var map_id=xmlparam_value.getAttribute("texture");if(!map_id)continue;-1===map_id.indexOf(".")&&(map_id=this.getParentParam(newparams,map_id),images[map_id]&&(map_id=images[map_id].path));var map_info={map_id:map_id},uvs=xmlparam_value.getAttribute("texcoord");map_info.uvs=uvs,material.textures[param_name]=map_info}}else material[param_name]=this.readContentAsFloats(xmlparam_value)[0];else{var value=this.readContentAsFloats(xmlparam_value);"RGB_ZERO"==xmlparam.getAttribute("opaque")?material[param_name]=value.subarray(0,4):material[param_name]=value.subarray(0,3)}}}return material.object_type="Material",material},getParentParam:function(newparams,param){return newparams[param]&&newparams[param].parent?this.getParentParam(newparams,newparams[param].parent):param},readLight:function(node,url){function parse_params(light,xml){for(var i=0;i<xml.childNodes.length;i++){var child=xml.childNodes.item(i);if(child&&1==child.nodeType)switch(child.localName){case"color":light.color=Collada.readContentAsFloats(child);break;case"falloff_angle":light.angle_end=Collada.readContentAsFloats(child)[0],light.angle=light.angle_end-10}}}var light={},xmlnode=null;if(url.length>1)xmlnode=this._xmlroot.querySelector("library_lights "+url);else{var xmlliblights=this._xmlroot.querySelector("library_lights");xmlnode=this.getFirstChildElement(xmlliblights,"light")}if(!xmlnode)return null;var children=[],xml=xmlnode.querySelector("technique_common");if(xml)for(var i=0;i<xml.childNodes.length;i++)1==xml.childNodes.item(i).nodeType&&children.push(xml.childNodes.item(i));for(var xmls=xmlnode.querySelectorAll("technique"),i=0;i<xmls.length;i++)for(var xml2=xmls.item(i),j=0;j<xml2.childNodes.length;j++)1==xml2.childNodes.item(j).nodeType&&children.push(xml2.childNodes.item(j));for(var i=0;i<children.length;i++){var xml=children[i];switch(xml.localName){case"point":case"directional":case"spot":light.type=this.light_translate_table[xml.localName],parse_params(light,xml);break;case"intensity":light.intensity=this.readContentAsFloats(xml)[0]}}if(node.model){light.position=[node.model[12],node.model[13],node.model[14]];var forward=[-node.model[8],-node.model[9],-node.model[10]];light.target=[light.position[0]+forward[0],light.position[1]+forward[1],light.position[2]+forward[2]]}else console.warn("Could not read light position for light: "+node.name+". Setting defaults."),light.position=[0,0,0],light.target=[0,-1,0];node.light=light},readCamera:function(node,url){var camera={},xmlnode=this._xmlroot.querySelector("library_cameras "+url);if(!xmlnode)return null;var children=[],xml=xmlnode.querySelector("technique_common");if(xml)for(var i=0;i<xml.childNodes.length;i++)1==xml.childNodes.item(i).nodeType&&children.push(xml.childNodes.item(i));for(var i=0;i<children.length;i++){var tag=children[i];!function(camera,xml){for(var i=0;i<xml.childNodes.length;i++){var child=xml.childNodes.item(i);child&&1==child.nodeType&&(camera[Collada.camera_translate_table[child.localName]||child.localName]=parseFloat(child.textContent))}}(camera,tag)}camera.yfov&&!camera.fov&&(camera.aspect?camera.fov=camera.yfov*camera.aspect:console.warn("Could not convert camera yfov to xfov because aspect ratio not set")),node.camera=camera},readTransform:function(xmlnode,level,flip){for(var matrix=_glMatrix.mat4.create(),temp=_glMatrix.mat4.create(),tmpq=_glMatrix.quat.create(),i=0;i<xmlnode.childNodes.length;i++){var xml=xmlnode.childNodes.item(i);if(xml&&1==xml.nodeType){if("matrix"==xml.localName){var matrix=this.readContentAsFloats(xml);return this.transformMatrix(matrix,0==level),matrix}if("translate"!=xml.localName)if("rotate"!=xml.localName){if("scale"==xml.localName){var values=this.readContentAsFloats(xml);if(flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}_glMatrix.mat4.scale(matrix,matrix,values)}}else{var values=this.readContentAsFloats(xml);if(4==values.length){var id=xml.getAttribute("sid");if("jointOrientX"==id&&(values[3]+=90,!0),flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}0!=values[3]&&(_glMatrix.quat.setAxisAngle(tmpq,values.subarray(0,3),values[3]*DEG2RAD),_glMatrix.mat4.fromQuat(temp,tmpq),_glMatrix.mat4.multiply(matrix,matrix,temp))}}else{var values=this.readContentAsFloats(xml);if(flip&&level>0){var tmp=values[1];values[1]=values[2],values[2]=-tmp}_glMatrix.mat4.translate(matrix,matrix,values)}}}return matrix},readTransform2:function(xmlnode,level,flip){for(var matrix=_glMatrix.mat4.create(),rotation=_glMatrix.quat.create(),tmpmatrix=_glMatrix.mat4.create(),tmpq=_glMatrix.quat.create(),translate=vec3.create(),scale=vec3.fromValues(1,1,1),i=0;i<xmlnode.childNodes.length;i++){var xml=xmlnode.childNodes.item(i);if("matrix"==xml.localName){var matrix=this.readContentAsFloats(xml);return this.transformMatrix(matrix,0==level),matrix}if("translate"!=xml.localName)if("rotate"!=xml.localName){if("scale"==xml.localName){var values=this.readContentAsFloats(xml);if(flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}scale.set(values)}}else{var values=this.readContentAsFloats(xml);if(4==values.length){var id=xml.getAttribute("sid");if("jointOrientX"==id&&(values[3]+=90,!0),flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}0!=values[3]&&(_glMatrix.quat.setAxisAngle(tmpq,values.subarray(0,3),values[3]*DEG2RAD),_glMatrix.quat.multiply(rotation,rotation,tmpq))}}else{var values=this.readContentAsFloats(xml);translate.set(values)}}if(flip&&level>0){var tmp=translate[1];translate[1]=translate[2],translate[2]=-tmp}return _glMatrix.mat4.translate(matrix,matrix,translate),_glMatrix.mat4.fromQuat(tmpmatrix,rotation),_glMatrix.mat4.multiply(matrix,matrix,tmpmatrix),_glMatrix.mat4.scale(matrix,matrix,scale),matrix},readGeometry:function(id,flip,scene){if(void 0!==this._geometries_found[id])return this._geometries_found[id];var xmlgeometry=this._xmlroot.getElementById(id.substr(1));if(!xmlgeometry)return console.warn("readGeometry: geometry not found: "+id),this._geometries_found[id]=null,null;if("controller"==xmlgeometry.localName){var geometry=this.readController(xmlgeometry,flip,scene);return this._geometries_found[id]=geometry,geometry}if("geometry"!=xmlgeometry.localName)return console.warn("readGeometry: tag should be geometry, instead it was found: "+xmlgeometry.localName),this._geometries_found[id]=null,null;var xmlmesh=xmlgeometry.querySelector("mesh");if(!xmlmesh)return console.warn("readGeometry: mesh not found in geometry: "+id),this._geometries_found[id]=null,null;for(var sources={},xmlsources=xmlmesh.querySelectorAll("source"),i=0;i<xmlsources.length;i++){var xmlsource=xmlsources.item(i);if(xmlsource.querySelector){var float_array=xmlsource.querySelector("float_array");if(float_array){var floats=this.readContentAsFloats(float_array),xmlaccessor=xmlsource.querySelector("accessor"),stride=parseInt(xmlaccessor.getAttribute("stride"));sources[xmlsource.getAttribute("id")]={stride:stride,data:floats}}}}var xmlvertices=xmlmesh.querySelector("vertices input"),vertices_source=sources[xmlvertices.getAttribute("source").substr(1)];sources[xmlmesh.querySelector("vertices").getAttribute("id")]=vertices_source;var mesh=null,xmlpolygons=xmlmesh.querySelector("polygons");if(xmlpolygons&&(mesh=this.readTriangles(xmlpolygons,sources)),!mesh){var xmltriangles=xmlmesh.querySelectorAll("triangles");xmltriangles&&xmltriangles.length&&(mesh=this.readTriangles(xmltriangles,sources))}if(!mesh){var xmlpolylist=xmlmesh.querySelector("polylist");xmlpolylist&&(mesh=this.readPolylist(xmlpolylist,sources))}if(!mesh){var xmllinestrip=xmlmesh.querySelector("linestrips");xmllinestrip&&(mesh=this.readLineStrip(sources,xmllinestrip))}if(!mesh)return console.log("no polygons or triangles in mesh: "+id),this._geometries_found[id]=null,null;if(flip&&!this.no_flip){for(var tmp=0,array=mesh.vertices,i=0,l=array.length;i<l;i+=3)tmp=array[i+1],array[i+1]=array[i+2],array[i+2]=-tmp;array=mesh.normals;for(var i=0,l=array.length;i<l;i+=3)tmp=array[i+1],array[i+1]=array[i+2],array[i+2]=-tmp}if(isWorker&&this.use_transferables)for(var i in mesh){var data=mesh[i];data&&data.buffer&&data.length>100&&this._transferables.push(data.buffer)}return mesh.filename=id,mesh.object_type="Mesh",this._geometries_found[id]=mesh,mesh},readTriangles:function(xmltriangles,sources){for(var groups=[],buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[],last_start=0,material_name="",tris=0;tris<xmltriangles.length;tris++){var xml_shape_root=xmltriangles.item(tris),triangles="triangles"==xml_shape_root.localName;material_name=xml_shape_root.getAttribute("material"),0==tris&&(buffers=this.readShapeInputs(xml_shape_root,sources));for(var xmlps=xml_shape_root.querySelectorAll("p"),i=(buffers.length,0);i<xmlps.length;i++){var xmlp=xmlps.item(i);if(!xmlp||!xmlp.textContent)break;var data=xmlp.textContent.trim().split(" "),first_index=-1,current_index=-1,prev_index=-1,num_values_per_vertex=1;for(var b in buffers)num_values_per_vertex=Math.max(num_values_per_vertex,buffers[b][4]+1);for(var k=0,l=data.length;k<l;k+=num_values_per_vertex){var vertex_id=data.slice(k,k+num_values_per_vertex).join(" ");if(prev_index=current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],array=buffer[1],source=buffer[3],index=parseInt(data[k+buffer[4]]);0==j&&(vertex_remap[array.length/buffer[2]]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x){if(void 0===source[index+x])throw"UNDEFINED!";array.push(source[index+x])}}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}triangles||(0==k&&(first_index=current_index),k>2&&(indicesArray.push(first_index),indicesArray.push(prev_index))),indicesArray.push(current_index)}}var group={name:"group"+tris,start:last_start,length:indicesArray.length-last_start,material:material_name||""};last_start=indicesArray.length,groups.push(group)}var mesh={vertices:new Float32Array(buffers[0][1]),info:{groups:groups},_remap:new Uint32Array(vertex_remap)};return this.transformMeshInfo(mesh,buffers,indicesArray),mesh},readPolylist:function(xml_shape_root,sources){var buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[];xml_shape_root.getAttribute("material"),buffers=this.readShapeInputs(xml_shape_root,sources);for(var xmlvcount=xml_shape_root.querySelector("vcount"),vcount=this.readContentAsUInt32(xmlvcount),xmlp=xml_shape_root.querySelector("p"),data=this.readContentAsUInt32(xmlp),num_data_vertex=buffers.length,pos=0,i=0,l=vcount.length;i<l;++i)for(var num_vertices=vcount[i],first_index=-1,current_index=-1,prev_index=-1,k=0;k<num_vertices;++k){var vertex_id=data.subarray(pos,pos+num_data_vertex).join(" ");if(prev_index=current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],index=parseInt(data[pos+j]),array=buffer[1],source=buffer[3];0==j&&(vertex_remap[array.length/num_data_vertex]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x)array.push(source[index+x])}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}num_vertices>3&&(0==k&&(first_index=current_index),k>2&&(indicesArray.push(first_index),indicesArray.push(prev_index))),indicesArray.push(current_index),pos+=num_data_vertex}var mesh={vertices:new Float32Array(buffers[0][1]),info:{},_remap:new Uint32Array(vertex_remap)};return this.transformMeshInfo(mesh,buffers,indicesArray),mesh},readShapeInputs:function(xml_shape_root,sources){for(var buffers=[],xmlinputs=xml_shape_root.querySelectorAll("input"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i);if(xmlinput.getAttribute){var semantic=xmlinput.getAttribute("semantic").toUpperCase(),stream_source=sources[xmlinput.getAttribute("source").substr(1)],offset=parseInt(xmlinput.getAttribute("offset")),data_set=0;xmlinput.getAttribute("set")&&(data_set=parseInt(xmlinput.getAttribute("set"))),buffers.push([semantic,[],stream_source.stride,stream_source.data,offset,data_set])}}return buffers},transformMeshInfo:function(mesh,buffers,indicesArray){for(var translator={normal:"normals",texcoord:"coords"},i=1;i<buffers.length;++i){var name=buffers[i][0].toLowerCase(),data=buffers[i][1];data.length&&(translator[name]&&(name=translator[name]),mesh[name]&&(name+=buffers[i][5]),mesh[name]=new Float32Array(data))}return indicesArray&&indicesArray.length&&(mesh.vertices.length>65536?mesh.triangles=new Uint32Array(indicesArray):mesh.triangles=new Uint16Array(indicesArray)),mesh},readLineStrip:function(sources,xmllinestrip){for(var buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[],xmlinputs=xmllinestrip.querySelectorAll("input"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i);if(xmlinput.getAttribute){var semantic=xmlinput.getAttribute("semantic").toUpperCase(),stream_source=sources[xmlinput.getAttribute("source").substr(1)],offset=parseInt(xmlinput.getAttribute("offset")),data_set=0;xmlinput.getAttribute("set")&&(data_set=parseInt(xmlinput.getAttribute("set"))),buffers.push([semantic,[],stream_source.stride,stream_source.data,offset,data_set])}}for(var xmlps=xmllinestrip.querySelectorAll("p"),num_data_vertex=buffers.length,i=0;i<xmlps.length;i++){var xmlp=xmlps.item(i);if(!xmlp||!xmlp.textContent)break;for(var data=xmlp.textContent.trim().split(" "),current_index=-1,k=0,l=data.length;k<l;k+=num_data_vertex){var vertex_id=data.slice(k,k+num_data_vertex).join(" ");if(current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],index=parseInt(data[k+j]),array=buffer[1],source=buffer[3];0==j&&(vertex_remap[array.length/num_data_vertex]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x)array.push(source[index+x])}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}indicesArray.push(current_index)}}var mesh={primitive:"line_strip",vertices:new Float32Array(buffers[0][1]),info:{}};return this.transformMeshInfo(mesh,buffers,indicesArray)},findXMLNodeById:function(root,nodename,id){if(this._xmlroot._nodes_by_id){var n=this._xmlroot._nodes_by_id[id];if(n&&n.localName==nodename)return n}else{var n=this._xmlroot.getElementById(id);if(n)return n}for(var childs=root.childNodes,i=0;i<childs.length;++i){var xmlnode=childs.item(i);if(1==xmlnode.nodeType&&xmlnode.localName==nodename){if(xmlnode.getAttribute("id")==id)return xmlnode}}return null},readImages:function(root){var xmlimages=root.querySelector("library_images");if(!xmlimages)return null;for(var images={},xmlimages_childs=xmlimages.childNodes,i=0;i<xmlimages_childs.length;++i){var xmlimage=xmlimages_childs.item(i);if(1==xmlimage.nodeType){var xmlinitfrom=xmlimage.querySelector("init_from");if(xmlinitfrom&&xmlinitfrom.textContent){var filename=this.getFilename(xmlinitfrom.textContent),id=xmlimage.getAttribute("id");images[id]={filename:filename,map:id,name:xmlimage.getAttribute("name"),path:xmlinitfrom.textContent}}}}return images},readAnimations:function(root,scene){var xmlanimations=root.querySelector("library_animations");if(!xmlanimations)return null;for(var xmlanimation_childs=xmlanimations.childNodes,animations={object_type:"Animation",takes:{}},default_take={tracks:[]},tracks=default_take.tracks,i=0;i<xmlanimation_childs.length;++i){var xmlanimation=xmlanimation_childs.item(i);if(1==xmlanimation.nodeType&&"animation"==xmlanimation.localName){if(xmlanimation.getAttribute("id"))this.readAnimation(xmlanimation,tracks);else{var xmlanimation2_childs=xmlanimation.querySelectorAll("animation");if(xmlanimation2_childs.length)for(var j=0;j<xmlanimation2_childs.length;++j){var xmlanimation2=xmlanimation2_childs.item(j);this.readAnimation(xmlanimation2,tracks)}else this.readAnimation(xmlanimation,tracks)}}}if(!tracks.length)return null;for(var max_time=0,i=0;i<tracks.length;++i)max_time<tracks[i].duration&&(max_time=tracks[i].duration);return default_take.name="default",default_take.duration=max_time,animations.takes[default_take.name]=default_take,animations},readAnimation:function(xmlanimation,result){if("animation"!=xmlanimation.localName)return null;var xmlchannel_list=(xmlanimation.getAttribute("id"),xmlanimation.querySelectorAll("channel"));if(!xmlchannel_list.length)return null;for(var tracks=result||[],i=0;i<xmlchannel_list.length;++i){var anim=this.readChannel(xmlchannel_list.item(i),xmlanimation);anim&&tracks.push(anim)}return tracks},readChannel:function(xmlchannel,xmlanimation){if("channel"!=xmlchannel.localName||"animation"!=xmlanimation.localName)return null;var source=xmlchannel.getAttribute("source"),target=xmlchannel.getAttribute("target"),xmlsampler=this.findXMLNodeById(xmlanimation,"sampler",source.substr(1));if(!xmlsampler)return console.error("Error DAE: Sampler not found in "+source),null;for(var inputs={},params={},sources={},xmlinputs=xmlsampler.querySelectorAll("input"),time_data=null,j=0;j<xmlinputs.length;j++){var xmlinput=xmlinputs.item(j),source_name=xmlinput.getAttribute("source"),semantic=xmlinput.getAttribute("semantic"),xmlsource=this.findXMLNodeById(xmlanimation,"source",source_name.substr(1));if(xmlsource){var xmlparam=xmlsource.querySelector("param");if(xmlparam){var type=xmlparam.getAttribute("type");inputs[semantic]={source:source_name,type:type};var data_array=null;if("float"==type||"float4x4"==type){var xmlfloatarray=xmlsource.querySelector("float_array"),floats=this.readContentAsFloats(xmlfloatarray);sources[source_name]=floats,data_array=floats;var param_name=xmlparam.getAttribute("name");"TIME"==param_name&&(time_data=data_array),"OUTPUT"==semantic&&(param_name=semantic),param_name?params[param_name]=type:console.warn("Collada: <param> without name attribute in <animation>")}}}}if(!time_data)return console.error("Error DAE: no TIME info found in <channel>: "+xmlchannel.getAttribute("source")),null;var path=target.split("/"),anim={},nodename=path[0],node=this._nodes_by_id[nodename],locator=node.id+"/"+path[1];anim.name=path[1],anim.property=locator;var type="number",element_size=1,param_type=params.OUTPUT;switch(param_type){case"float":element_size=1;break;case"float3x3":element_size=9,type="mat3";break;case"float4x4":element_size=16,type="mat4"}anim.type=type,anim.value_size=element_size,anim.duration=time_data[time_data.length-1];var value_data=sources[inputs.OUTPUT.source];if(!value_data)return null;for(var num_samples=time_data.length,sample_size=element_size+1,anim_data=new Float32Array(num_samples*sample_size),j=0;j<time_data.length;++j){anim_data[j*sample_size]=time_data[j];var value=value_data.subarray(j*element_size,(j+1)*element_size);"float4x4"==param_type&&this.transformMatrix(value,node?0==node._depth:0),anim_data.set(value,j*sample_size+1)}if(isWorker&&this.use_transferables){var data=anim_data;data&&data.buffer&&data.length>100&&this._transferables.push(data.buffer)}return anim.data=anim_data,anim},findNode:function(root,id){if(root.id==id)return root;if(root.children)for(var i in root.children){var ret=this.findNode(root.children[i],id);if(ret)return ret}return null},readLibraryControllers:function(scene){var xmllibrarycontrollers=this._xmlroot.querySelector("library_controllers");if(!xmllibrarycontrollers)return null;for(var xmllibrarycontrollers_childs=xmllibrarycontrollers.childNodes,i=0;i<xmllibrarycontrollers_childs.length;++i){var xmlcontroller=xmllibrarycontrollers_childs.item(i);if(1==xmlcontroller.nodeType&&"controller"==xmlcontroller.localName){var id=xmlcontroller.getAttribute("id");this._controllers_found[id]||this.readController(xmlcontroller,null,scene)}}},readController:function(xmlcontroller,flip,scene){if("controller"==!xmlcontroller.localName)return console.warn("readController: not a controller: "+xmlcontroller.localName),null;var id=xmlcontroller.getAttribute("id");if(this._controllers_found[id])return this._controllers_found[id];var mesh=null,xmlskin=xmlcontroller.querySelector("skin");xmlskin&&(mesh=this.readSkinController(xmlskin,flip,scene));var xmlmorph=xmlcontroller.querySelector("morph");return xmlmorph&&(mesh=this.readMorphController(xmlmorph,flip,scene,mesh)),this._controllers_found[id]?id+="_1blah":this._controllers_found[id]=mesh,mesh},readSkinController:function(xmlskin,flip,scene){var id_geometry=xmlskin.getAttribute("source"),mesh=this.readGeometry(id_geometry,flip,scene);if(!mesh)return null;var sources=this.readSources(xmlskin,flip);if(!sources)return null;var bind_matrix=null,xmlbindmatrix=xmlskin.querySelector("bind_shape_matrix");xmlbindmatrix?(bind_matrix=this.readContentAsFloats(xmlbindmatrix),this.transformMatrix(bind_matrix,!0,!0)):bind_matrix=_glMatrix.mat4.create();var joints=[],xmljoints=xmlskin.querySelector("joints");if(xmljoints){for(var joints_source=null,inv_bind_source=null,xmlinputs=xmljoints.querySelectorAll("input"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs[i],sem=xmlinput.getAttribute("semantic").toUpperCase(),src=xmlinput.getAttribute("source"),source=sources[src.substr(1)];"JOINT"==sem?joints_source=source:"INV_BIND_MATRIX"==sem&&(inv_bind_source=source)}if(!inv_bind_source||!joints_source)return console.error("Error DAE: no joints or inv_bind sources found"),null;for(var i in joints_source){var inv_mat=inv_bind_source.subarray(16*i,16*i+16),nodename=joints_source[i],node=this._nodes_by_id[nodename];node?(this.transformMatrix(inv_mat,0==node._depth,!0),joints.push([nodename,inv_mat])):console.warn("Node "+nodename+" not found")}}var xmlvertexweights=xmlskin.querySelector("vertex_weights");if(xmlvertexweights){for(var weights_indexed_array=null,xmlinputs=xmlvertexweights.querySelectorAll("input"),i=0;i<xmlinputs.length;i++)"WEIGHT"==xmlinputs[i].getAttribute("semantic").toUpperCase()&&(weights_indexed_array=sources[xmlinputs.item(i).getAttribute("source").substr(1)]);if(!weights_indexed_array)throw"no weights found";for(var xmlvcount=xmlvertexweights.querySelector("vcount"),vcount=this.readContentAsUInt32(xmlvcount),xmlv=xmlvertexweights.querySelector("v"),v=this.readContentAsUInt32(xmlv),num_vertices=mesh.vertices.length/3,weights_array=new Float32Array(4*num_vertices),bone_index_array=new Uint8Array(4*num_vertices),pos=0,remap=mesh._remap,max_bone=0,i=0,l=vcount.length;i<l;++i){for(var num_bones=vcount[i],offset=pos,b=bone_index_array.subarray(4*i,4*i+4),w=weights_array.subarray(4*i,4*i+4),sum=0,j=0;j<num_bones&&j<4;++j)b[j]=v[offset+2*j],b[j]>max_bone&&(max_bone=b[j]),w[j]=weights_indexed_array[v[offset+2*j+1]],sum+=w[j];if(num_bones>4&&sum<1)for(var inv_sum=1/sum,j=0;j<4;++j)w[j]*=inv_sum;pos+=2*num_bones}for(var final_weights=new Float32Array(4*num_vertices),final_bone_indices=new Uint8Array(4*num_vertices),used_joints=[],i=0;i<num_vertices;++i){for(var p=4*remap[i],w=weights_array.subarray(p,p+4),b=bone_index_array.subarray(p,p+4),k=0;k<3;++k){for(var max_pos=k,max_value=w[k],j=k+1;j<4;++j)w[j]<=max_value||(max_pos=j,max_value=w[j]);if(max_pos!=k){var tmp=w[k];w[k]=w[max_pos],w[max_pos]=tmp,tmp=b[k],b[k]=b[max_pos],b[max_pos]=tmp}}final_weights.set(w,4*i),final_bone_indices.set(b,4*i),w[0]&&(used_joints[b[0]]=!0),w[1]&&(used_joints[b[1]]=!0),w[2]&&(used_joints[b[2]]=!0),w[3]&&(used_joints[b[3]]=!0)}max_bone>=joints.length&&console.warn("Mesh uses higher bone index than bones found");for(var new_bones=[],bones_translation={},i=0;i<used_joints.length;++i)used_joints[i]&&(bones_translation[i]=new_bones.length,new_bones.push(joints[i]));if(new_bones.length<joints.length){for(var i=0;i<final_bone_indices.length;i++)final_bone_indices[i]=bones_translation[final_bone_indices[i]];joints=new_bones}mesh.weights=final_weights,mesh.bone_indices=final_bone_indices,mesh.bones=joints,mesh.bind_matrix=bind_matrix}return mesh},readMorphController:function(xmlmorph,flip,scene,mesh){var id_geometry=xmlmorph.getAttribute("source"),base_mesh=this.readGeometry(id_geometry,flip,scene);if(!base_mesh)return null;var sources=this.readSources(xmlmorph,flip),morphs=[],xmltargets=xmlmorph.querySelector("targets");if(!xmltargets)return null;for(var xmlinputs=xmltargets.querySelectorAll("input"),targets=null,weights=null,i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i),semantic=xmlinput.getAttribute("semantic").toUpperCase(),data=sources[xmlinput.getAttribute("source").substr(1)];"MORPH_TARGET"==semantic?targets=data:"MORPH_WEIGHT"==semantic&&(weights=data)}if(!targets||!weights)return console.warn("Morph controller without targets or weights. Skipping it."),null;for(var i in targets){var id="#"+targets[i],geometry=this.readGeometry(id,flip,scene);scene.meshes[id]=geometry,morphs.push({mesh:id,weight:weights[i]})}return base_mesh.morph_targets=morphs,base_mesh},readBindMaterials:function(xmlbind_material,mesh){for(var materials=[],xmltechniques=xmlbind_material.querySelectorAll("technique_common"),i=0;i<xmltechniques.length;i++)for(var xmltechnique=xmltechniques.item(i),xmlinstance_materials=xmltechnique.querySelectorAll("instance_material"),j=0;j<xmlinstance_materials.length;j++){var xmlinstance_material=xmlinstance_materials.item(j);xmlinstance_material&&materials.push(xmlinstance_material.getAttribute("symbol"))}return materials},readSources:function(xmlnode,flip){for(var sources={},xmlsources=xmlnode.querySelectorAll("source"),i=0;i<xmlsources.length;i++){var xmlsource=xmlsources.item(i);if(xmlsource.querySelector){if(xmlsource.querySelector("float_array")){var floats=this.readContentAsFloats(xmlsource);sources[xmlsource.getAttribute("id")]=floats}else{var name_array=xmlsource.querySelector("Name_array");if(name_array){var names=this.readContentAsStringsArray(name_array);if(!names)continue;sources[xmlsource.getAttribute("id")]=names}else{var ref_array=xmlsource.querySelector("IDREF_array");if(ref_array){var names=this.readContentAsStringsArray(ref_array);if(!names)continue;sources[xmlsource.getAttribute("id")]=names}else;}}}}return sources},readContentAsUInt32:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;if(text=text.replace(/\n/gi," "),text=text.trim(),0==text.length)return null;for(var numbers=text.split(" "),floats=new Uint32Array(numbers.length),k=0;k<numbers.length;k++)floats[k]=parseInt(numbers[k]);return floats},readContentAsFloats:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;text=text.replace(/\n/gi," "),text=text.replace(/\s\s+/gi," "),text=text.replace(/\t/gi,""),text=text.trim();for(var numbers=text.split(" "),count=xmlnode.getAttribute("count"),length=count?parseInt(count):numbers.length,floats=new Float32Array(length),k=0;k<numbers.length;k++)floats[k]=parseFloat(numbers[k]);return floats},readContentAsStringsArray:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;text=text.replace(/\n/gi," "),text=text.replace(/\s\s/gi," "),text=text.trim();for(var words=text.split(" "),k=0;k<words.length;k++)words[k]=words[k].trim();if(xmlnode.getAttribute("count")&&parseInt(xmlnode.getAttribute("count"))!=words.length){var merged_words=[],name="";for(var i in words)name?name+=" "+words[i]:name=words[i],this._nodes_by_id[this.safeString(name)]&&(merged_words.push(this.safeString(name)),name="");var count=parseInt(xmlnode.getAttribute("count"));return merged_words.length==count?merged_words:(console.error("Error: bone names have spaces, avoid using spaces in names"),null)}return words},max3d_matrix_0:new Float32Array([0,-1,0,0,0,0,-1,0,1,0,0,-0,0,0,0,1]),transformMatrix:function(matrix,first_level,inverted){if(_glMatrix.mat4.transpose(matrix,matrix),this.no_flip)return matrix;if(first_level){var temp=new Float32Array(matrix.subarray(4,8));matrix.set(matrix.subarray(8,12),4),matrix.set(temp,8),temp=matrix.subarray(8,12),vec4.scale(temp,temp,-1)}else{var M=_glMatrix.mat4.create(),m=matrix;M.set([m[0],m[2],-m[1]],0),M.set([m[8],m[10],-m[9]],4),M.set([-m[4],-m[6],m[5]],8),M.set([m[12],m[14],-m[13]],12),m.set(M)}return matrix}};exports.default=Collada,module.exports=exports.default}).call(exports,__webpack_require__(70))},function(module,exports,__webpack_require__){"use strict";var g,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Pass=__webpack_require__(9),_GLTool=(_interopRequireDefault(_Pass),__webpack_require__(0)),_GLTool2=_interopRequireDefault(_GLTool),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_FrameBuffer=__webpack_require__(12),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),EffectComposer=function(){function EffectComposer(mWidth,mHeight){arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,EffectComposer),this._width=mWidth||_GLTool2.default.width,this._height=mHeight||_GLTool2.default.height,this._params={},this.setSize(mWidth,mHeight),this._mesh=_Geom2.default.bigTriangle(),this._passes=[],this._returnTexture}return _createClass(EffectComposer,[{key:"addPass",value:function(pass){if(pass.passes)return void this.addPass(pass.passes);if(pass.length)for(var i=0;i<pass.length;i++)this._passes.push(pass[i]);else this._passes.push(pass)}},{key:"render",value:function(mSource){var _this=this,source=mSource,fboTarget=void 0;return this._passes.forEach(function(pass){fboTarget=pass.hasFbo?pass.fbo:_this._fboTarget,fboTarget.bind(),_GLTool2.default.clear(0,0,0,0),pass.render(source),_GLTool2.default.draw(_this._mesh),fboTarget.unbind(),pass.hasFbo?source=pass.fbo.getTexture():(_this._swap(),source=_this._fboCurrent.getTexture())}),this._returnTexture=source,source}},{key:"_swap",value:function(){var tmp=this._fboCurrent;this._fboCurrent=this._fboTarget,this._fboTarget=tmp,this._current=this._fboCurrent,this._target=this._fboTarget}},{key:"setSize",value:function(mWidth,mHeight){this._width=mWidth,this._height=mHeight,this._fboCurrent=new _FrameBuffer2.default(this._width,this._height,this._params),this._fboTarget=new _FrameBuffer2.default(this._width,this._height,this._params)}},{key:"getTexture",value:function(){return this._returnTexture}},{key:"passes",get:function(){return this._passes}}]),EffectComposer}();exports.default=EffectComposer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _PassVBlur=__webpack_require__(37),_PassVBlur2=_interopRequireDefault(_PassVBlur),_PassHBlur=__webpack_require__(39),_PassHBlur2=_interopRequireDefault(_PassHBlur),_PassMacro2=__webpack_require__(36),_PassMacro3=_interopRequireDefault(_PassMacro2),PassBlur=function(_PassMacro){function PassBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];_classCallCheck(this,PassBlur);var _this=_possibleConstructorReturn(this,(PassBlur.__proto__||Object.getPrototypeOf(PassBlur)).call(this)),vBlur=new _PassVBlur2.default(mQuality,mWidth,mHeight,mParams),hBlur=new _PassHBlur2.default(mQuality,mWidth,mHeight,mParams);return _this.addPass(vBlur),_this.addPass(hBlur),_this}return _inherits(PassBlur,_PassMacro),PassBlur}(_PassMacro3.default);exports.default=PassBlur},function(module,exports){module.exports="// blur5.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_5\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3333333333333333) * direction;\n\tcolor += texture2D(image, uv) * 0.29411764705882354;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\n\treturn color; \n}\n\n\nvoid main(void) {\n    gl_FragColor = blur5(texture, vTextureCoord, uResolution, uDirection);\n}"},function(module,exports){module.exports="// blur9.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_9\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3846153846) * direction;\n\tvec2 off2 = vec2(3.2307692308) * direction;\n\tcolor += texture2D(image, uv) * 0.2270270270;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n\treturn color;\n}\n\n\nvoid main(void) {\n    gl_FragColor = blur9(texture, vTextureCoord, uResolution, uDirection);\n}"},function(module,exports){module.exports="// blur13.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_13\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.411764705882353) * direction;\n\tvec2 off2 = vec2(3.2941176470588234) * direction;\n\tvec2 off3 = vec2(5.176470588235294) * direction;\n\tcolor += texture2D(image, uv) * 0.1964825501511404;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n\tcolor += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n\tcolor += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n\treturn color;\n}\n\n\nvoid main(void) {\n    gl_FragColor = blur13(texture, vTextureCoord, uResolution, uDirection);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Pass2=__webpack_require__(9),_Pass3=_interopRequireDefault(_Pass2),_fxaa=__webpack_require__(40),_fxaa2=_interopRequireDefault(_fxaa),PassFxaa=function(_Pass){function PassFxaa(){_classCallCheck(this,PassFxaa);var _this=_possibleConstructorReturn(this,(PassFxaa.__proto__||Object.getPrototypeOf(PassFxaa)).call(this,_fxaa2.default));return _this.uniform("uResolution",[1/_GLTool2.default.width,1/_GLTool2.default.height]),_this}return _inherits(PassFxaa,_Pass),PassFxaa}(_Pass3.default);exports.default=PassFxaa},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(18),fs=__webpack_require__(19),BatchCopy=function(_Batch){function BatchCopy(){_classCallCheck(this,BatchCopy);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchCopy.__proto__||Object.getPrototypeOf(BatchCopy)).call(this,mesh,shader));return shader.bind(),shader.uniform("texture","uniform1i",0),_this}return _inherits(BatchCopy,_Batch),_createClass(BatchCopy,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchCopy.prototype.__proto__||Object.getPrototypeOf(BatchCopy.prototype),"draw",this).call(this)}}]),BatchCopy}(_Batch3.default);exports.default=BatchCopy},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(79),fs=__webpack_require__(80),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],colors=[],indices=[0,1,2,3,4,5],r=9999;positions.push([-r,0,0]),positions.push([r,0,0]),positions.push([0,-r,0]),positions.push([0,r,0]),positions.push([0,0,-r]),positions.push([0,0,r]),colors.push([1,0,0]),colors.push([1,0,0]),colors.push([0,1,0]),colors.push([0,1,0]),colors.push([0,0,1]),colors.push([0,0,1]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferIndex(indices),mesh.bufferData(colors,"aColor",3);var shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports){module.exports="// axis.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aColor;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vColor = aColor;\n    vNormal = aNormal;\n}"},function(module,exports){module.exports="// axis.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\t// vec3 color = vNormal;\n\tvec3 color = vColor + vNormal * 0.0001;\n    gl_FragColor = vec4(color, 1.0);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(33),fs=__webpack_require__(10),BatchBall=function(_Batch){function BatchBall(){_classCallCheck(this,BatchBall);var mesh=_Geom2.default.sphere(1,24),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchBall.__proto__||Object.getPrototypeOf(BatchBall)).call(this,mesh,shader))}return _inherits(BatchBall,_Batch),_createClass(BatchBall,[{key:"draw",value:function(){var position=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],scale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.shader.bind(),this.shader.uniform("position","uniform3fv",position),this.shader.uniform("scale","uniform3fv",scale),this.shader.uniform("color","uniform3fv",color),this.shader.uniform("opacity","uniform1f",opacity),_get(BatchBall.prototype.__proto__||Object.getPrototypeOf(BatchBall.prototype),"draw",this).call(this)}}]),BatchBall}(_Batch3.default);exports.default=BatchBall},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(83),fs=__webpack_require__(10),BatchDotsPlane=function(_Batch){function BatchDotsPlane(){_classCallCheck(this,BatchDotsPlane);var positions=[],indices=[],index=0,i=void 0,j=void 0;for(i=-100;i<100;i+=1)for(j=-100;j<100;j+=1)positions.push([i,j,0]),indices.push(index),index++,positions.push([i,0,j]),indices.push(index),index++;var mesh=new _Mesh2.default(_GLTool2.default.POINTS);mesh.bufferVertex(positions),mesh.bufferIndex(indices);var shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchDotsPlane.__proto__||Object.getPrototypeOf(BatchDotsPlane)).call(this,mesh,shader));return _this.color=[1,1,1],_this.opacity=.5,_this}return _inherits(BatchDotsPlane,_Batch),_createClass(BatchDotsPlane,[{key:"draw",value:function(){this.shader.bind(),this.shader.uniform("color","uniform3fv",this.color),this.shader.uniform("opacity","uniform1f",this.opacity),_get(BatchDotsPlane.prototype.__proto__||Object.getPrototypeOf(BatchDotsPlane.prototype),"draw",this).call(this)}}]),BatchDotsPlane}(_Batch3.default);exports.default=BatchDotsPlane},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME DOTS_PLANE_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition + aNormal * 0.000001, 1.0);\n    gl_PointSize = 1.0;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(11),fs=__webpack_require__(10),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],indices=[0,1],coords=[[0,0],[1,1]];positions.push([0,0,0]),positions.push([0,0,0]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices);var shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),_createClass(BatchAxis,[{key:"draw",value:function(mPositionA,mPositionB){var color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._mesh.bufferVertex([mPositionA,mPositionB]),this._shader.bind(),this._shader.uniform("color","vec3",color),this._shader.uniform("opacity","float",opacity),_get(BatchAxis.prototype.__proto__||Object.getPrototypeOf(BatchAxis.prototype),"draw",this).call(this)}}]),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(34),fs=__webpack_require__(35),BatchSkybox=function(_Batch){function BatchSkybox(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;_classCallCheck(this,BatchSkybox);var mesh=_Geom2.default.skybox(size),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSkybox.__proto__||Object.getPrototypeOf(BatchSkybox)).call(this,mesh,shader))}return _inherits(BatchSkybox,_Batch),_createClass(BatchSkybox,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSkybox.prototype.__proto__||Object.getPrototypeOf(BatchSkybox.prototype),"draw",this).call(this)}}]),BatchSkybox}(_Batch3.default);exports.default=BatchSkybox},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(87),fs=__webpack_require__(19),BatchSky=function(_Batch){function BatchSky(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,seg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;_classCallCheck(this,BatchSky);var mesh=_Geom2.default.sphere(size,seg,!0),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSky.__proto__||Object.getPrototypeOf(BatchSky)).call(this,mesh,shader))}return _inherits(BatchSky,_Batch),_createClass(BatchSky,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSky.prototype.__proto__||Object.getPrototypeOf(BatchSky.prototype),"draw",this).call(this)}}]),BatchSky}(_Batch3.default);exports.default=BatchSky},function(module,exports){module.exports="// sky.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n    gl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(18),fs=__webpack_require__(40),BatchFXAA=function(_Batch){function BatchFXAA(){_classCallCheck(this,BatchFXAA);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchFXAA.__proto__||Object.getPrototypeOf(BatchFXAA)).call(this,mesh,shader));return shader.bind(),shader.uniform("texture","uniform1i",0),_this}return _inherits(BatchFXAA,_Batch),_createClass(BatchFXAA,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),this.shader.uniform("uResolution","vec2",[1/_GLTool2.default.width,1/_GLTool2.default.height]),_get(BatchFXAA.prototype.__proto__||Object.getPrototypeOf(BatchFXAA.prototype),"draw",this).call(this)}}]),BatchFXAA}(_Batch3.default);exports.default=BatchFXAA},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_CameraPerspective=__webpack_require__(16),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraOrtho=__webpack_require__(30),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_OrbitalControl=__webpack_require__(29),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),Scene=function(){function Scene(){var _this=this;_classCallCheck(this,Scene),this._children=[],this._matrixIdentity=mat4.create(),_GLTool2.default.enableAlphaBlending(),this._init(),this._initTextures(),this._initViews(),this._efIndex=_scheduling2.default.addEF(function(){return _this._loop()}),window.addEventListener("resize",function(){return _this.resize()})}return _createClass(Scene,[{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"stop",value:function(){-1!==this._efIndex&&(this._efIndex=_scheduling2.default.removeEF(this._efIndex))}},{key:"start",value:function(){var _this2=this;-1===this._efIndex&&(this._efIndex=_scheduling2.default.addEF(function(){return _this2._loop()}))}},{key:"resize",value:function(){_GLTool2.default.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(_GLTool2.default.aspectRatio)}},{key:"addChild",value:function(mChild){this._children.push(mChild)}},{key:"removeChild",value:function(mChild){var index=this._children.indexOf(mChild);if(-1==index)return void console.warn("Child no exist");this._children.splice(index,1)}},{key:"_initTextures",value:function(){}},{key:"_initViews",value:function(){}},{key:"_renderChildren",value:function(){for(var child=void 0,i=0;i<this._children.length;i++)child=this._children[i],child.toRender();_GLTool2.default.rotate(this._matrixIdentity)}},{key:"_init",value:function(){this.camera=new _CameraPerspective2.default,this.camera.setPerspective(45*Math.PI/180,_GLTool2.default.aspectRatio,.1,100),this.orbitalControl=new _OrbitalControl2.default(this.camera,window,15),this.orbitalControl.radius.value=10,this.cameraOrtho=new _CameraOrtho2.default}},{key:"_loop",value:function(){_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),_GLTool2.default.setMatrices(this.camera),this.update(),this._renderChildren(),this.render()}}]),Scene}();exports.default=Scene},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLShader=__webpack_require__(2),_GLShader2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLShader),View=function(){function View(mStrVertex,mStrFrag){_classCallCheck(this,View),this.shader=new _GLShader2.default(mStrVertex,mStrFrag),this._init()}return _createClass(View,[{key:"_init",value:function(){}},{key:"render",value:function(){}}]),View}();exports.default=View},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Object3D2=__webpack_require__(31),_Object3D3=_interopRequireDefault(_Object3D2),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),View3D=function(_Object3D){function View3D(mStrVertex,mStrFrag){_classCallCheck(this,View3D);var _this=_possibleConstructorReturn(this,(View3D.__proto__||Object.getPrototypeOf(View3D)).call(this));return _this._children=[],_this.shader=new _GLShader2.default(mStrVertex,mStrFrag),_this._init(),_this._matrixTemp=mat4.create(),_this}return _inherits(View3D,_Object3D),_createClass(View3D,[{key:"_init",value:function(){}},{key:"addChild",value:function(mChild){this._children.push(mChild)}},{key:"removeChild",value:function(mChild){var index=this._children.indexOf(mChild);if(-1==index)return void console.warn("Child no exist");this._children.splice(index,1)}},{key:"toRender",value:function(matrix){void 0===matrix&&(matrix=mat4.create()),mat4.mul(this._matrixTemp,matrix,this.matrix),_GLTool2.default.rotate(this._matrixTemp),this.render();for(var i=0;i<this._children.length;i++){this._children[i].toRender(this.matrix)}}},{key:"render",value:function(){}}]),View3D}(_Object3D3.default);exports.default=View3D}])});

/***/ }),

/***/ 36:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _datGui = __webpack_require__(37);

var _datGui2 = _interopRequireDefault(_datGui);

var _stats = __webpack_require__(40);

var _stats2 = _interopRequireDefault(_stats);

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//	INIT DAT-GUI
window.gui = new _datGui2.default.GUI({ width: 300 }); // debug.js

var div = document.body.querySelector('.dg.ac');
div.style.zIndex = '999';

//	STATS
var stats = new _stats2.default();
document.body.appendChild(stats.domElement);
_alfrid2.default.Scheduler.addEF(function () {
  return stats.update();
});

/***/ }),

/***/ 37:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(38)
module.exports.color = __webpack_require__(39)

/***/ }),

/***/ 38:
/***/ (function(module, exports) {

/**
 * dat-gui JavaScript Controller Library
 * http://code.google.com/p/dat-gui
 *
 * Copyright 2011 Data Arts Team, Google Creative Lab
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */

/** @namespace */
var dat = module.exports = dat || {};

/** @namespace */
dat.gui = dat.gui || {};

/** @namespace */
dat.utils = dat.utils || {};

/** @namespace */
dat.controllers = dat.controllers || {};

/** @namespace */
dat.dom = dat.dom || {};

/** @namespace */
dat.color = dat.color || {};

dat.utils.css = (function () {
  return {
    load: function (url, doc) {
      doc = doc || document;
      var link = doc.createElement('link');
      link.type = 'text/css';
      link.rel = 'stylesheet';
      link.href = url;
      doc.getElementsByTagName('head')[0].appendChild(link);
    },
    inject: function(css, doc) {
      doc = doc || document;
      var injected = document.createElement('style');
      injected.type = 'text/css';
      injected.innerHTML = css;
      doc.getElementsByTagName('head')[0].appendChild(injected);
    }
  }
})();


dat.utils.common = (function () {
  
  var ARR_EACH = Array.prototype.forEach;
  var ARR_SLICE = Array.prototype.slice;

  /**
   * Band-aid methods for things that should be a lot easier in JavaScript.
   * Implementation and structure inspired by underscore.js
   * http://documentcloud.github.com/underscore/
   */

  return { 
    
    BREAK: {},
  
    extend: function(target) {
      
      this.each(ARR_SLICE.call(arguments, 1), function(obj) {
        
        for (var key in obj)
          if (!this.isUndefined(obj[key])) 
            target[key] = obj[key];
        
      }, this);
      
      return target;
      
    },
    
    defaults: function(target) {
      
      this.each(ARR_SLICE.call(arguments, 1), function(obj) {
        
        for (var key in obj)
          if (this.isUndefined(target[key])) 
            target[key] = obj[key];
        
      }, this);
      
      return target;
    
    },
    
    compose: function() {
      var toCall = ARR_SLICE.call(arguments);
            return function() {
              var args = ARR_SLICE.call(arguments);
              for (var i = toCall.length -1; i >= 0; i--) {
                args = [toCall[i].apply(this, args)];
              }
              return args[0];
            }
    },
    
    each: function(obj, itr, scope) {

      
      if (ARR_EACH && obj.forEach === ARR_EACH) { 
        
        obj.forEach(itr, scope);
        
      } else if (obj.length === obj.length + 0) { // Is number but not NaN
        
        for (var key = 0, l = obj.length; key < l; key++)
          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) 
            return;
            
      } else {

        for (var key in obj) 
          if (itr.call(scope, obj[key], key) === this.BREAK)
            return;
            
      }
            
    },
    
    defer: function(fnc) {
      setTimeout(fnc, 0);
    },
    
    toArray: function(obj) {
      if (obj.toArray) return obj.toArray();
      return ARR_SLICE.call(obj);
    },

    isUndefined: function(obj) {
      return obj === undefined;
    },
    
    isNull: function(obj) {
      return obj === null;
    },
    
    isNaN: function(obj) {
      return obj !== obj;
    },
    
    isArray: Array.isArray || function(obj) {
      return obj.constructor === Array;
    },
    
    isObject: function(obj) {
      return obj === Object(obj);
    },
    
    isNumber: function(obj) {
      return obj === obj+0;
    },
    
    isString: function(obj) {
      return obj === obj+'';
    },
    
    isBoolean: function(obj) {
      return obj === false || obj === true;
    },
    
    isFunction: function(obj) {
      return Object.prototype.toString.call(obj) === '[object Function]';
    }
  
  };
    
})();


dat.controllers.Controller = (function (common) {

  /**
   * @class An "abstract" class that represents a given property of an object.
   *
   * @param {Object} object The object to be manipulated
   * @param {string} property The name of the property to be manipulated
   *
   * @member dat.controllers
   */
  var Controller = function(object, property) {

    this.initialValue = object[property];

    /**
     * Those who extend this class will put their DOM elements in here.
     * @type {DOMElement}
     */
    this.domElement = document.createElement('div');

    /**
     * The object to manipulate
     * @type {Object}
     */
    this.object = object;

    /**
     * The name of the property to manipulate
     * @type {String}
     */
    this.property = property;

    /**
     * The function to be called on change.
     * @type {Function}
     * @ignore
     */
    this.__onChange = undefined;

    /**
     * The function to be called on finishing change.
     * @type {Function}
     * @ignore
     */
    this.__onFinishChange = undefined;

  };

  common.extend(

      Controller.prototype,

      /** @lends dat.controllers.Controller.prototype */
      {

        /**
         * Specify that a function fire every time someone changes the value with
         * this Controller.
         *
         * @param {Function} fnc This function will be called whenever the value
         * is modified via this Controller.
         * @returns {dat.controllers.Controller} this
         */
        onChange: function(fnc) {
          this.__onChange = fnc;
          return this;
        },

        /**
         * Specify that a function fire every time someone "finishes" changing
         * the value wih this Controller. Useful for values that change
         * incrementally like numbers or strings.
         *
         * @param {Function} fnc This function will be called whenever
         * someone "finishes" changing the value via this Controller.
         * @returns {dat.controllers.Controller} this
         */
        onFinishChange: function(fnc) {
          this.__onFinishChange = fnc;
          return this;
        },

        /**
         * Change the value of <code>object[property]</code>
         *
         * @param {Object} newValue The new value of <code>object[property]</code>
         */
        setValue: function(newValue) {
          this.object[this.property] = newValue;
          if (this.__onChange) {
            this.__onChange.call(this, newValue);
          }
          this.updateDisplay();
          return this;
        },

        /**
         * Gets the value of <code>object[property]</code>
         *
         * @returns {Object} The current value of <code>object[property]</code>
         */
        getValue: function() {
          return this.object[this.property];
        },

        /**
         * Refreshes the visual display of a Controller in order to keep sync
         * with the object's current value.
         * @returns {dat.controllers.Controller} this
         */
        updateDisplay: function() {
          return this;
        },

        /**
         * @returns {Boolean} true if the value has deviated from initialValue
         */
        isModified: function() {
          return this.initialValue !== this.getValue()
        }

      }

  );

  return Controller;


})(dat.utils.common);


dat.dom.dom = (function (common) {

  var EVENT_MAP = {
    'HTMLEvents': ['change'],
    'MouseEvents': ['click','mousemove','mousedown','mouseup', 'mouseover'],
    'KeyboardEvents': ['keydown']
  };

  var EVENT_MAP_INV = {};
  common.each(EVENT_MAP, function(v, k) {
    common.each(v, function(e) {
      EVENT_MAP_INV[e] = k;
    });
  });

  var CSS_VALUE_PIXELS = /(\d+(\.\d+)?)px/;

  function cssValueToPixels(val) {

    if (val === '0' || common.isUndefined(val)) return 0;

    var match = val.match(CSS_VALUE_PIXELS);

    if (!common.isNull(match)) {
      return parseFloat(match[1]);
    }

    // TODO ...ems? %?

    return 0;

  }

  /**
   * @namespace
   * @member dat.dom
   */
  var dom = {

    /**
     * 
     * @param elem
     * @param selectable
     */
    makeSelectable: function(elem, selectable) {

      if (elem === undefined || elem.style === undefined) return;

      elem.onselectstart = selectable ? function() {
        return false;
      } : function() {
      };

      elem.style.MozUserSelect = selectable ? 'auto' : 'none';
      elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';
      elem.unselectable = selectable ? 'on' : 'off';

    },

    /**
     *
     * @param elem
     * @param horizontal
     * @param vertical
     */
    makeFullscreen: function(elem, horizontal, vertical) {

      if (common.isUndefined(horizontal)) horizontal = true;
      if (common.isUndefined(vertical)) vertical = true;

      elem.style.position = 'absolute';

      if (horizontal) {
        elem.style.left = 0;
        elem.style.right = 0;
      }
      if (vertical) {
        elem.style.top = 0;
        elem.style.bottom = 0;
      }

    },

    /**
     *
     * @param elem
     * @param eventType
     * @param params
     */
    fakeEvent: function(elem, eventType, params, aux) {
      params = params || {};
      var className = EVENT_MAP_INV[eventType];
      if (!className) {
        throw new Error('Event type ' + eventType + ' not supported.');
      }
      var evt = document.createEvent(className);
      switch (className) {
        case 'MouseEvents':
          var clientX = params.x || params.clientX || 0;
          var clientY = params.y || params.clientY || 0;
          evt.initMouseEvent(eventType, params.bubbles || false,
              params.cancelable || true, window, params.clickCount || 1,
              0, //screen X
              0, //screen Y
              clientX, //client X
              clientY, //client Y
              false, false, false, false, 0, null);
          break;
        case 'KeyboardEvents':
          var init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz
          common.defaults(params, {
            cancelable: true,
            ctrlKey: false,
            altKey: false,
            shiftKey: false,
            metaKey: false,
            keyCode: undefined,
            charCode: undefined
          });
          init(eventType, params.bubbles || false,
              params.cancelable, window,
              params.ctrlKey, params.altKey,
              params.shiftKey, params.metaKey,
              params.keyCode, params.charCode);
          break;
        default:
          evt.initEvent(eventType, params.bubbles || false,
              params.cancelable || true);
          break;
      }
      common.defaults(evt, aux);
      elem.dispatchEvent(evt);
    },

    /**
     *
     * @param elem
     * @param event
     * @param func
     * @param bool
     */
    bind: function(elem, event, func, bool) {
      bool = bool || false;
      if (elem.addEventListener)
        elem.addEventListener(event, func, bool);
      else if (elem.attachEvent)
        elem.attachEvent('on' + event, func);
      return dom;
    },

    /**
     *
     * @param elem
     * @param event
     * @param func
     * @param bool
     */
    unbind: function(elem, event, func, bool) {
      bool = bool || false;
      if (elem.removeEventListener)
        elem.removeEventListener(event, func, bool);
      else if (elem.detachEvent)
        elem.detachEvent('on' + event, func);
      return dom;
    },

    /**
     *
     * @param elem
     * @param className
     */
    addClass: function(elem, className) {
      if (elem.className === undefined) {
        elem.className = className;
      } else if (elem.className !== className) {
        var classes = elem.className.split(/ +/);
        if (classes.indexOf(className) == -1) {
          classes.push(className);
          elem.className = classes.join(' ').replace(/^\s+/, '').replace(/\s+$/, '');
        }
      }
      return dom;
    },

    /**
     *
     * @param elem
     * @param className
     */
    removeClass: function(elem, className) {
      if (className) {
        if (elem.className === undefined) {
          // elem.className = className;
        } else if (elem.className === className) {
          elem.removeAttribute('class');
        } else {
          var classes = elem.className.split(/ +/);
          var index = classes.indexOf(className);
          if (index != -1) {
            classes.splice(index, 1);
            elem.className = classes.join(' ');
          }
        }
      } else {
        elem.className = undefined;
      }
      return dom;
    },

    hasClass: function(elem, className) {
      return new RegExp('(?:^|\\s+)' + className + '(?:\\s+|$)').test(elem.className) || false;
    },

    /**
     *
     * @param elem
     */
    getWidth: function(elem) {

      var style = getComputedStyle(elem);

      return cssValueToPixels(style['border-left-width']) +
          cssValueToPixels(style['border-right-width']) +
          cssValueToPixels(style['padding-left']) +
          cssValueToPixels(style['padding-right']) +
          cssValueToPixels(style['width']);
    },

    /**
     *
     * @param elem
     */
    getHeight: function(elem) {

      var style = getComputedStyle(elem);

      return cssValueToPixels(style['border-top-width']) +
          cssValueToPixels(style['border-bottom-width']) +
          cssValueToPixels(style['padding-top']) +
          cssValueToPixels(style['padding-bottom']) +
          cssValueToPixels(style['height']);
    },

    /**
     *
     * @param elem
     */
    getOffset: function(elem) {
      var offset = {left: 0, top:0};
      if (elem.offsetParent) {
        do {
          offset.left += elem.offsetLeft;
          offset.top += elem.offsetTop;
        } while (elem = elem.offsetParent);
      }
      return offset;
    },

    // http://stackoverflow.com/posts/2684561/revisions
    /**
     * 
     * @param elem
     */
    isActive: function(elem) {
      return elem === document.activeElement && ( elem.type || elem.href );
    }

  };

  return dom;

})(dat.utils.common);


dat.controllers.OptionController = (function (Controller, dom, common) {

  /**
   * @class Provides a select input to alter the property of an object, using a
   * list of accepted values.
   *
   * @extends dat.controllers.Controller
   *
   * @param {Object} object The object to be manipulated
   * @param {string} property The name of the property to be manipulated
   * @param {Object|string[]} options A map of labels to acceptable values, or
   * a list of acceptable string values.
   *
   * @member dat.controllers
   */
  var OptionController = function(object, property, options) {

    OptionController.superclass.call(this, object, property);

    var _this = this;

    /**
     * The drop down menu
     * @ignore
     */
    this.__select = document.createElement('select');

    if (common.isArray(options)) {
      var map = {};
      common.each(options, function(element) {
        map[element] = element;
      });
      options = map;
    }

    common.each(options, function(value, key) {

      var opt = document.createElement('option');
      opt.innerHTML = key;
      opt.setAttribute('value', value);
      _this.__select.appendChild(opt);

    });

    // Acknowledge original value
    this.updateDisplay();

    dom.bind(this.__select, 'change', function() {
      var desiredValue = this.options[this.selectedIndex].value;
      _this.setValue(desiredValue);
    });

    this.domElement.appendChild(this.__select);

  };

  OptionController.superclass = Controller;

  common.extend(

      OptionController.prototype,
      Controller.prototype,

      {

        setValue: function(v) {
          var toReturn = OptionController.superclass.prototype.setValue.call(this, v);
          if (this.__onFinishChange) {
            this.__onFinishChange.call(this, this.getValue());
          }
          return toReturn;
        },

        updateDisplay: function() {
          this.__select.value = this.getValue();
          return OptionController.superclass.prototype.updateDisplay.call(this);
        }

      }

  );

  return OptionController;

})(dat.controllers.Controller,
dat.dom.dom,
dat.utils.common);


dat.controllers.NumberController = (function (Controller, common) {

  /**
   * @class Represents a given property of an object that is a number.
   *
   * @extends dat.controllers.Controller
   *
   * @param {Object} object The object to be manipulated
   * @param {string} property The name of the property to be manipulated
   * @param {Object} [params] Optional parameters
   * @param {Number} [params.min] Minimum allowed value
   * @param {Number} [params.max] Maximum allowed value
   * @param {Number} [params.step] Increment by which to change value
   *
   * @member dat.controllers
   */
  var NumberController = function(object, property, params) {

    NumberController.superclass.call(this, object, property);

    params = params || {};

    this.__min = params.min;
    this.__max = params.max;
    this.__step = params.step;

    if (common.isUndefined(this.__step)) {

      if (this.initialValue == 0) {
        this.__impliedStep = 1; // What are we, psychics?
      } else {
        // Hey Doug, check this out.
        this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue)/Math.LN10))/10;
      }

    } else {

      this.__impliedStep = this.__step;

    }

    this.__precision = numDecimals(this.__impliedStep);


  };

  NumberController.superclass = Controller;

  common.extend(

      NumberController.prototype,
      Controller.prototype,

      /** @lends dat.controllers.NumberController.prototype */
      {

        setValue: function(v) {

          if (this.__min !== undefined && v < this.__min) {
            v = this.__min;
          } else if (this.__max !== undefined && v > this.__max) {
            v = this.__max;
          }

          if (this.__step !== undefined && v % this.__step != 0) {
            v = Math.round(v / this.__step) * this.__step;
          }

          return NumberController.superclass.prototype.setValue.call(this, v);

        },

        /**
         * Specify a minimum value for <code>object[property]</code>.
         *
         * @param {Number} minValue The minimum value for
         * <code>object[property]</code>
         * @returns {dat.controllers.NumberController} this
         */
        min: function(v) {
          this.__min = v;
          return this;
        },

        /**
         * Specify a maximum value for <code>object[property]</code>.
         *
         * @param {Number} maxValue The maximum value for
         * <code>object[property]</code>
         * @returns {dat.controllers.NumberController} this
         */
        max: function(v) {
          this.__max = v;
          return this;
        },

        /**
         * Specify a step value that dat.controllers.NumberController
         * increments by.
         *
         * @param {Number} stepValue The step value for
         * dat.controllers.NumberController
         * @default if minimum and maximum specified increment is 1% of the
         * difference otherwise stepValue is 1
         * @returns {dat.controllers.NumberController} this
         */
        step: function(v) {
          this.__step = v;
          return this;
        }

      }

  );

  function numDecimals(x) {
    x = x.toString();
    if (x.indexOf('.') > -1) {
      return x.length - x.indexOf('.') - 1;
    } else {
      return 0;
    }
  }

  return NumberController;

})(dat.controllers.Controller,
dat.utils.common);


dat.controllers.NumberControllerBox = (function (NumberController, dom, common) {

  /**
   * @class Represents a given property of an object that is a number and
   * provides an input element with which to manipulate it.
   *
   * @extends dat.controllers.Controller
   * @extends dat.controllers.NumberController
   *
   * @param {Object} object The object to be manipulated
   * @param {string} property The name of the property to be manipulated
   * @param {Object} [params] Optional parameters
   * @param {Number} [params.min] Minimum allowed value
   * @param {Number} [params.max] Maximum allowed value
   * @param {Number} [params.step] Increment by which to change value
   *
   * @member dat.controllers
   */
  var NumberControllerBox = function(object, property, params) {

    this.__truncationSuspended = false;

    NumberControllerBox.superclass.call(this, object, property, params);

    var _this = this;

    /**
     * {Number} Previous mouse y position
     * @ignore
     */
    var prev_y;

    this.__input = document.createElement('input');
    this.__input.setAttribute('type', 'text');

    // Makes it so manually specified values are not truncated.

    dom.bind(this.__input, 'change', onChange);
    dom.bind(this.__input, 'blur', onBlur);
    dom.bind(this.__input, 'mousedown', onMouseDown);
    dom.bind(this.__input, 'keydown', function(e) {

      // When pressing entire, you can be as precise as you want.
      if (e.keyCode === 13) {
        _this.__truncationSuspended = true;
        this.blur();
        _this.__truncationSuspended = false;
      }

    });

    function onChange() {
      var attempted = parseFloat(_this.__input.value);
      if (!common.isNaN(attempted)) _this.setValue(attempted);
    }

    function onBlur() {
      onChange();
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }

    function onMouseDown(e) {
      dom.bind(window, 'mousemove', onMouseDrag);
      dom.bind(window, 'mouseup', onMouseUp);
      prev_y = e.clientY;
    }

    function onMouseDrag(e) {

      var diff = prev_y - e.clientY;
      _this.setValue(_this.getValue() + diff * _this.__impliedStep);

      prev_y = e.clientY;

    }

    function onMouseUp() {
      dom.unbind(window, 'mousemove', onMouseDrag);
      dom.unbind(window, 'mouseup', onMouseUp);
    }

    this.updateDisplay();

    this.domElement.appendChild(this.__input);

  };

  NumberControllerBox.superclass = NumberController;

  common.extend(

      NumberControllerBox.prototype,
      NumberController.prototype,

      {

        updateDisplay: function() {

          this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);
          return NumberControllerBox.superclass.prototype.updateDisplay.call(this);
        }

      }

  );

  function roundToDecimal(value, decimals) {
    var tenTo = Math.pow(10, decimals);
    return Math.round(value * tenTo) / tenTo;
  }

  return NumberControllerBox;

})(dat.controllers.NumberController,
dat.dom.dom,
dat.utils.common);


dat.controllers.NumberControllerSlider = (function (NumberController, dom, css, common, styleSheet) {

  /**
   * @class Represents a given property of an object that is a number, contains
   * a minimum and maximum, and provides a slider element with which to
   * manipulate it. It should be noted that the slider element is made up of
   * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5
   * <code>&lt;slider&gt;</code> element.
   *
   * @extends dat.controllers.Controller
   * @extends dat.controllers.NumberController
   * 
   * @param {Object} object The object to be manipulated
   * @param {string} property The name of the property to be manipulated
   * @param {Number} minValue Minimum allowed value
   * @param {Number} maxValue Maximum allowed value
   * @param {Number} stepValue Increment by which to change value
   *
   * @member dat.controllers
   */
  var NumberControllerSlider = function(object, property, min, max, step) {

    NumberControllerSlider.superclass.call(this, object, property, { min: min, max: max, step: step });

    var _this = this;

    this.__background = document.createElement('div');
    this.__foreground = document.createElement('div');
    


    dom.bind(this.__background, 'mousedown', onMouseDown);
    
    dom.addClass(this.__background, 'slider');
    dom.addClass(this.__foreground, 'slider-fg');

    function onMouseDown(e) {

      dom.bind(window, 'mousemove', onMouseDrag);
      dom.bind(window, 'mouseup', onMouseUp);

      onMouseDrag(e);
    }

    function onMouseDrag(e) {

      e.preventDefault();

      var offset = dom.getOffset(_this.__background);
      var width = dom.getWidth(_this.__background);
      
      _this.setValue(
        map(e.clientX, offset.left, offset.left + width, _this.__min, _this.__max)
      );

      return false;

    }

    function onMouseUp() {
      dom.unbind(window, 'mousemove', onMouseDrag);
      dom.unbind(window, 'mouseup', onMouseUp);
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }

    this.updateDisplay();

    this.__background.appendChild(this.__foreground);
    this.domElement.appendChild(this.__background);

  };

  NumberControllerSlider.superclass = NumberController;

  /**
   * Injects default stylesheet for slider elements.
   */
  NumberControllerSlider.useDefaultStyles = function() {
    css.inject(styleSheet);
  };

  common.extend(

      NumberControllerSlider.prototype,
      NumberController.prototype,

      {

        updateDisplay: function() {
          var pct = (this.getValue() - this.__min)/(this.__max - this.__min);
          this.__foreground.style.width = pct*100+'%';
          return NumberControllerSlider.superclass.prototype.updateDisplay.call(this);
        }

      }



  );

  function map(v, i1, i2, o1, o2) {
    return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));
  }

  return NumberControllerSlider;
  
})(dat.controllers.NumberController,
dat.dom.dom,
dat.utils.css,
dat.utils.common,
".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}");


dat.controllers.FunctionController = (function (Controller, dom, common) {

  /**
   * @class Provides a GUI interface to fire a specified method, a property of an object.
   *
   * @extends dat.controllers.Controller
   *
   * @param {Object} object The object to be manipulated
   * @param {string} property The name of the property to be manipulated
   *
   * @member dat.controllers
   */
  var FunctionController = function(object, property, text) {

    FunctionController.superclass.call(this, object, property);

    var _this = this;

    this.__button = document.createElement('div');
    this.__button.innerHTML = text === undefined ? 'Fire' : text;
    dom.bind(this.__button, 'click', function(e) {
      e.preventDefault();
      _this.fire();
      return false;
    });

    dom.addClass(this.__button, 'button');

    this.domElement.appendChild(this.__button);


  };

  FunctionController.superclass = Controller;

  common.extend(

      FunctionController.prototype,
      Controller.prototype,
      {
        
        fire: function() {
          if (this.__onChange) {
            this.__onChange.call(this);
          }
          if (this.__onFinishChange) {
            this.__onFinishChange.call(this, this.getValue());
          }
          this.getValue().call(this.object);
        }
      }

  );

  return FunctionController;

})(dat.controllers.Controller,
dat.dom.dom,
dat.utils.common);


dat.controllers.BooleanController = (function (Controller, dom, common) {

  /**
   * @class Provides a checkbox input to alter the boolean property of an object.
   * @extends dat.controllers.Controller
   *
   * @param {Object} object The object to be manipulated
   * @param {string} property The name of the property to be manipulated
   *
   * @member dat.controllers
   */
  var BooleanController = function(object, property) {

    BooleanController.superclass.call(this, object, property);

    var _this = this;
    this.__prev = this.getValue();

    this.__checkbox = document.createElement('input');
    this.__checkbox.setAttribute('type', 'checkbox');


    dom.bind(this.__checkbox, 'change', onChange, false);

    this.domElement.appendChild(this.__checkbox);

    // Match original value
    this.updateDisplay();

    function onChange() {
      _this.setValue(!_this.__prev);
    }

  };

  BooleanController.superclass = Controller;

  common.extend(

      BooleanController.prototype,
      Controller.prototype,

      {

        setValue: function(v) {
          var toReturn = BooleanController.superclass.prototype.setValue.call(this, v);
          if (this.__onFinishChange) {
            this.__onFinishChange.call(this, this.getValue());
          }
          this.__prev = this.getValue();
          return toReturn;
        },

        updateDisplay: function() {
          
          if (this.getValue() === true) {
            this.__checkbox.setAttribute('checked', 'checked');
            this.__checkbox.checked = true;    
          } else {
              this.__checkbox.checked = false;
          }

          return BooleanController.superclass.prototype.updateDisplay.call(this);

        }


      }

  );

  return BooleanController;

})(dat.controllers.Controller,
dat.dom.dom,
dat.utils.common);


dat.color.toString = (function (common) {

  return function(color) {

    if (color.a == 1 || common.isUndefined(color.a)) {

      var s = color.hex.toString(16);
      while (s.length < 6) {
        s = '0' + s;
      }

      return '#' + s;

    } else {

      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';

    }

  }

})(dat.utils.common);


dat.color.interpret = (function (toString, common) {

  var result, toReturn;

  var interpret = function() {

    toReturn = false;

    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];

    common.each(INTERPRETATIONS, function(family) {

      if (family.litmus(original)) {

        common.each(family.conversions, function(conversion, conversionName) {

          result = conversion.read(original);

          if (toReturn === false && result !== false) {
            toReturn = result;
            result.conversionName = conversionName;
            result.conversion = conversion;
            return common.BREAK;

          }

        });

        return common.BREAK;

      }

    });

    return toReturn;

  };

  var INTERPRETATIONS = [

    // Strings
    {

      litmus: common.isString,

      conversions: {

        THREE_CHAR_HEX: {

          read: function(original) {

            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
            if (test === null) return false;

            return {
              space: 'HEX',
              hex: parseInt(
                  '0x' +
                      test[1].toString() + test[1].toString() +
                      test[2].toString() + test[2].toString() +
                      test[3].toString() + test[3].toString())
            };

          },

          write: toString

        },

        SIX_CHAR_HEX: {

          read: function(original) {

            var test = original.match(/^#([A-F0-9]{6})$/i);
            if (test === null) return false;

            return {
              space: 'HEX',
              hex: parseInt('0x' + test[1].toString())
            };

          },

          write: toString

        },

        CSS_RGB: {

          read: function(original) {

            var test = original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
            if (test === null) return false;

            return {
              space: 'RGB',
              r: parseFloat(test[1]),
              g: parseFloat(test[2]),
              b: parseFloat(test[3])
            };

          },

          write: toString

        },

        CSS_RGBA: {

          read: function(original) {

            var test = original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);
            if (test === null) return false;

            return {
              space: 'RGB',
              r: parseFloat(test[1]),
              g: parseFloat(test[2]),
              b: parseFloat(test[3]),
              a: parseFloat(test[4])
            };

          },

          write: toString

        }

      }

    },

    // Numbers
    {

      litmus: common.isNumber,

      conversions: {

        HEX: {
          read: function(original) {
            return {
              space: 'HEX',
              hex: original,
              conversionName: 'HEX'
            }
          },

          write: function(color) {
            return color.hex;
          }
        }

      }

    },

    // Arrays
    {

      litmus: common.isArray,

      conversions: {

        RGB_ARRAY: {
          read: function(original) {
            if (original.length != 3) return false;
            return {
              space: 'RGB',
              r: original[0],
              g: original[1],
              b: original[2]
            };
          },

          write: function(color) {
            return [color.r, color.g, color.b];
          }

        },

        RGBA_ARRAY: {
          read: function(original) {
            if (original.length != 4) return false;
            return {
              space: 'RGB',
              r: original[0],
              g: original[1],
              b: original[2],
              a: original[3]
            };
          },

          write: function(color) {
            return [color.r, color.g, color.b, color.a];
          }

        }

      }

    },

    // Objects
    {

      litmus: common.isObject,

      conversions: {

        RGBA_OBJ: {
          read: function(original) {
            if (common.isNumber(original.r) &&
                common.isNumber(original.g) &&
                common.isNumber(original.b) &&
                common.isNumber(original.a)) {
              return {
                space: 'RGB',
                r: original.r,
                g: original.g,
                b: original.b,
                a: original.a
              }
            }
            return false;
          },

          write: function(color) {
            return {
              r: color.r,
              g: color.g,
              b: color.b,
              a: color.a
            }
          }
        },

        RGB_OBJ: {
          read: function(original) {
            if (common.isNumber(original.r) &&
                common.isNumber(original.g) &&
                common.isNumber(original.b)) {
              return {
                space: 'RGB',
                r: original.r,
                g: original.g,
                b: original.b
              }
            }
            return false;
          },

          write: function(color) {
            return {
              r: color.r,
              g: color.g,
              b: color.b
            }
          }
        },

        HSVA_OBJ: {
          read: function(original) {
            if (common.isNumber(original.h) &&
                common.isNumber(original.s) &&
                common.isNumber(original.v) &&
                common.isNumber(original.a)) {
              return {
                space: 'HSV',
                h: original.h,
                s: original.s,
                v: original.v,
                a: original.a
              }
            }
            return false;
          },

          write: function(color) {
            return {
              h: color.h,
              s: color.s,
              v: color.v,
              a: color.a
            }
          }
        },

        HSV_OBJ: {
          read: function(original) {
            if (common.isNumber(original.h) &&
                common.isNumber(original.s) &&
                common.isNumber(original.v)) {
              return {
                space: 'HSV',
                h: original.h,
                s: original.s,
                v: original.v
              }
            }
            return false;
          },

          write: function(color) {
            return {
              h: color.h,
              s: color.s,
              v: color.v
            }
          }

        }

      }

    }


  ];

  return interpret;


})(dat.color.toString,
dat.utils.common);


dat.GUI = dat.gui.GUI = (function (css, saveDialogueContents, styleSheet, controllerFactory, Controller, BooleanController, FunctionController, NumberControllerBox, NumberControllerSlider, OptionController, ColorController, requestAnimationFrame, CenteredDiv, dom, common) {

  css.inject(styleSheet);

  /** Outer-most className for GUI's */
  var CSS_NAMESPACE = 'dg';

  var HIDE_KEY_CODE = 72;

  /** The only value shared between the JS and SCSS. Use caution. */
  var CLOSE_BUTTON_HEIGHT = 20;

  var DEFAULT_DEFAULT_PRESET_NAME = 'Default';

  var SUPPORTS_LOCAL_STORAGE = (function() {
    try {
      return 'localStorage' in window && window['localStorage'] !== null;
    } catch (e) {
      return false;
    }
  })();

  var SAVE_DIALOGUE;

  /** Have we yet to create an autoPlace GUI? */
  var auto_place_virgin = true;

  /** Fixed position div that auto place GUI's go inside */
  var auto_place_container;

  /** Are we hiding the GUI's ? */
  var hide = false;

  /** GUI's which should be hidden */
  var hideable_guis = [];

  /**
   * A lightweight controller library for JavaScript. It allows you to easily
   * manipulate variables and fire functions on the fly.
   * @class
   *
   * @member dat.gui
   *
   * @param {Object} [params]
   * @param {String} [params.name] The name of this GUI.
   * @param {Object} [params.load] JSON object representing the saved state of
   * this GUI.
   * @param {Boolean} [params.auto=true]
   * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.
   * @param {Boolean} [params.closed] If true, starts closed
   */
  var GUI = function(params) {

    var _this = this;

    /**
     * Outermost DOM Element
     * @type DOMElement
     */
    this.domElement = document.createElement('div');
    this.__ul = document.createElement('ul');
    this.domElement.appendChild(this.__ul);

    dom.addClass(this.domElement, CSS_NAMESPACE);

    /**
     * Nested GUI's by name
     * @ignore
     */
    this.__folders = {};

    this.__controllers = [];

    /**
     * List of objects I'm remembering for save, only used in top level GUI
     * @ignore
     */
    this.__rememberedObjects = [];

    /**
     * Maps the index of remembered objects to a map of controllers, only used
     * in top level GUI.
     *
     * @private
     * @ignore
     *
     * @example
     * [
     *  {
     *    propertyName: Controller,
     *    anotherPropertyName: Controller
     *  },
     *  {
     *    propertyName: Controller
     *  }
     * ]
     */
    this.__rememberedObjectIndecesToControllers = [];

    this.__listening = [];

    params = params || {};

    // Default parameters
    params = common.defaults(params, {
      autoPlace: true,
      width: GUI.DEFAULT_WIDTH
    });

    params = common.defaults(params, {
      resizable: params.autoPlace,
      hideable: params.autoPlace
    });


    if (!common.isUndefined(params.load)) {

      // Explicit preset
      if (params.preset) params.load.preset = params.preset;

    } else {

      params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };

    }

    if (common.isUndefined(params.parent) && params.hideable) {
      hideable_guis.push(this);
    }

    // Only root level GUI's are resizable.
    params.resizable = common.isUndefined(params.parent) && params.resizable;


    if (params.autoPlace && common.isUndefined(params.scrollable)) {
      params.scrollable = true;
    }
//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;

    // Not part of params because I don't want people passing this in via
    // constructor. Should be a 'remembered' value.
    var use_local_storage =
        SUPPORTS_LOCAL_STORAGE &&
            localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';

    Object.defineProperties(this,

        /** @lends dat.gui.GUI.prototype */
        {

          /**
           * The parent <code>GUI</code>
           * @type dat.gui.GUI
           */
          parent: {
            get: function() {
              return params.parent;
            }
          },

          scrollable: {
            get: function() {
              return params.scrollable;
            }
          },

          /**
           * Handles <code>GUI</code>'s element placement for you
           * @type Boolean
           */
          autoPlace: {
            get: function() {
              return params.autoPlace;
            }
          },

          /**
           * The identifier for a set of saved values
           * @type String
           */
          preset: {

            get: function() {
              if (_this.parent) {
                return _this.getRoot().preset;
              } else {
                return params.load.preset;
              }
            },

            set: function(v) {
              if (_this.parent) {
                _this.getRoot().preset = v;
              } else {
                params.load.preset = v;
              }
              setPresetSelectIndex(this);
              _this.revert();
            }

          },

          /**
           * The width of <code>GUI</code> element
           * @type Number
           */
          width: {
            get: function() {
              return params.width;
            },
            set: function(v) {
              params.width = v;
              setWidth(_this, v);
            }
          },

          /**
           * The name of <code>GUI</code>. Used for folders. i.e
           * a folder's name
           * @type String
           */
          name: {
            get: function() {
              return params.name;
            },
            set: function(v) {
              // TODO Check for collisions among sibling folders
              params.name = v;
              if (title_row_name) {
                title_row_name.innerHTML = params.name;
              }
            }
          },

          /**
           * Whether the <code>GUI</code> is collapsed or not
           * @type Boolean
           */
          closed: {
            get: function() {
              return params.closed;
            },
            set: function(v) {
              params.closed = v;
              if (params.closed) {
                dom.addClass(_this.__ul, GUI.CLASS_CLOSED);
              } else {
                dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);
              }
              // For browsers that aren't going to respect the CSS transition,
              // Lets just check our height against the window height right off
              // the bat.
              this.onResize();

              if (_this.__closeButton) {
                _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;
              }
            }
          },

          /**
           * Contains all presets
           * @type Object
           */
          load: {
            get: function() {
              return params.load;
            }
          },

          /**
           * Determines whether or not to use <a href="https://developer.mozilla.org/en/DOM/Storage#localStorage">localStorage</a> as the means for
           * <code>remember</code>ing
           * @type Boolean
           */
          useLocalStorage: {

            get: function() {
              return use_local_storage;
            },
            set: function(bool) {
              if (SUPPORTS_LOCAL_STORAGE) {
                use_local_storage = bool;
                if (bool) {
                  dom.bind(window, 'unload', saveToLocalStorage);
                } else {
                  dom.unbind(window, 'unload', saveToLocalStorage);
                }
                localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);
              }
            }

          }

        });

    // Are we a root level GUI?
    if (common.isUndefined(params.parent)) {

      params.closed = false;

      dom.addClass(this.domElement, GUI.CLASS_MAIN);
      dom.makeSelectable(this.domElement, false);

      // Are we supposed to be loading locally?
      if (SUPPORTS_LOCAL_STORAGE) {

        if (use_local_storage) {

          _this.useLocalStorage = true;

          var saved_gui = localStorage.getItem(getLocalStorageHash(this, 'gui'));

          if (saved_gui) {
            params.load = JSON.parse(saved_gui);
          }

        }

      }

      this.__closeButton = document.createElement('div');
      this.__closeButton.innerHTML = GUI.TEXT_CLOSED;
      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);
      this.domElement.appendChild(this.__closeButton);

      dom.bind(this.__closeButton, 'click', function() {

        _this.closed = !_this.closed;


      });


      // Oh, you're a nested GUI!
    } else {

      if (params.closed === undefined) {
        params.closed = true;
      }

      var title_row_name = document.createTextNode(params.name);
      dom.addClass(title_row_name, 'controller-name');

      var title_row = addRow(_this, title_row_name);

      var on_click_title = function(e) {
        e.preventDefault();
        _this.closed = !_this.closed;
        return false;
      };

      dom.addClass(this.__ul, GUI.CLASS_CLOSED);

      dom.addClass(title_row, 'title');
      dom.bind(title_row, 'click', on_click_title);

      if (!params.closed) {
        this.closed = false;
      }

    }

    if (params.autoPlace) {

      if (common.isUndefined(params.parent)) {

        if (auto_place_virgin) {
          auto_place_container = document.createElement('div');
          dom.addClass(auto_place_container, CSS_NAMESPACE);
          dom.addClass(auto_place_container, GUI.CLASS_AUTO_PLACE_CONTAINER);
          document.body.appendChild(auto_place_container);
          auto_place_virgin = false;
        }

        // Put it in the dom for you.
        auto_place_container.appendChild(this.domElement);

        // Apply the auto styles
        dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);

      }


      // Make it not elastic.
      if (!this.parent) setWidth(_this, params.width);

    }

    dom.bind(window, 'resize', function() { _this.onResize() });
    dom.bind(this.__ul, 'webkitTransitionEnd', function() { _this.onResize(); });
    dom.bind(this.__ul, 'transitionend', function() { _this.onResize() });
    dom.bind(this.__ul, 'oTransitionEnd', function() { _this.onResize() });
    this.onResize();


    if (params.resizable) {
      addResizeHandle(this);
    }

    function saveToLocalStorage() {
      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));
    }

    var root = _this.getRoot();
    function resetWidth() {
        var root = _this.getRoot();
        root.width += 1;
        common.defer(function() {
          root.width -= 1;
        });
      }

      if (!params.parent) {
        resetWidth();
      }

  };

  GUI.toggleHide = function() {

    hide = !hide;
    common.each(hideable_guis, function(gui) {
      gui.domElement.style.zIndex = hide ? -999 : 999;
      gui.domElement.style.opacity = hide ? 0 : 1;
    });
  };

  GUI.CLASS_AUTO_PLACE = 'a';
  GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';
  GUI.CLASS_MAIN = 'main';
  GUI.CLASS_CONTROLLER_ROW = 'cr';
  GUI.CLASS_TOO_TALL = 'taller-than-window';
  GUI.CLASS_CLOSED = 'closed';
  GUI.CLASS_CLOSE_BUTTON = 'close-button';
  GUI.CLASS_DRAG = 'drag';

  GUI.DEFAULT_WIDTH = 245;
  GUI.TEXT_CLOSED = 'Close Controls';
  GUI.TEXT_OPEN = 'Open Controls';

  dom.bind(window, 'keydown', function(e) {

    if (document.activeElement.type !== 'text' &&
        (e.which === HIDE_KEY_CODE || e.keyCode == HIDE_KEY_CODE)) {
      GUI.toggleHide();
    }

  }, false);

  common.extend(

      GUI.prototype,

      /** @lends dat.gui.GUI */
      {

        /**
         * @param object
         * @param property
         * @returns {dat.controllers.Controller} The new controller that was added.
         * @instance
         */
        add: function(object, property) {

          return add(
              this,
              object,
              property,
              {
                factoryArgs: Array.prototype.slice.call(arguments, 2)
              }
          );

        },

        /**
         * @param object
         * @param property
         * @returns {dat.controllers.ColorController} The new controller that was added.
         * @instance
         */
        addColor: function(object, property) {

          return add(
              this,
              object,
              property,
              {
                color: true
              }
          );

        },

        /**
         * @param controller
         * @instance
         */
        remove: function(controller) {

          // TODO listening?
          this.__ul.removeChild(controller.__li);
          this.__controllers.slice(this.__controllers.indexOf(controller), 1);
          var _this = this;
          common.defer(function() {
            _this.onResize();
          });

        },

        destroy: function() {

          if (this.autoPlace) {
            auto_place_container.removeChild(this.domElement);
          }

        },

        /**
         * @param name
         * @returns {dat.gui.GUI} The new folder.
         * @throws {Error} if this GUI already has a folder by the specified
         * name
         * @instance
         */
        addFolder: function(name) {

          // We have to prevent collisions on names in order to have a key
          // by which to remember saved values
          if (this.__folders[name] !== undefined) {
            throw new Error('You already have a folder in this GUI by the' +
                ' name "' + name + '"');
          }

          var new_gui_params = { name: name, parent: this };

          // We need to pass down the autoPlace trait so that we can
          // attach event listeners to open/close folder actions to
          // ensure that a scrollbar appears if the window is too short.
          new_gui_params.autoPlace = this.autoPlace;

          // Do we have saved appearance data for this folder?

          if (this.load && // Anything loaded?
              this.load.folders && // Was my parent a dead-end?
              this.load.folders[name]) { // Did daddy remember me?

            // Start me closed if I was closed
            new_gui_params.closed = this.load.folders[name].closed;

            // Pass down the loaded data
            new_gui_params.load = this.load.folders[name];

          }

          var gui = new GUI(new_gui_params);
          this.__folders[name] = gui;

          var li = addRow(this, gui.domElement);
          dom.addClass(li, 'folder');
          return gui;

        },

        open: function() {
          this.closed = false;
        },

        close: function() {
          this.closed = true;
        },

        onResize: function() {

          var root = this.getRoot();

          if (root.scrollable) {

            var top = dom.getOffset(root.__ul).top;
            var h = 0;

            common.each(root.__ul.childNodes, function(node) {
              if (! (root.autoPlace && node === root.__save_row))
                h += dom.getHeight(node);
            });

            if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {
              dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);
              root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';
            } else {
              dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);
              root.__ul.style.height = 'auto';
            }

          }

          if (root.__resize_handle) {
            common.defer(function() {
              root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';
            });
          }

          if (root.__closeButton) {
            root.__closeButton.style.width = root.width + 'px';
          }

        },

        /**
         * Mark objects for saving. The order of these objects cannot change as
         * the GUI grows. When remembering new objects, append them to the end
         * of the list.
         *
         * @param {Object...} objects
         * @throws {Error} if not called on a top level GUI.
         * @instance
         */
        remember: function() {

          if (common.isUndefined(SAVE_DIALOGUE)) {
            SAVE_DIALOGUE = new CenteredDiv();
            SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;
          }

          if (this.parent) {
            throw new Error("You can only call remember on a top level GUI.");
          }

          var _this = this;

          common.each(Array.prototype.slice.call(arguments), function(object) {
            if (_this.__rememberedObjects.length == 0) {
              addSaveMenu(_this);
            }
            if (_this.__rememberedObjects.indexOf(object) == -1) {
              _this.__rememberedObjects.push(object);
            }
          });

          if (this.autoPlace) {
            // Set save row width
            setWidth(this, this.width);
          }

        },

        /**
         * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.
         * @instance
         */
        getRoot: function() {
          var gui = this;
          while (gui.parent) {
            gui = gui.parent;
          }
          return gui;
        },

        /**
         * @returns {Object} a JSON object representing the current state of
         * this GUI as well as its remembered properties.
         * @instance
         */
        getSaveObject: function() {

          var toReturn = this.load;

          toReturn.closed = this.closed;

          // Am I remembering any values?
          if (this.__rememberedObjects.length > 0) {

            toReturn.preset = this.preset;

            if (!toReturn.remembered) {
              toReturn.remembered = {};
            }

            toReturn.remembered[this.preset] = getCurrentPreset(this);

          }

          toReturn.folders = {};
          common.each(this.__folders, function(element, key) {
            toReturn.folders[key] = element.getSaveObject();
          });

          return toReturn;

        },

        save: function() {

          if (!this.load.remembered) {
            this.load.remembered = {};
          }

          this.load.remembered[this.preset] = getCurrentPreset(this);
          markPresetModified(this, false);

        },

        saveAs: function(presetName) {

          if (!this.load.remembered) {

            // Retain default values upon first save
            this.load.remembered = {};
            this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);

          }

          this.load.remembered[presetName] = getCurrentPreset(this);
          this.preset = presetName;
          addPresetOption(this, presetName, true);

        },

        revert: function(gui) {

          common.each(this.__controllers, function(controller) {
            // Make revert work on Default.
            if (!this.getRoot().load.remembered) {
              controller.setValue(controller.initialValue);
            } else {
              recallSavedValue(gui || this.getRoot(), controller);
            }
          }, this);

          common.each(this.__folders, function(folder) {
            folder.revert(folder);
          });

          if (!gui) {
            markPresetModified(this.getRoot(), false);
          }


        },

        listen: function(controller) {

          var init = this.__listening.length == 0;
          this.__listening.push(controller);
          if (init) updateDisplays(this.__listening);

        }

      }

  );

  function add(gui, object, property, params) {

    if (object[property] === undefined) {
      throw new Error("Object " + object + " has no property \"" + property + "\"");
    }

    var controller;

    if (params.color) {

      controller = new ColorController(object, property);

    } else {

      var factoryArgs = [object,property].concat(params.factoryArgs);
      controller = controllerFactory.apply(gui, factoryArgs);

    }

    if (params.before instanceof Controller) {
      params.before = params.before.__li;
    }

    recallSavedValue(gui, controller);

    dom.addClass(controller.domElement, 'c');

    var name = document.createElement('span');
    dom.addClass(name, 'property-name');
    name.innerHTML = controller.property;

    var container = document.createElement('div');
    container.appendChild(name);
    container.appendChild(controller.domElement);

    var li = addRow(gui, container, params.before);

    dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);
    dom.addClass(li, typeof controller.getValue());

    augmentController(gui, li, controller);

    gui.__controllers.push(controller);

    return controller;

  }

  /**
   * Add a row to the end of the GUI or before another row.
   *
   * @param gui
   * @param [dom] If specified, inserts the dom content in the new row
   * @param [liBefore] If specified, places the new row before another row
   */
  function addRow(gui, dom, liBefore) {
    var li = document.createElement('li');
    if (dom) li.appendChild(dom);
    if (liBefore) {
      gui.__ul.insertBefore(li, params.before);
    } else {
      gui.__ul.appendChild(li);
    }
    gui.onResize();
    return li;
  }

  function augmentController(gui, li, controller) {

    controller.__li = li;
    controller.__gui = gui;

    common.extend(controller, {

      options: function(options) {

        if (arguments.length > 1) {
          controller.remove();

          return add(
              gui,
              controller.object,
              controller.property,
              {
                before: controller.__li.nextElementSibling,
                factoryArgs: [common.toArray(arguments)]
              }
          );

        }

        if (common.isArray(options) || common.isObject(options)) {
          controller.remove();

          return add(
              gui,
              controller.object,
              controller.property,
              {
                before: controller.__li.nextElementSibling,
                factoryArgs: [options]
              }
          );

        }

      },

      name: function(v) {
        controller.__li.firstElementChild.firstElementChild.innerHTML = v;
        return controller;
      },

      listen: function() {
        controller.__gui.listen(controller);
        return controller;
      },

      remove: function() {
        controller.__gui.remove(controller);
        return controller;
      }

    });

    // All sliders should be accompanied by a box.
    if (controller instanceof NumberControllerSlider) {

      var box = new NumberControllerBox(controller.object, controller.property,
          { min: controller.__min, max: controller.__max, step: controller.__step });

      common.each(['updateDisplay', 'onChange', 'onFinishChange'], function(method) {
        var pc = controller[method];
        var pb = box[method];
        controller[method] = box[method] = function() {
          var args = Array.prototype.slice.call(arguments);
          pc.apply(controller, args);
          return pb.apply(box, args);
        }
      });

      dom.addClass(li, 'has-slider');
      controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);

    }
    else if (controller instanceof NumberControllerBox) {

      var r = function(returned) {

        // Have we defined both boundaries?
        if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {

          // Well, then lets just replace this with a slider.
          controller.remove();
          return add(
              gui,
              controller.object,
              controller.property,
              {
                before: controller.__li.nextElementSibling,
                factoryArgs: [controller.__min, controller.__max, controller.__step]
              });

        }

        return returned;

      };

      controller.min = common.compose(r, controller.min);
      controller.max = common.compose(r, controller.max);

    }
    else if (controller instanceof BooleanController) {

      dom.bind(li, 'click', function() {
        dom.fakeEvent(controller.__checkbox, 'click');
      });

      dom.bind(controller.__checkbox, 'click', function(e) {
        e.stopPropagation(); // Prevents double-toggle
      })

    }
    else if (controller instanceof FunctionController) {

      dom.bind(li, 'click', function() {
        dom.fakeEvent(controller.__button, 'click');
      });

      dom.bind(li, 'mouseover', function() {
        dom.addClass(controller.__button, 'hover');
      });

      dom.bind(li, 'mouseout', function() {
        dom.removeClass(controller.__button, 'hover');
      });

    }
    else if (controller instanceof ColorController) {

      dom.addClass(li, 'color');
      controller.updateDisplay = common.compose(function(r) {
        li.style.borderLeftColor = controller.__color.toString();
        return r;
      }, controller.updateDisplay);

      controller.updateDisplay();

    }

    controller.setValue = common.compose(function(r) {
      if (gui.getRoot().__preset_select && controller.isModified()) {
        markPresetModified(gui.getRoot(), true);
      }
      return r;
    }, controller.setValue);

  }

  function recallSavedValue(gui, controller) {

    // Find the topmost GUI, that's where remembered objects live.
    var root = gui.getRoot();

    // Does the object we're controlling match anything we've been told to
    // remember?
    var matched_index = root.__rememberedObjects.indexOf(controller.object);

    // Why yes, it does!
    if (matched_index != -1) {

      // Let me fetch a map of controllers for thcommon.isObject.
      var controller_map =
          root.__rememberedObjectIndecesToControllers[matched_index];

      // Ohp, I believe this is the first controller we've created for this
      // object. Lets make the map fresh.
      if (controller_map === undefined) {
        controller_map = {};
        root.__rememberedObjectIndecesToControllers[matched_index] =
            controller_map;
      }

      // Keep track of this controller
      controller_map[controller.property] = controller;

      // Okay, now have we saved any values for this controller?
      if (root.load && root.load.remembered) {

        var preset_map = root.load.remembered;

        // Which preset are we trying to load?
        var preset;

        if (preset_map[gui.preset]) {

          preset = preset_map[gui.preset];

        } else if (preset_map[DEFAULT_DEFAULT_PRESET_NAME]) {

          // Uhh, you can have the default instead?
          preset = preset_map[DEFAULT_DEFAULT_PRESET_NAME];

        } else {

          // Nada.

          return;

        }


        // Did the loaded object remember thcommon.isObject?
        if (preset[matched_index] &&

          // Did we remember this particular property?
            preset[matched_index][controller.property] !== undefined) {

          // We did remember something for this guy ...
          var value = preset[matched_index][controller.property];

          // And that's what it is.
          controller.initialValue = value;
          controller.setValue(value);

        }

      }

    }

  }

  function getLocalStorageHash(gui, key) {
    // TODO how does this deal with multiple GUI's?
    return document.location.href + '.' + key;

  }

  function addSaveMenu(gui) {

    var div = gui.__save_row = document.createElement('li');

    dom.addClass(gui.domElement, 'has-save');

    gui.__ul.insertBefore(div, gui.__ul.firstChild);

    dom.addClass(div, 'save-row');

    var gears = document.createElement('span');
    gears.innerHTML = '&nbsp;';
    dom.addClass(gears, 'button gears');

    // TODO replace with FunctionController
    var button = document.createElement('span');
    button.innerHTML = 'Save';
    dom.addClass(button, 'button');
    dom.addClass(button, 'save');

    var button2 = document.createElement('span');
    button2.innerHTML = 'New';
    dom.addClass(button2, 'button');
    dom.addClass(button2, 'save-as');

    var button3 = document.createElement('span');
    button3.innerHTML = 'Revert';
    dom.addClass(button3, 'button');
    dom.addClass(button3, 'revert');

    var select = gui.__preset_select = document.createElement('select');

    if (gui.load && gui.load.remembered) {

      common.each(gui.load.remembered, function(value, key) {
        addPresetOption(gui, key, key == gui.preset);
      });

    } else {
      addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);
    }

    dom.bind(select, 'change', function() {


      for (var index = 0; index < gui.__preset_select.length; index++) {
        gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;
      }

      gui.preset = this.value;

    });

    div.appendChild(select);
    div.appendChild(gears);
    div.appendChild(button);
    div.appendChild(button2);
    div.appendChild(button3);

    if (SUPPORTS_LOCAL_STORAGE) {

      var saveLocally = document.getElementById('dg-save-locally');
      var explain = document.getElementById('dg-local-explain');

      saveLocally.style.display = 'block';

      var localStorageCheckBox = document.getElementById('dg-local-storage');

      if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {
        localStorageCheckBox.setAttribute('checked', 'checked');
      }

      function showHideExplain() {
        explain.style.display = gui.useLocalStorage ? 'block' : 'none';
      }

      showHideExplain();

      // TODO: Use a boolean controller, fool!
      dom.bind(localStorageCheckBox, 'change', function() {
        gui.useLocalStorage = !gui.useLocalStorage;
        showHideExplain();
      });

    }

    var newConstructorTextArea = document.getElementById('dg-new-constructor');

    dom.bind(newConstructorTextArea, 'keydown', function(e) {
      if (e.metaKey && (e.which === 67 || e.keyCode == 67)) {
        SAVE_DIALOGUE.hide();
      }
    });

    dom.bind(gears, 'click', function() {
      newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);
      SAVE_DIALOGUE.show();
      newConstructorTextArea.focus();
      newConstructorTextArea.select();
    });

    dom.bind(button, 'click', function() {
      gui.save();
    });

    dom.bind(button2, 'click', function() {
      var presetName = prompt('Enter a new preset name.');
      if (presetName) gui.saveAs(presetName);
    });

    dom.bind(button3, 'click', function() {
      gui.revert();
    });

//    div.appendChild(button2);

  }

  function addResizeHandle(gui) {

    gui.__resize_handle = document.createElement('div');

    common.extend(gui.__resize_handle.style, {

      width: '6px',
      marginLeft: '-3px',
      height: '200px',
      cursor: 'ew-resize',
      position: 'absolute'
//      border: '1px solid blue'

    });

    var pmouseX;

    dom.bind(gui.__resize_handle, 'mousedown', dragStart);
    dom.bind(gui.__closeButton, 'mousedown', dragStart);

    gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);

    function dragStart(e) {

      e.preventDefault();

      pmouseX = e.clientX;

      dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);
      dom.bind(window, 'mousemove', drag);
      dom.bind(window, 'mouseup', dragStop);

      return false;

    }

    function drag(e) {

      e.preventDefault();

      gui.width += pmouseX - e.clientX;
      gui.onResize();
      pmouseX = e.clientX;

      return false;

    }

    function dragStop() {

      dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);
      dom.unbind(window, 'mousemove', drag);
      dom.unbind(window, 'mouseup', dragStop);

    }

  }

  function setWidth(gui, w) {
    gui.domElement.style.width = w + 'px';
    // Auto placed save-rows are position fixed, so we have to
    // set the width manually if we want it to bleed to the edge
    if (gui.__save_row && gui.autoPlace) {
      gui.__save_row.style.width = w + 'px';
    }if (gui.__closeButton) {
      gui.__closeButton.style.width = w + 'px';
    }
  }

  function getCurrentPreset(gui, useInitialValues) {

    var toReturn = {};

    // For each object I'm remembering
    common.each(gui.__rememberedObjects, function(val, index) {

      var saved_values = {};

      // The controllers I've made for thcommon.isObject by property
      var controller_map =
          gui.__rememberedObjectIndecesToControllers[index];

      // Remember each value for each property
      common.each(controller_map, function(controller, property) {
        saved_values[property] = useInitialValues ? controller.initialValue : controller.getValue();
      });

      // Save the values for thcommon.isObject
      toReturn[index] = saved_values;

    });

    return toReturn;

  }

  function addPresetOption(gui, name, setSelected) {
    var opt = document.createElement('option');
    opt.innerHTML = name;
    opt.value = name;
    gui.__preset_select.appendChild(opt);
    if (setSelected) {
      gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;
    }
  }

  function setPresetSelectIndex(gui) {
    for (var index = 0; index < gui.__preset_select.length; index++) {
      if (gui.__preset_select[index].value == gui.preset) {
        gui.__preset_select.selectedIndex = index;
      }
    }
  }

  function markPresetModified(gui, modified) {
    var opt = gui.__preset_select[gui.__preset_select.selectedIndex];
//    console.log('mark', modified, opt);
    if (modified) {
      opt.innerHTML = opt.value + "*";
    } else {
      opt.innerHTML = opt.value;
    }
  }

  function updateDisplays(controllerArray) {


    if (controllerArray.length != 0) {

      requestAnimationFrame(function() {
        updateDisplays(controllerArray);
      });

    }

    common.each(controllerArray, function(c) {
      c.updateDisplay();
    });

  }

  return GUI;

})(dat.utils.css,
"<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>",
".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",
dat.controllers.factory = (function (OptionController, NumberControllerBox, NumberControllerSlider, StringController, FunctionController, BooleanController, common) {

      return function(object, property) {

        var initialValue = object[property];

        // Providing options?
        if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {
          return new OptionController(object, property, arguments[2]);
        }

        // Providing a map?

        if (common.isNumber(initialValue)) {

          if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {

            // Has min and max.
            return new NumberControllerSlider(object, property, arguments[2], arguments[3]);

          } else {

            return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });

          }

        }

        if (common.isString(initialValue)) {
          return new StringController(object, property);
        }

        if (common.isFunction(initialValue)) {
          return new FunctionController(object, property, '');
        }

        if (common.isBoolean(initialValue)) {
          return new BooleanController(object, property);
        }

      }

    })(dat.controllers.OptionController,
dat.controllers.NumberControllerBox,
dat.controllers.NumberControllerSlider,
dat.controllers.StringController = (function (Controller, dom, common) {

  /**
   * @class Provides a text input to alter the string property of an object.
   *
   * @extends dat.controllers.Controller
   *
   * @param {Object} object The object to be manipulated
   * @param {string} property The name of the property to be manipulated
   *
   * @member dat.controllers
   */
  var StringController = function(object, property) {

    StringController.superclass.call(this, object, property);

    var _this = this;

    this.__input = document.createElement('input');
    this.__input.setAttribute('type', 'text');

    dom.bind(this.__input, 'keyup', onChange);
    dom.bind(this.__input, 'change', onChange);
    dom.bind(this.__input, 'blur', onBlur);
    dom.bind(this.__input, 'keydown', function(e) {
      if (e.keyCode === 13) {
        this.blur();
      }
    });
    

    function onChange() {
      _this.setValue(_this.__input.value);
    }

    function onBlur() {
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }

    this.updateDisplay();

    this.domElement.appendChild(this.__input);

  };

  StringController.superclass = Controller;

  common.extend(

      StringController.prototype,
      Controller.prototype,

      {

        updateDisplay: function() {
          // Stops the caret from moving on account of:
          // keyup -> setValue -> updateDisplay
          if (!dom.isActive(this.__input)) {
            this.__input.value = this.getValue();
          }
          return StringController.superclass.prototype.updateDisplay.call(this);
        }

      }

  );

  return StringController;

})(dat.controllers.Controller,
dat.dom.dom,
dat.utils.common),
dat.controllers.FunctionController,
dat.controllers.BooleanController,
dat.utils.common),
dat.controllers.Controller,
dat.controllers.BooleanController,
dat.controllers.FunctionController,
dat.controllers.NumberControllerBox,
dat.controllers.NumberControllerSlider,
dat.controllers.OptionController,
dat.controllers.ColorController = (function (Controller, dom, Color, interpret, common) {

  var ColorController = function(object, property) {

    ColorController.superclass.call(this, object, property);

    this.__color = new Color(this.getValue());
    this.__temp = new Color(0);

    var _this = this;

    this.domElement = document.createElement('div');

    dom.makeSelectable(this.domElement, false);

    this.__selector = document.createElement('div');
    this.__selector.className = 'selector';

    this.__saturation_field = document.createElement('div');
    this.__saturation_field.className = 'saturation-field';

    this.__field_knob = document.createElement('div');
    this.__field_knob.className = 'field-knob';
    this.__field_knob_border = '2px solid ';

    this.__hue_knob = document.createElement('div');
    this.__hue_knob.className = 'hue-knob';

    this.__hue_field = document.createElement('div');
    this.__hue_field.className = 'hue-field';

    this.__input = document.createElement('input');
    this.__input.type = 'text';
    this.__input_textShadow = '0 1px 1px ';

    dom.bind(this.__input, 'keydown', function(e) {
      if (e.keyCode === 13) { // on enter
        onBlur.call(this);
      }
    });

    dom.bind(this.__input, 'blur', onBlur);

    dom.bind(this.__selector, 'mousedown', function(e) {

      dom
        .addClass(this, 'drag')
        .bind(window, 'mouseup', function(e) {
          dom.removeClass(_this.__selector, 'drag');
        });

    });

    var value_field = document.createElement('div');

    common.extend(this.__selector.style, {
      width: '122px',
      height: '102px',
      padding: '3px',
      backgroundColor: '#222',
      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'
    });

    common.extend(this.__field_knob.style, {
      position: 'absolute',
      width: '12px',
      height: '12px',
      border: this.__field_knob_border + (this.__color.v < .5 ? '#fff' : '#000'),
      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',
      borderRadius: '12px',
      zIndex: 1
    });
    
    common.extend(this.__hue_knob.style, {
      position: 'absolute',
      width: '15px',
      height: '2px',
      borderRight: '4px solid #fff',
      zIndex: 1
    });

    common.extend(this.__saturation_field.style, {
      width: '100px',
      height: '100px',
      border: '1px solid #555',
      marginRight: '3px',
      display: 'inline-block',
      cursor: 'pointer'
    });

    common.extend(value_field.style, {
      width: '100%',
      height: '100%',
      background: 'none'
    });
    
    linearGradient(value_field, 'top', 'rgba(0,0,0,0)', '#000');

    common.extend(this.__hue_field.style, {
      width: '15px',
      height: '100px',
      display: 'inline-block',
      border: '1px solid #555',
      cursor: 'ns-resize'
    });

    hueGradient(this.__hue_field);

    common.extend(this.__input.style, {
      outline: 'none',
//      width: '120px',
      textAlign: 'center',
//      padding: '4px',
//      marginBottom: '6px',
      color: '#fff',
      border: 0,
      fontWeight: 'bold',
      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'
    });

    dom.bind(this.__saturation_field, 'mousedown', fieldDown);
    dom.bind(this.__field_knob, 'mousedown', fieldDown);

    dom.bind(this.__hue_field, 'mousedown', function(e) {
      setH(e);
      dom.bind(window, 'mousemove', setH);
      dom.bind(window, 'mouseup', unbindH);
    });

    function fieldDown(e) {
      setSV(e);
      // document.body.style.cursor = 'none';
      dom.bind(window, 'mousemove', setSV);
      dom.bind(window, 'mouseup', unbindSV);
    }

    function unbindSV() {
      dom.unbind(window, 'mousemove', setSV);
      dom.unbind(window, 'mouseup', unbindSV);
      // document.body.style.cursor = 'default';
    }

    function onBlur() {
      var i = interpret(this.value);
      if (i !== false) {
        _this.__color.__state = i;
        _this.setValue(_this.__color.toOriginal());
      } else {
        this.value = _this.__color.toString();
      }
    }

    function unbindH() {
      dom.unbind(window, 'mousemove', setH);
      dom.unbind(window, 'mouseup', unbindH);
    }

    this.__saturation_field.appendChild(value_field);
    this.__selector.appendChild(this.__field_knob);
    this.__selector.appendChild(this.__saturation_field);
    this.__selector.appendChild(this.__hue_field);
    this.__hue_field.appendChild(this.__hue_knob);

    this.domElement.appendChild(this.__input);
    this.domElement.appendChild(this.__selector);

    this.updateDisplay();

    function setSV(e) {

      e.preventDefault();

      var w = dom.getWidth(_this.__saturation_field);
      var o = dom.getOffset(_this.__saturation_field);
      var s = (e.clientX - o.left + document.body.scrollLeft) / w;
      var v = 1 - (e.clientY - o.top + document.body.scrollTop) / w;

      if (v > 1) v = 1;
      else if (v < 0) v = 0;

      if (s > 1) s = 1;
      else if (s < 0) s = 0;

      _this.__color.v = v;
      _this.__color.s = s;

      _this.setValue(_this.__color.toOriginal());


      return false;

    }

    function setH(e) {

      e.preventDefault();

      var s = dom.getHeight(_this.__hue_field);
      var o = dom.getOffset(_this.__hue_field);
      var h = 1 - (e.clientY - o.top + document.body.scrollTop) / s;

      if (h > 1) h = 1;
      else if (h < 0) h = 0;

      _this.__color.h = h * 360;

      _this.setValue(_this.__color.toOriginal());

      return false;

    }

  };

  ColorController.superclass = Controller;

  common.extend(

      ColorController.prototype,
      Controller.prototype,

      {

        updateDisplay: function() {

          var i = interpret(this.getValue());

          if (i !== false) {

            var mismatch = false;

            // Check for mismatch on the interpreted value.

            common.each(Color.COMPONENTS, function(component) {
              if (!common.isUndefined(i[component]) &&
                  !common.isUndefined(this.__color.__state[component]) &&
                  i[component] !== this.__color.__state[component]) {
                mismatch = true;
                return {}; // break
              }
            }, this);

            // If nothing diverges, we keep our previous values
            // for statefulness, otherwise we recalculate fresh
            if (mismatch) {
              common.extend(this.__color.__state, i);
            }

          }

          common.extend(this.__temp.__state, this.__color.__state);

          this.__temp.a = 1;

          var flip = (this.__color.v < .5 || this.__color.s > .5) ? 255 : 0;
          var _flip = 255 - flip;

          common.extend(this.__field_knob.style, {
            marginLeft: 100 * this.__color.s - 7 + 'px',
            marginTop: 100 * (1 - this.__color.v) - 7 + 'px',
            backgroundColor: this.__temp.toString(),
            border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip +')'
          });

          this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px'

          this.__temp.s = 1;
          this.__temp.v = 1;

          linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toString());

          common.extend(this.__input.style, {
            backgroundColor: this.__input.value = this.__color.toString(),
            color: 'rgb(' + flip + ',' + flip + ',' + flip +')',
            textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip +',.7)'
          });

        }

      }

  );
  
  var vendors = ['-moz-','-o-','-webkit-','-ms-',''];
  
  function linearGradient(elem, x, a, b) {
    elem.style.background = '';
    common.each(vendors, function(vendor) {
      elem.style.cssText += 'background: ' + vendor + 'linear-gradient('+x+', '+a+' 0%, ' + b + ' 100%); ';
    });
  }
  
  function hueGradient(elem) {
    elem.style.background = '';
    elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);'
    elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'
    elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'
    elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'
    elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'
  }


  return ColorController;

})(dat.controllers.Controller,
dat.dom.dom,
dat.color.Color = (function (interpret, math, toString, common) {

  var Color = function() {

    this.__state = interpret.apply(this, arguments);

    if (this.__state === false) {
      throw 'Failed to interpret color arguments';
    }

    this.__state.a = this.__state.a || 1;


  };

  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];

  common.extend(Color.prototype, {

    toString: function() {
      return toString(this);
    },

    toOriginal: function() {
      return this.__state.conversion.write(this);
    }

  });

  defineRGBComponent(Color.prototype, 'r', 2);
  defineRGBComponent(Color.prototype, 'g', 1);
  defineRGBComponent(Color.prototype, 'b', 0);

  defineHSVComponent(Color.prototype, 'h');
  defineHSVComponent(Color.prototype, 's');
  defineHSVComponent(Color.prototype, 'v');

  Object.defineProperty(Color.prototype, 'a', {

    get: function() {
      return this.__state.a;
    },

    set: function(v) {
      this.__state.a = v;
    }

  });

  Object.defineProperty(Color.prototype, 'hex', {

    get: function() {

      if (!this.__state.space !== 'HEX') {
        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);
      }

      return this.__state.hex;

    },

    set: function(v) {

      this.__state.space = 'HEX';
      this.__state.hex = v;

    }

  });

  function defineRGBComponent(target, component, componentHexIndex) {

    Object.defineProperty(target, component, {

      get: function() {

        if (this.__state.space === 'RGB') {
          return this.__state[component];
        }

        recalculateRGB(this, component, componentHexIndex);

        return this.__state[component];

      },

      set: function(v) {

        if (this.__state.space !== 'RGB') {
          recalculateRGB(this, component, componentHexIndex);
          this.__state.space = 'RGB';
        }

        this.__state[component] = v;

      }

    });

  }

  function defineHSVComponent(target, component) {

    Object.defineProperty(target, component, {

      get: function() {

        if (this.__state.space === 'HSV')
          return this.__state[component];

        recalculateHSV(this);

        return this.__state[component];

      },

      set: function(v) {

        if (this.__state.space !== 'HSV') {
          recalculateHSV(this);
          this.__state.space = 'HSV';
        }

        this.__state[component] = v;

      }

    });

  }

  function recalculateRGB(color, component, componentHexIndex) {

    if (color.__state.space === 'HEX') {

      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);

    } else if (color.__state.space === 'HSV') {

      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));

    } else {

      throw 'Corrupted color state';

    }

  }

  function recalculateHSV(color) {

    var result = math.rgb_to_hsv(color.r, color.g, color.b);

    common.extend(color.__state,
        {
          s: result.s,
          v: result.v
        }
    );

    if (!common.isNaN(result.h)) {
      color.__state.h = result.h;
    } else if (common.isUndefined(color.__state.h)) {
      color.__state.h = 0;
    }

  }

  return Color;

})(dat.color.interpret,
dat.color.math = (function () {

  var tmpComponent;

  return {

    hsv_to_rgb: function(h, s, v) {

      var hi = Math.floor(h / 60) % 6;

      var f = h / 60 - Math.floor(h / 60);
      var p = v * (1.0 - s);
      var q = v * (1.0 - (f * s));
      var t = v * (1.0 - ((1.0 - f) * s));
      var c = [
        [v, t, p],
        [q, v, p],
        [p, v, t],
        [p, q, v],
        [t, p, v],
        [v, p, q]
      ][hi];

      return {
        r: c[0] * 255,
        g: c[1] * 255,
        b: c[2] * 255
      };

    },

    rgb_to_hsv: function(r, g, b) {

      var min = Math.min(r, g, b),
          max = Math.max(r, g, b),
          delta = max - min,
          h, s;

      if (max != 0) {
        s = delta / max;
      } else {
        return {
          h: NaN,
          s: 0,
          v: 0
        };
      }

      if (r == max) {
        h = (g - b) / delta;
      } else if (g == max) {
        h = 2 + (b - r) / delta;
      } else {
        h = 4 + (r - g) / delta;
      }
      h /= 6;
      if (h < 0) {
        h += 1;
      }

      return {
        h: h * 360,
        s: s,
        v: max / 255
      };
    },

    rgb_to_hex: function(r, g, b) {
      var hex = this.hex_with_component(0, 2, r);
      hex = this.hex_with_component(hex, 1, g);
      hex = this.hex_with_component(hex, 0, b);
      return hex;
    },

    component_from_hex: function(hex, componentIndex) {
      return (hex >> (componentIndex * 8)) & 0xFF;
    },

    hex_with_component: function(hex, componentIndex, value) {
      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));
    }

  }

})(),
dat.color.toString,
dat.utils.common),
dat.color.interpret,
dat.utils.common),
dat.utils.requestAnimationFrame = (function () {

  /**
   * requirejs version of Paul Irish's RequestAnimationFrame
   * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
   */

  return window.webkitRequestAnimationFrame ||
      window.mozRequestAnimationFrame ||
      window.oRequestAnimationFrame ||
      window.msRequestAnimationFrame ||
      function(callback, element) {

        window.setTimeout(callback, 1000 / 60);

      };
})(),
dat.dom.CenteredDiv = (function (dom, common) {


  var CenteredDiv = function() {

    this.backgroundElement = document.createElement('div');
    common.extend(this.backgroundElement.style, {
      backgroundColor: 'rgba(0,0,0,0.8)',
      top: 0,
      left: 0,
      display: 'none',
      zIndex: '1000',
      opacity: 0,
      WebkitTransition: 'opacity 0.2s linear'
    });

    dom.makeFullscreen(this.backgroundElement);
    this.backgroundElement.style.position = 'fixed';

    this.domElement = document.createElement('div');
    common.extend(this.domElement.style, {
      position: 'fixed',
      display: 'none',
      zIndex: '1001',
      opacity: 0,
      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear'
    });


    document.body.appendChild(this.backgroundElement);
    document.body.appendChild(this.domElement);

    var _this = this;
    dom.bind(this.backgroundElement, 'click', function() {
      _this.hide();
    });


  };

  CenteredDiv.prototype.show = function() {

    var _this = this;
    


    this.backgroundElement.style.display = 'block';

    this.domElement.style.display = 'block';
    this.domElement.style.opacity = 0;
//    this.domElement.style.top = '52%';
    this.domElement.style.webkitTransform = 'scale(1.1)';

    this.layout();

    common.defer(function() {
      _this.backgroundElement.style.opacity = 1;
      _this.domElement.style.opacity = 1;
      _this.domElement.style.webkitTransform = 'scale(1)';
    });

  };

  CenteredDiv.prototype.hide = function() {

    var _this = this;

    var hide = function() {

      _this.domElement.style.display = 'none';
      _this.backgroundElement.style.display = 'none';

      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);
      dom.unbind(_this.domElement, 'transitionend', hide);
      dom.unbind(_this.domElement, 'oTransitionEnd', hide);

    };

    dom.bind(this.domElement, 'webkitTransitionEnd', hide);
    dom.bind(this.domElement, 'transitionend', hide);
    dom.bind(this.domElement, 'oTransitionEnd', hide);

    this.backgroundElement.style.opacity = 0;
//    this.domElement.style.top = '48%';
    this.domElement.style.opacity = 0;
    this.domElement.style.webkitTransform = 'scale(1.1)';

  };

  CenteredDiv.prototype.layout = function() {
    this.domElement.style.left = window.innerWidth/2 - dom.getWidth(this.domElement) / 2 + 'px';
    this.domElement.style.top = window.innerHeight/2 - dom.getHeight(this.domElement) / 2 + 'px';
  };
  
  function lockScroll(e) {
    console.log(e);
  }

  return CenteredDiv;

})(dat.dom.dom,
dat.utils.common),
dat.dom.dom,
dat.utils.common);

/***/ }),

/***/ 39:
/***/ (function(module, exports) {

/**
 * dat-gui JavaScript Controller Library
 * http://code.google.com/p/dat-gui
 *
 * Copyright 2011 Data Arts Team, Google Creative Lab
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */

/** @namespace */
var dat = module.exports = dat || {};

/** @namespace */
dat.color = dat.color || {};

/** @namespace */
dat.utils = dat.utils || {};

dat.utils.common = (function () {
  
  var ARR_EACH = Array.prototype.forEach;
  var ARR_SLICE = Array.prototype.slice;

  /**
   * Band-aid methods for things that should be a lot easier in JavaScript.
   * Implementation and structure inspired by underscore.js
   * http://documentcloud.github.com/underscore/
   */

  return { 
    
    BREAK: {},
  
    extend: function(target) {
      
      this.each(ARR_SLICE.call(arguments, 1), function(obj) {
        
        for (var key in obj)
          if (!this.isUndefined(obj[key])) 
            target[key] = obj[key];
        
      }, this);
      
      return target;
      
    },
    
    defaults: function(target) {
      
      this.each(ARR_SLICE.call(arguments, 1), function(obj) {
        
        for (var key in obj)
          if (this.isUndefined(target[key])) 
            target[key] = obj[key];
        
      }, this);
      
      return target;
    
    },
    
    compose: function() {
      var toCall = ARR_SLICE.call(arguments);
            return function() {
              var args = ARR_SLICE.call(arguments);
              for (var i = toCall.length -1; i >= 0; i--) {
                args = [toCall[i].apply(this, args)];
              }
              return args[0];
            }
    },
    
    each: function(obj, itr, scope) {

      
      if (ARR_EACH && obj.forEach === ARR_EACH) { 
        
        obj.forEach(itr, scope);
        
      } else if (obj.length === obj.length + 0) { // Is number but not NaN
        
        for (var key = 0, l = obj.length; key < l; key++)
          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) 
            return;
            
      } else {

        for (var key in obj) 
          if (itr.call(scope, obj[key], key) === this.BREAK)
            return;
            
      }
            
    },
    
    defer: function(fnc) {
      setTimeout(fnc, 0);
    },
    
    toArray: function(obj) {
      if (obj.toArray) return obj.toArray();
      return ARR_SLICE.call(obj);
    },

    isUndefined: function(obj) {
      return obj === undefined;
    },
    
    isNull: function(obj) {
      return obj === null;
    },
    
    isNaN: function(obj) {
      return obj !== obj;
    },
    
    isArray: Array.isArray || function(obj) {
      return obj.constructor === Array;
    },
    
    isObject: function(obj) {
      return obj === Object(obj);
    },
    
    isNumber: function(obj) {
      return obj === obj+0;
    },
    
    isString: function(obj) {
      return obj === obj+'';
    },
    
    isBoolean: function(obj) {
      return obj === false || obj === true;
    },
    
    isFunction: function(obj) {
      return Object.prototype.toString.call(obj) === '[object Function]';
    }
  
  };
    
})();


dat.color.toString = (function (common) {

  return function(color) {

    if (color.a == 1 || common.isUndefined(color.a)) {

      var s = color.hex.toString(16);
      while (s.length < 6) {
        s = '0' + s;
      }

      return '#' + s;

    } else {

      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';

    }

  }

})(dat.utils.common);


dat.Color = dat.color.Color = (function (interpret, math, toString, common) {

  var Color = function() {

    this.__state = interpret.apply(this, arguments);

    if (this.__state === false) {
      throw 'Failed to interpret color arguments';
    }

    this.__state.a = this.__state.a || 1;


  };

  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];

  common.extend(Color.prototype, {

    toString: function() {
      return toString(this);
    },

    toOriginal: function() {
      return this.__state.conversion.write(this);
    }

  });

  defineRGBComponent(Color.prototype, 'r', 2);
  defineRGBComponent(Color.prototype, 'g', 1);
  defineRGBComponent(Color.prototype, 'b', 0);

  defineHSVComponent(Color.prototype, 'h');
  defineHSVComponent(Color.prototype, 's');
  defineHSVComponent(Color.prototype, 'v');

  Object.defineProperty(Color.prototype, 'a', {

    get: function() {
      return this.__state.a;
    },

    set: function(v) {
      this.__state.a = v;
    }

  });

  Object.defineProperty(Color.prototype, 'hex', {

    get: function() {

      if (!this.__state.space !== 'HEX') {
        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);
      }

      return this.__state.hex;

    },

    set: function(v) {

      this.__state.space = 'HEX';
      this.__state.hex = v;

    }

  });

  function defineRGBComponent(target, component, componentHexIndex) {

    Object.defineProperty(target, component, {

      get: function() {

        if (this.__state.space === 'RGB') {
          return this.__state[component];
        }

        recalculateRGB(this, component, componentHexIndex);

        return this.__state[component];

      },

      set: function(v) {

        if (this.__state.space !== 'RGB') {
          recalculateRGB(this, component, componentHexIndex);
          this.__state.space = 'RGB';
        }

        this.__state[component] = v;

      }

    });

  }

  function defineHSVComponent(target, component) {

    Object.defineProperty(target, component, {

      get: function() {

        if (this.__state.space === 'HSV')
          return this.__state[component];

        recalculateHSV(this);

        return this.__state[component];

      },

      set: function(v) {

        if (this.__state.space !== 'HSV') {
          recalculateHSV(this);
          this.__state.space = 'HSV';
        }

        this.__state[component] = v;

      }

    });

  }

  function recalculateRGB(color, component, componentHexIndex) {

    if (color.__state.space === 'HEX') {

      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);

    } else if (color.__state.space === 'HSV') {

      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));

    } else {

      throw 'Corrupted color state';

    }

  }

  function recalculateHSV(color) {

    var result = math.rgb_to_hsv(color.r, color.g, color.b);

    common.extend(color.__state,
        {
          s: result.s,
          v: result.v
        }
    );

    if (!common.isNaN(result.h)) {
      color.__state.h = result.h;
    } else if (common.isUndefined(color.__state.h)) {
      color.__state.h = 0;
    }

  }

  return Color;

})(dat.color.interpret = (function (toString, common) {

  var result, toReturn;

  var interpret = function() {

    toReturn = false;

    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];

    common.each(INTERPRETATIONS, function(family) {

      if (family.litmus(original)) {

        common.each(family.conversions, function(conversion, conversionName) {

          result = conversion.read(original);

          if (toReturn === false && result !== false) {
            toReturn = result;
            result.conversionName = conversionName;
            result.conversion = conversion;
            return common.BREAK;

          }

        });

        return common.BREAK;

      }

    });

    return toReturn;

  };

  var INTERPRETATIONS = [

    // Strings
    {

      litmus: common.isString,

      conversions: {

        THREE_CHAR_HEX: {

          read: function(original) {

            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
            if (test === null) return false;

            return {
              space: 'HEX',
              hex: parseInt(
                  '0x' +
                      test[1].toString() + test[1].toString() +
                      test[2].toString() + test[2].toString() +
                      test[3].toString() + test[3].toString())
            };

          },

          write: toString

        },

        SIX_CHAR_HEX: {

          read: function(original) {

            var test = original.match(/^#([A-F0-9]{6})$/i);
            if (test === null) return false;

            return {
              space: 'HEX',
              hex: parseInt('0x' + test[1].toString())
            };

          },

          write: toString

        },

        CSS_RGB: {

          read: function(original) {

            var test = original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
            if (test === null) return false;

            return {
              space: 'RGB',
              r: parseFloat(test[1]),
              g: parseFloat(test[2]),
              b: parseFloat(test[3])
            };

          },

          write: toString

        },

        CSS_RGBA: {

          read: function(original) {

            var test = original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);
            if (test === null) return false;

            return {
              space: 'RGB',
              r: parseFloat(test[1]),
              g: parseFloat(test[2]),
              b: parseFloat(test[3]),
              a: parseFloat(test[4])
            };

          },

          write: toString

        }

      }

    },

    // Numbers
    {

      litmus: common.isNumber,

      conversions: {

        HEX: {
          read: function(original) {
            return {
              space: 'HEX',
              hex: original,
              conversionName: 'HEX'
            }
          },

          write: function(color) {
            return color.hex;
          }
        }

      }

    },

    // Arrays
    {

      litmus: common.isArray,

      conversions: {

        RGB_ARRAY: {
          read: function(original) {
            if (original.length != 3) return false;
            return {
              space: 'RGB',
              r: original[0],
              g: original[1],
              b: original[2]
            };
          },

          write: function(color) {
            return [color.r, color.g, color.b];
          }

        },

        RGBA_ARRAY: {
          read: function(original) {
            if (original.length != 4) return false;
            return {
              space: 'RGB',
              r: original[0],
              g: original[1],
              b: original[2],
              a: original[3]
            };
          },

          write: function(color) {
            return [color.r, color.g, color.b, color.a];
          }

        }

      }

    },

    // Objects
    {

      litmus: common.isObject,

      conversions: {

        RGBA_OBJ: {
          read: function(original) {
            if (common.isNumber(original.r) &&
                common.isNumber(original.g) &&
                common.isNumber(original.b) &&
                common.isNumber(original.a)) {
              return {
                space: 'RGB',
                r: original.r,
                g: original.g,
                b: original.b,
                a: original.a
              }
            }
            return false;
          },

          write: function(color) {
            return {
              r: color.r,
              g: color.g,
              b: color.b,
              a: color.a
            }
          }
        },

        RGB_OBJ: {
          read: function(original) {
            if (common.isNumber(original.r) &&
                common.isNumber(original.g) &&
                common.isNumber(original.b)) {
              return {
                space: 'RGB',
                r: original.r,
                g: original.g,
                b: original.b
              }
            }
            return false;
          },

          write: function(color) {
            return {
              r: color.r,
              g: color.g,
              b: color.b
            }
          }
        },

        HSVA_OBJ: {
          read: function(original) {
            if (common.isNumber(original.h) &&
                common.isNumber(original.s) &&
                common.isNumber(original.v) &&
                common.isNumber(original.a)) {
              return {
                space: 'HSV',
                h: original.h,
                s: original.s,
                v: original.v,
                a: original.a
              }
            }
            return false;
          },

          write: function(color) {
            return {
              h: color.h,
              s: color.s,
              v: color.v,
              a: color.a
            }
          }
        },

        HSV_OBJ: {
          read: function(original) {
            if (common.isNumber(original.h) &&
                common.isNumber(original.s) &&
                common.isNumber(original.v)) {
              return {
                space: 'HSV',
                h: original.h,
                s: original.s,
                v: original.v
              }
            }
            return false;
          },

          write: function(color) {
            return {
              h: color.h,
              s: color.s,
              v: color.v
            }
          }

        }

      }

    }


  ];

  return interpret;


})(dat.color.toString,
dat.utils.common),
dat.color.math = (function () {

  var tmpComponent;

  return {

    hsv_to_rgb: function(h, s, v) {

      var hi = Math.floor(h / 60) % 6;

      var f = h / 60 - Math.floor(h / 60);
      var p = v * (1.0 - s);
      var q = v * (1.0 - (f * s));
      var t = v * (1.0 - ((1.0 - f) * s));
      var c = [
        [v, t, p],
        [q, v, p],
        [p, v, t],
        [p, q, v],
        [t, p, v],
        [v, p, q]
      ][hi];

      return {
        r: c[0] * 255,
        g: c[1] * 255,
        b: c[2] * 255
      };

    },

    rgb_to_hsv: function(r, g, b) {

      var min = Math.min(r, g, b),
          max = Math.max(r, g, b),
          delta = max - min,
          h, s;

      if (max != 0) {
        s = delta / max;
      } else {
        return {
          h: NaN,
          s: 0,
          v: 0
        };
      }

      if (r == max) {
        h = (g - b) / delta;
      } else if (g == max) {
        h = 2 + (b - r) / delta;
      } else {
        h = 4 + (r - g) / delta;
      }
      h /= 6;
      if (h < 0) {
        h += 1;
      }

      return {
        h: h * 360,
        s: s,
        v: max / 255
      };
    },

    rgb_to_hex: function(r, g, b) {
      var hex = this.hex_with_component(0, 2, r);
      hex = this.hex_with_component(hex, 1, g);
      hex = this.hex_with_component(hex, 0, b);
      return hex;
    },

    component_from_hex: function(hex, componentIndex) {
      return (hex >> (componentIndex * 8)) & 0xFF;
    },

    hex_with_component: function(hex, componentIndex, value) {
      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));
    }

  }

})(),
dat.color.toString,
dat.utils.common);

/***/ }),

/***/ 40:
/***/ (function(module, exports, __webpack_require__) {

// stats.js - http://github.com/mrdoob/stats.js
(function(f,e){ true?module.exports=e():"function"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";l=a}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";c.addEventListener("click",function(a){a.preventDefault();
u(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel("FPS","#0ff","#002")),h=e(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var t=e(new f.Panel("MB","#f08","#201"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/
1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement("canvas");q.width=r;q.height=h;q.style.cssText="width:80px;height:48px";var b=q.getContext("2d");b.font="bold "+9*a+"px Helvetica,Arial,sans-serif";b.textBaseline="top";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);
b.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+" "+e+" ("+g(c)+"-"+g(k)+")",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZDMzMDk3ZWI4YTdkOGYzM2QzNDYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FsZnJpZC9idWlsZC9hbGZyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2RlYnVnL2RlYnVnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kYXQtZ3VpL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kYXQtZ3VpL3ZlbmRvci9kYXQuZ3VpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kYXQtZ3VpL3ZlbmRvci9kYXQuY29sb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0YXRzLmpzL2J1aWxkL3N0YXRzLm1pbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJndWkiLCJkYXQiLCJHVUkiLCJ3aWR0aCIsImRpdiIsImRvY3VtZW50IiwiYm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsInpJbmRleCIsInN0YXRzIiwiU3RhdHMiLCJhcHBlbmRDaGlsZCIsImRvbUVsZW1lbnQiLCJhbGZyaWQiLCJTY2hlZHVsZXIiLCJhZGRFRiIsInVwZGF0ZSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBMkQ7QUFDM0Q7QUFDQTtBQUNBLFdBQUc7O0FBRUgsb0RBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBTTtBQUNOO0FBQ0E7QUFDQSxjQUFNO0FBQ047QUFDQTtBQUNBLGNBQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxlQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBSTtBQUNKOzs7O0FBSUE7QUFDQSxzREFBOEM7QUFDOUM7QUFDQTtBQUNBLG9DQUE0QjtBQUM1QixxQ0FBNkI7QUFDN0IseUNBQWlDOztBQUVqQywrQ0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOENBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxxQ0FBNkI7QUFDN0IscUNBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxhQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUFpQiw4QkFBOEI7QUFDL0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBSTtBQUNKOztBQUVBLDREQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBbUIsMkJBQTJCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFhLDRCQUE0QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxzQkFBYyw0QkFBNEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBYyw0QkFBNEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQWdCLHVDQUF1QztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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QUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDO0FBQ0Q7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBLDJDO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBOztBQUVBOztBQUVBOztBQUVBLENBQUM7QUFDRDtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMOztBQUVBOztBQUVBOztBQUVBLENBQUM7OztBQUdEOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsU0FBUzs7QUFFVDs7QUFFQTs7QUFFQSxLQUFLOztBQUVMOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7O0FBRVg7O0FBRUEsU0FBUzs7QUFFVDs7QUFFQTs7QUFFQSxtREFBbUQsRUFBRTtBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXOztBQUVYOztBQUVBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVzs7QUFFWDs7QUFFQSxTQUFTOztBQUVUOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVzs7QUFFWDs7QUFFQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTs7QUFFQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7OztBQUdBLENBQUM7QUFDRDs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxZQUFZO0FBQ3pCLGFBQWEsUUFBUTtBQUNyQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDs7QUFFQTtBQUNBOztBQUVBLEtBQUs7O0FBRUwscUJBQXFCOztBQUVyQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7O0FBR0EsT0FBTzs7O0FBR1A7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7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V0FBVzs7QUFFWDtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7OztBQUdBLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBLFdBQVcsd0VBQXdFOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLDRCQUE0QjtBQUM1QixPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsU0FBUzs7QUFFVDtBQUNBOztBQUVBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUE7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSw2QkFBNkI7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7O0FBR0EseUJBQXlCLG9DQUFvQztBQUM3RDtBQUNBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVULEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3R0FBd0c7QUFDeEcsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSw2SkFBNko7QUFDN0osMEpBQTBKO0FBQzFKLHFKQUFxSjtBQUNySixzSkFBc0o7QUFDdEosa0pBQWtKO0FBQ2xKOzs7QUFHQTs7QUFFQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxHQUFHOztBQUVIOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDs7QUFFQSxLQUFLOztBQUVMOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsQ0FBQztBQUNEOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7O0FBRUE7O0FBRUE7Ozs7QUFJQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGtCOzs7Ozs7O0FDM2tIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFU7O0FBRUEsYUFBYTs7QUFFYjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTzs7QUFFUDs7QUFFQSxLQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPOztBQUVQOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7OztBQUdBLGlEOztBQUVBOztBQUVBLE9BQU8sMENBQTBDOztBQUVqRCx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBOztBQUVBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQzs7O0FBR0Q7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDOzs7QUFHRDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxHQUFHOztBQUVIOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDs7QUFFQSxLQUFLOztBQUVMOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXOztBQUVYOztBQUVBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUEsbURBQW1ELEVBQUU7QUFDckQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVzs7QUFFWDs7QUFFQSxTQUFTOztBQUVUOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7O0FBRVg7O0FBRUEsU0FBUzs7QUFFVDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7O0FBRVg7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7O0FBRUEsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7OztBQUdBOztBQUVBOzs7QUFHQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDO0FBQ0Q7QUFDQSxrQjs7Ozs7OztBQ2x2QkE7QUFDQSxlQUFlLEtBQXNELGlGQUFpRixrQkFBa0IsaUJBQWlCLGNBQWMscUJBQXFCLFNBQVMsY0FBYyxZQUFZLG9CQUFvQixxREFBcUQsSUFBSSx3Q0FBd0MsZ0NBQWdDLE1BQU0sT0FBTyxlQUFlLFlBQVksZUFBZSx1Q0FBdUM7QUFDbGYseUJBQXlCLEtBQUssbUhBQW1ILHNGQUFzRixLQUFLLE9BQU8sMERBQTBELDRCQUE0QixnQkFBZ0IsSUFBSSxnQ0FBZ0Msa0JBQWtCLG1EQUFtRCx5QkFBeUI7QUFDM2QsbUNBQW1DLFNBQVMsbUJBQW1CLGFBQWEsMEJBQTBCLHdCQUF3Qix3SkFBd0osVUFBVSxXQUFXLDRCQUE0QixhQUFhLHlCQUF5QixtREFBbUQscUJBQXFCLGNBQWMsb0JBQW9CLGNBQWM7QUFDcmUsb0JBQW9CLGNBQWMsaUJBQWlCLG9CQUFvQixPQUFPLDJCQUEyQixnQkFBZ0IsZ0JBQWdCLGNBQWMsZ0JBQWdCLG9CQUFvQixjQUFjLGtEQUFrRCxxQ0FBcUMsd0JBQXdCLGNBQWMsaUJBQWlCLHNDQUFzQyxTQUFTIiwiZmlsZSI6ImFzc2V0cy9qcy9kZWJ1Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IFxyXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4gXHR9IDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbiBcdFx0c2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XHJcbiBcdFx0O1xyXG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcclxuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiBcdFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xyXG4gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xyXG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcclxuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbiBcdFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdFx0Ly8gdGltZW91dFxyXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcclxuIFx0XHRcdFx0XHRcdHJldHVybjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0pO1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiZDMzMDk3ZWI4YTdkOGYzM2QzNDZcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcclxuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbiBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcclxuIFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlcXVlc3QgKyBcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcclxuIFx0XHR9O1xyXG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XHJcbiBcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbiBcdFx0XHRcdH0sXHJcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH07XHJcbiBcdFx0fTtcclxuIFx0XHRmb3IodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmIG5hbWUgIT09IFwiZVwiKSB7XHJcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XHJcbiBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicmVhZHlcIilcclxuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuIFx0XHRcdFx0dGhyb3cgZXJyO1xyXG4gXHRcdFx0fSk7XHJcbiBcdFxyXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XHJcbiBcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuIFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9O1xyXG4gXHRcdHJldHVybiBmbjtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaG90ID0ge1xyXG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcclxuIFx0XHJcbiBcdFx0XHQvLyBNb2R1bGUgQVBJXHJcbiBcdFx0XHRhY3RpdmU6IHRydWUsXHJcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbiBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlXHJcbiBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbiBcdFx0fTtcclxuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XHJcbiBcdFx0cmV0dXJuIGhvdDtcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcclxuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xyXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdERlZmVycmVkO1xyXG4gXHRcclxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXHJcbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XHJcbiBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XHJcbiBcdFx0XHRpZighdXBkYXRlKSB7XHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0XHRcdHJldHVybiBudWxsO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcclxuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuIFx0XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XHJcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcclxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxyXG4gXHRcdFx0XHR9O1xyXG4gXHRcdFx0fSk7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMTtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XHJcbiBcdFx0fSk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxyXG4gXHRcdFx0cmV0dXJuO1xyXG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4gXHRcdGlmKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XHJcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcclxuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcclxuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XHJcbiBcdFx0aWYoIWRlZmVycmVkKSByZXR1cm47XHJcbiBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cclxuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxyXG4gXHRcdFx0Ly8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ2NTY2NlxyXG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xyXG4gXHRcdFx0fSkudGhlbihcclxuIFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiBcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xyXG4gXHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0KTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdFx0fVxyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XHJcbiBcdFx0aWYoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcclxuIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuIFx0XHJcbiBcdFx0dmFyIGNiO1xyXG4gXHRcdHZhciBpO1xyXG4gXHRcdHZhciBqO1xyXG4gXHRcdHZhciBtb2R1bGU7XHJcbiBcdFx0dmFyIG1vZHVsZUlkO1xyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcclxuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpLm1hcChmdW5jdGlvbihpZCkge1xyXG4gXHRcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxyXG4gXHRcdFx0XHRcdGlkOiBpZFxyXG4gXHRcdFx0XHR9O1xyXG4gXHRcdFx0fSk7XHJcbiBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xyXG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XHJcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxyXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXHJcbiBcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9tYWluKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxyXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXHJcbiBcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0aWYoIXBhcmVudCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXHJcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXHJcbiBcdFx0XHRcdFx0XHR9O1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRpZihvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxyXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcclxuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XHJcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXHJcbiBcdFx0XHRcdFx0fSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHJcbiBcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXHJcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcclxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXHJcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xyXG4gXHRcdFx0fTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcclxuIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuIFx0XHRcdFx0aWYoYS5pbmRleE9mKGl0ZW0pIDwgMClcclxuIFx0XHRcdFx0XHRhLnB1c2goaXRlbSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cclxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcclxuIFx0XHJcbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcclxuIFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIik7XHJcbiBcdFx0fTtcclxuIFx0XHJcbiBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xyXG4gXHRcdFx0XHRpZihob3RVcGRhdGVbaWRdKSB7XHJcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xyXG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxyXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXHJcbiBcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xyXG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xyXG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XHJcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xyXG4gXHRcdFx0XHRpZihyZXN1bHQuY2hhaW4pIHtcclxuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0c3dpdGNoKHJlc3VsdC50eXBlKSB7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgY2hhaW5JbmZvKTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRlY2xpbmVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxyXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIgaW4gXCIgKyByZXN1bHQucGFyZW50SWQgKyBjaGFpbkluZm8pO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25VbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm8pO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XHJcbiBcdFx0XHRcdFx0XHRicmVhaztcclxuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EaXNwb3NlZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcclxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYoYWJvcnRFcnJvcikge1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihkb0FwcGx5KSB7XHJcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdFx0XHRcdFx0Zm9yKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKGRvRGlzcG9zZSkge1xyXG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdGZvcihpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4gXHRcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xyXG4gXHRcdFx0aWYoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XHJcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9KTtcclxuIFx0XHJcbiBcdFx0dmFyIGlkeDtcclxuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuIFx0XHRcdGZvcihqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuIFx0XHRcdFx0Y2IoZGF0YSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4gXHRcclxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXHJcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4gXHRcclxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxyXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcclxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuIFx0XHRcdGZvcihqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XHJcbiBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSB7XHJcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cclxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcclxuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XHJcbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0aWYobW9kdWxlKSB7XHJcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdFx0Zm9yKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcclxuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4gXHRcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcclxuIFx0XHJcbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4gXHRcclxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcclxuIFx0XHRmb3IobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcclxuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4gXHRcdGZvcihtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKG1vZHVsZSkge1xyXG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xyXG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRcdGlmKGNiKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gXHRcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xyXG4gXHRcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbiBcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxyXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycjIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcclxuIFx0XHRcdFx0XHRcdFx0XHRvcmdpbmFsRXJyb3I6IGVyciwgLy8gVE9ETyByZW1vdmUgaW4gd2VicGFjayA0XHJcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXHJcbiBcdFx0XHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4gXHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnIyO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0fSk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4gXHRcdGlmKGVycm9yKSB7XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcclxuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0XHR9KTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgzNikoX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzYpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGQzMzA5N2ViOGE3ZDhmMzNkMzQ2IiwiIWZ1bmN0aW9uKHJvb3QsZmFjdG9yeSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZmFjdG9yeSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJhbGZyaWRcIixbXSxmYWN0b3J5KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmFsZnJpZD1mYWN0b3J5KCk6cm9vdC5hbGZyaWQ9ZmFjdG9yeSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG1vZHVsZXMpe2Z1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpe2lmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKXJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO3ZhciBtb2R1bGU9aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF09e2k6bW9kdWxlSWQsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cyxtb2R1bGUsbW9kdWxlLmV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyksbW9kdWxlLmw9ITAsbW9kdWxlLmV4cG9ydHN9dmFyIGluc3RhbGxlZE1vZHVsZXM9e307cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ubT1tb2R1bGVzLF9fd2VicGFja19yZXF1aXJlX18uYz1pbnN0YWxsZWRNb2R1bGVzLF9fd2VicGFja19yZXF1aXJlX18uZD1mdW5jdGlvbihleHBvcnRzLG5hbWUsZ2V0dGVyKXtfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cyxuYW1lKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsbmFtZSx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OmdldHRlcn0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24obW9kdWxlKXt2YXIgZ2V0dGVyPW1vZHVsZSYmbW9kdWxlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gbW9kdWxlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZX07cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsXCJhXCIsZ2V0dGVyKSxnZXR0ZXJ9LF9fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5wPVwiXCIsX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnM9NDEpfShbZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9nZXRBbmRBcHBseUV4dGVuc2lvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KSxfZ2V0QW5kQXBwbHlFeHRlbnNpb24yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEFuZEFwcGx5RXh0ZW5zaW9uKSxfZXhwb3NlQXR0cmlidXRlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KSxfZXhwb3NlQXR0cmlidXRlczI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhwb3NlQXR0cmlidXRlcyksX2dldEZsb2F0PV9fd2VicGFja19yZXF1aXJlX18oNDkpLF9nZXRGbG9hdDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0RmxvYXQpLF9nZXRIYWxmRmxvYXQ9X193ZWJwYWNrX3JlcXVpcmVfXyg1MCksX2dldEhhbGZGbG9hdDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SGFsZkZsb2F0KSxfZ2V0QXR0cmliTG9jPV9fd2VicGFja19yZXF1aXJlX18oMjQpLF9FeHRlbnNpb25zTGlzdD0oX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0QXR0cmliTG9jKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKSksX0V4dGVuc2lvbnNMaXN0Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FeHRlbnNpb25zTGlzdCksZ2w9dm9pZCAwLEdMVG9vbD1mdW5jdGlvbigpe2Z1bmN0aW9uIEdMVG9vbCgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEdMVG9vbCksdGhpcy5jYW52YXMsdGhpcy5fdmlld3BvcnQ9WzAsMCwwLDBdLHRoaXMuX2VuYWJsZWRWZXJ0ZXhBdHRyaWJ1dGU9W10sdGhpcy5pZGVudGl0eU1hdHJpeD1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0aGlzLl9ub3JtYWxNYXRyaXg9X2dsTWF0cml4Lm1hdDMuY3JlYXRlKCksdGhpcy5faW52ZXJzZU1vZGVsVmlld01hdHJpeD1fZ2xNYXRyaXgubWF0My5jcmVhdGUoKSx0aGlzLl9tb2RlbE1hdHJpeD1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0aGlzLl9tYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbWF0cml4U3RhY2tzPVtdLHRoaXMuX2xhc3RNZXNoPW51bGwsdGhpcy5fdXNlV2ViR0wyPSExLHRoaXMuX2hhc0FycmF5SW5zdGFuY2UsdGhpcy5fZXh0QXJyYXlJbnN0YW5jZSx0aGlzLl9oYXNDaGVja2VkRXh0PSExLF9nbE1hdHJpeC5tYXQ0LmlkZW50aXR5KHRoaXMuaWRlbnRpdHlNYXRyaXgsdGhpcy5pZGVudGl0eU1hdHJpeCksdGhpcy5pc01vYmlsZT0hMSwvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJih0aGlzLmlzTW9iaWxlPSEwKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEdMVG9vbCxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbihtQ2FudmFzKXt2YXIgbVBhcmFtZXRlcnM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKG51bGw9PT1tQ2FudmFzfHx2b2lkIDA9PT1tQ2FudmFzKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgbm90IGV4aXN0XCIpO3ZvaWQgMCE9PXRoaXMuY2FudmFzJiZudWxsIT09dGhpcy5jYW52YXMmJnRoaXMuZGVzdHJveSgpLHRoaXMuY2FudmFzPW1DYW52YXMsdGhpcy5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLHdpbmRvdy5pbm5lckhlaWdodCksbVBhcmFtZXRlcnMudXNlV2ViZ2wyPW1QYXJhbWV0ZXJzLnVzZVdlYmdsMnx8ITE7dmFyIGN0eD12b2lkIDA7bVBhcmFtZXRlcnMudXNlV2ViZ2wyPyhjdHg9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbDJcIixtUGFyYW1ldGVycyl8fHRoaXMuY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbDJcIixtUGFyYW1ldGVycyksY3R4P3RoaXMuX3VzZVdlYkdMMj0hMDooY3R4PXRoaXMuY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiLG1QYXJhbWV0ZXJzKXx8dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLG1QYXJhbWV0ZXJzKSx0aGlzLl91c2VXZWJHTDI9ITEpKTooY3R4PXRoaXMuY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiLG1QYXJhbWV0ZXJzKXx8dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLG1QYXJhbWV0ZXJzKSx0aGlzLl91c2VXZWJHTDI9ITEpLGNvbnNvbGUubG9nKFwiVXNpbmcgV2ViR0wgMiA/XCIsdGhpcy53ZWJnbDIpLHRoaXMuaW5pdFdpdGhHTChjdHgpfX0se2tleTpcImluaXRXaXRoR0xcIix2YWx1ZTpmdW5jdGlvbihjdHgpe3RoaXMuY2FudmFzfHwodGhpcy5jYW52YXM9Y3R4LmNhbnZhcyksZ2w9dGhpcy5nbD1jdHgsdGhpcy5leHRlbnNpb25zPXt9O2Zvcih2YXIgaT0wO2k8X0V4dGVuc2lvbnNMaXN0Mi5kZWZhdWx0Lmxlbmd0aDtpKyspdGhpcy5leHRlbnNpb25zW19FeHRlbnNpb25zTGlzdDIuZGVmYXVsdFtpXV09Z2wuZ2V0RXh0ZW5zaW9uKF9FeHRlbnNpb25zTGlzdDIuZGVmYXVsdFtpXSk7KDAsX2V4cG9zZUF0dHJpYnV0ZXMyLmRlZmF1bHQpKCksKDAsX2dldEFuZEFwcGx5RXh0ZW5zaW9uMi5kZWZhdWx0KShnbCxcIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpLCgwLF9nZXRBbmRBcHBseUV4dGVuc2lvbjIuZGVmYXVsdCkoZ2wsXCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXCIpLCgwLF9nZXRBbmRBcHBseUV4dGVuc2lvbjIuZGVmYXVsdCkoZ2wsXCJXRUJHTF9kcmF3X2J1ZmZlcnNcIiksdGhpcy5lbmFibGUodGhpcy5ERVBUSF9URVNUKSx0aGlzLmVuYWJsZSh0aGlzLkNVTExfRkFDRSksdGhpcy5lbmFibGUodGhpcy5CTEVORCksdGhpcy5lbmFibGVBbHBoYUJsZW5kaW5nKCl9fSx7a2V5Olwic2V0Vmlld3BvcnRcIix2YWx1ZTpmdW5jdGlvbih4LHksdyxoKXt2YXIgaGFzQ2hhbmdlZD0hMTt4IT09dGhpcy5fdmlld3BvcnRbMF0mJihoYXNDaGFuZ2VkPSEwKSx5IT09dGhpcy5fdmlld3BvcnRbMV0mJihoYXNDaGFuZ2VkPSEwKSx3IT09dGhpcy5fdmlld3BvcnRbMl0mJihoYXNDaGFuZ2VkPSEwKSxoIT09dGhpcy5fdmlld3BvcnRbM10mJihoYXNDaGFuZ2VkPSEwKSxoYXNDaGFuZ2VkJiYoZ2wudmlld3BvcnQoeCx5LHcsaCksdGhpcy5fdmlld3BvcnQ9W3gseSx3LGhdKX19LHtrZXk6XCJzY2lzc29yXCIsdmFsdWU6ZnVuY3Rpb24oeCx5LHcsaCl7Z2wuc2Npc3Nvcih4LHksdyxoKX19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKHIsZyxiLGEpe2dsLmNsZWFyQ29sb3IocixnLGIsYSksZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVHxnbC5ERVBUSF9CVUZGRVJfQklUKX19LHtrZXk6XCJjdWxsRmFjZVwiLHZhbHVlOmZ1bmN0aW9uKG1WYWx1ZSl7Z2wuY3VsbEZhY2UobVZhbHVlKX19LHtrZXk6XCJzZXRNYXRyaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKG1DYW1lcmEpe3RoaXMuY2FtZXJhPW1DYW1lcmEsdGhpcy5yb3RhdGUodGhpcy5pZGVudGl0eU1hdHJpeCl9fSx7a2V5OlwidXNlU2hhZGVyXCIsdmFsdWU6ZnVuY3Rpb24obVNoYWRlcil7dGhpcy5zaGFkZXI9bVNoYWRlcix0aGlzLnNoYWRlclByb2dyYW09dGhpcy5zaGFkZXIuc2hhZGVyUHJvZ3JhbX19LHtrZXk6XCJyb3RhdGVcIix2YWx1ZTpmdW5jdGlvbihtUm90YXRpb24pe19nbE1hdHJpeC5tYXQ0LmNvcHkodGhpcy5fbW9kZWxNYXRyaXgsbVJvdGF0aW9uKSxfZ2xNYXRyaXgubWF0NC5tdWx0aXBseSh0aGlzLl9tYXRyaXgsdGhpcy5jYW1lcmEubWF0cml4LHRoaXMuX21vZGVsTWF0cml4KSxfZ2xNYXRyaXgubWF0My5mcm9tTWF0NCh0aGlzLl9ub3JtYWxNYXRyaXgsdGhpcy5fbWF0cml4KSxfZ2xNYXRyaXgubWF0My5pbnZlcnQodGhpcy5fbm9ybWFsTWF0cml4LHRoaXMuX25vcm1hbE1hdHJpeCksX2dsTWF0cml4Lm1hdDMudHJhbnNwb3NlKHRoaXMuX25vcm1hbE1hdHJpeCx0aGlzLl9ub3JtYWxNYXRyaXgpLF9nbE1hdHJpeC5tYXQzLmZyb21NYXQ0KHRoaXMuX2ludmVyc2VNb2RlbFZpZXdNYXRyaXgsdGhpcy5fbWF0cml4KSxfZ2xNYXRyaXgubWF0My5pbnZlcnQodGhpcy5faW52ZXJzZU1vZGVsVmlld01hdHJpeCx0aGlzLl9pbnZlcnNlTW9kZWxWaWV3TWF0cml4KX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24obU1lc2gsbURyYXdpbmdUeXBlKXtpZihtTWVzaC5sZW5ndGgpZm9yKHZhciBpPTA7aTxtTWVzaC5sZW5ndGg7aSsrKXRoaXMuZHJhdyhtTWVzaFtpXSk7ZWxzZXttTWVzaC5iaW5kKHRoaXMuc2hhZGVyUHJvZ3JhbSksdm9pZCAwIT09dGhpcy5jYW1lcmEmJih0aGlzLnNoYWRlci51bmlmb3JtKFwidVByb2plY3Rpb25NYXRyaXhcIixcIm1hdDRcIix0aGlzLmNhbWVyYS5wcm9qZWN0aW9uKSx0aGlzLnNoYWRlci51bmlmb3JtKFwidVZpZXdNYXRyaXhcIixcIm1hdDRcIix0aGlzLmNhbWVyYS5tYXRyaXgpKSx0aGlzLnNoYWRlci51bmlmb3JtKFwidU1vZGVsTWF0cml4XCIsXCJtYXQ0XCIsdGhpcy5fbW9kZWxNYXRyaXgpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ1Tm9ybWFsTWF0cml4XCIsXCJtYXQzXCIsdGhpcy5fbm9ybWFsTWF0cml4KSx0aGlzLnNoYWRlci51bmlmb3JtKFwidU1vZGVsVmlld01hdHJpeEludmVyc2VcIixcIm1hdDNcIix0aGlzLl9pbnZlcnNlTW9kZWxWaWV3TWF0cml4KTt2YXIgZHJhd1R5cGU9bU1lc2guZHJhd1R5cGU7dm9pZCAwIT09bURyYXdpbmdUeXBlJiYoZHJhd1R5cGU9bURyYXdpbmdUeXBlKSxtTWVzaC5pc0luc3RhbmNlZD9nbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQobU1lc2guZHJhd1R5cGUsbU1lc2guaUJ1ZmZlci5udW1JdGVtcyxnbC5VTlNJR05FRF9TSE9SVCwwLG1NZXNoLm51bUluc3RhbmNlKTpkcmF3VHlwZT09PWdsLlBPSU5UUz9nbC5kcmF3QXJyYXlzKGRyYXdUeXBlLDAsbU1lc2gudmVydGV4U2l6ZSk6Z2wuZHJhd0VsZW1lbnRzKGRyYXdUeXBlLG1NZXNoLmlCdWZmZXIubnVtSXRlbXMsZ2wuVU5TSUdORURfU0hPUlQsMCksbU1lc2gudW5iaW5kKCl9fX0se2tleTpcImRyYXdUcmFuc2Zvcm1GZWVkYmFja1wiLHZhbHVlOmZ1bmN0aW9uKG1UcmFuc2Zvcm1PYmplY3Qpe3ZhciBtZXNoU291cmNlPW1UcmFuc2Zvcm1PYmplY3QubWVzaFNvdXJjZSxtZXNoRGVzdGluYXRpb249bVRyYW5zZm9ybU9iamVjdC5tZXNoRGVzdGluYXRpb24sbnVtUG9pbnRzPW1UcmFuc2Zvcm1PYmplY3QubnVtUG9pbnRzLHRyYW5zZm9ybUZlZWRiYWNrPW1UcmFuc2Zvcm1PYmplY3QudHJhbnNmb3JtRmVlZGJhY2s7bWVzaFNvdXJjZS5iaW5kKHRoaXMuc2hhZGVyUHJvZ3JhbSksbWVzaERlc3RpbmF0aW9uLmdlbmVyYXRlQnVmZmVycyh0aGlzLnNoYWRlclByb2dyYW0pLGdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhnbC5UUkFOU0ZPUk1fRkVFREJBQ0ssdHJhbnNmb3JtRmVlZGJhY2spLG1lc2hEZXN0aW5hdGlvbi5hdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24oYXR0cixpKXtnbC5iaW5kQnVmZmVyQmFzZShnbC5UUkFOU0ZPUk1fRkVFREJBQ0tfQlVGRkVSLGksYXR0ci5idWZmZXIpfSksZ2wuZW5hYmxlKGdsLlJBU1RFUklaRVJfRElTQ0FSRCksZ2wuYmVnaW5UcmFuc2Zvcm1GZWVkYmFjayhnbC5QT0lOVFMpLGdsLmRyYXdBcnJheXMoZ2wuUE9JTlRTLDAsbnVtUG9pbnRzKSxnbC5lbmRUcmFuc2Zvcm1GZWVkYmFjaygpLGdsLmRpc2FibGUoZ2wuUkFTVEVSSVpFUl9ESVNDQVJEKSxnbC51c2VQcm9ncmFtKG51bGwpLGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLG51bGwpLG1lc2hEZXN0aW5hdGlvbi5hdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24oYXR0cixpKXtnbC5iaW5kQnVmZmVyQmFzZShnbC5UUkFOU0ZPUk1fRkVFREJBQ0tfQlVGRkVSLGksbnVsbCl9KSxnbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soZ2wuVFJBTlNGT1JNX0ZFRURCQUNLLG51bGwpLG1lc2hTb3VyY2UudW5iaW5kKCl9fSx7a2V5Olwic2V0U2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKG1XaWR0aCxtSGVpZ2h0KXt0aGlzLl93aWR0aD1tV2lkdGgsdGhpcy5faGVpZ2h0PW1IZWlnaHQsdGhpcy5jYW52YXMud2lkdGg9dGhpcy5fd2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0PXRoaXMuX2hlaWdodCx0aGlzLl9hc3BlY3RSYXRpbz10aGlzLl93aWR0aC90aGlzLl9oZWlnaHQsZ2wmJnRoaXMudmlld3BvcnQoMCwwLHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCl9fSx7a2V5Olwic2hvd0V4dGVuc2lvbnNcIix2YWx1ZTpmdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiRXh0ZW5zaW9ucyA6IFwiLHRoaXMuZXh0ZW5zaW9ucyk7Zm9yKHZhciBleHQgaW4gdGhpcy5leHRlbnNpb25zKXRoaXMuZXh0ZW5zaW9uc1tleHRdJiZjb25zb2xlLmxvZyhleHQsXCI6XCIsdGhpcy5leHRlbnNpb25zW2V4dF0pfX0se2tleTpcImNoZWNrRXh0ZW5zaW9uXCIsdmFsdWU6ZnVuY3Rpb24obUV4dGVuc2lvbil7cmV0dXJuISF0aGlzLmV4dGVuc2lvbnNbbUV4dGVuc2lvbl19fSx7a2V5OlwiZ2V0RXh0ZW5zaW9uXCIsdmFsdWU6ZnVuY3Rpb24obUV4dGVuc2lvbil7cmV0dXJuIHRoaXMuZXh0ZW5zaW9uc1ttRXh0ZW5zaW9uXX19LHtrZXk6XCJlbmFibGVBbHBoYUJsZW5kaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpfX0se2tleTpcImVuYWJsZUFkZGl0aXZlQmxlbmRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe2dsLmJsZW5kRnVuYyhnbC5PTkUsZ2wuT05FKX19LHtrZXk6XCJwdXNoTWF0cml4XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbXR4PV9nbE1hdHJpeC5tYXQ0LmNsb25lKHRoaXMuX21vZGVsTWF0cml4KTt0aGlzLl9tYXRyaXhTdGFja3MucHVzaChtdHgpfX0se2tleTpcInBvcE1hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoMD09dGhpcy5fbWF0cml4U3RhY2tzLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgbXR4PXRoaXMuX21hdHJpeFN0YWNrcy5wb3AoKTt0aGlzLnJvdGF0ZShtdHgpfX0se2tleTpcImVuYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKG1QYXJhbWV0ZXIpe2dsLmVuYWJsZShtUGFyYW1ldGVyKX19LHtrZXk6XCJkaXNhYmxlXCIsdmFsdWU6ZnVuY3Rpb24obVBhcmFtZXRlcil7Z2wuZGlzYWJsZShtUGFyYW1ldGVyKX19LHtrZXk6XCJ2aWV3cG9ydFwiLHZhbHVlOmZ1bmN0aW9uKHgseSx3LGgpe3RoaXMuc2V0Vmlld3BvcnQoeCx5LHcsaCl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5jYW52YXMucGFyZW50Tm9kZSl0cnl7dGhpcy5jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNhbnZhcyl9Y2F0Y2goZSl7Y29uc29sZS5sb2coXCJFcnJvciA6IFwiLGUpfXRoaXMuY2FudmFzPW51bGx9fSx7a2V5OlwiRkxPQVRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMCxfZ2V0RmxvYXQyLmRlZmF1bHQpKCl9fSx7a2V5OlwiSEFMRl9GTE9BVFwiLGdldDpmdW5jdGlvbigpe3JldHVybigwLF9nZXRIYWxmRmxvYXQyLmRlZmF1bHQpKCl9fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH19LHtrZXk6XCJhc3BlY3RSYXRpb1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hc3BlY3RSYXRpb319LHtrZXk6XCJ3ZWJnbDJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlV2ViR0wyfX1dKSxHTFRvb2x9KCksR0w9bmV3IEdMVG9vbDtleHBvcnRzLmRlZmF1bHQ9R0x9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy52ZWM0PWV4cG9ydHMudmVjMz1leHBvcnRzLnZlYzI9ZXhwb3J0cy5xdWF0PWV4cG9ydHMubWF0ND1leHBvcnRzLm1hdDM9ZXhwb3J0cy5tYXQyZD1leHBvcnRzLm1hdDI9ZXhwb3J0cy5nbE1hdHJpeD12b2lkIDA7dmFyIF9jb21tb249X193ZWJwYWNrX3JlcXVpcmVfXygzKSxnbE1hdHJpeD1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29tbW9uKSxfbWF0PV9fd2VicGFja19yZXF1aXJlX18oNDIpLG1hdDI9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX21hdCksX21hdDJkPV9fd2VicGFja19yZXF1aXJlX18oNDMpLG1hdDJkPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9tYXQyZCksX21hdDI9X193ZWJwYWNrX3JlcXVpcmVfXygyMCksbWF0Mz1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWF0MiksX21hdDM9X193ZWJwYWNrX3JlcXVpcmVfXyg0NCksbWF0ND1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWF0MyksX3F1YXQ9X193ZWJwYWNrX3JlcXVpcmVfXyg0NSkscXVhdD1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcXVhdCksX3ZlYz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSx2ZWMyPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF92ZWMpLF92ZWMyPV9fd2VicGFja19yZXF1aXJlX18oMjEpLHZlYzM9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3ZlYzIpLF92ZWMzPV9fd2VicGFja19yZXF1aXJlX18oMjIpLHZlYzQ9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3ZlYzMpO2V4cG9ydHMuZ2xNYXRyaXg9Z2xNYXRyaXgsZXhwb3J0cy5tYXQyPW1hdDIsZXhwb3J0cy5tYXQyZD1tYXQyZCxleHBvcnRzLm1hdDM9bWF0MyxleHBvcnRzLm1hdDQ9bWF0NCxleHBvcnRzLnF1YXQ9cXVhdCxleHBvcnRzLnZlYzI9dmVjMixleHBvcnRzLnZlYzM9dmVjMyxleHBvcnRzLnZlYzQ9dmVjNH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF90eXBlb2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKG9iail7cmV0dXJuIHR5cGVvZiBvYmp9OmZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqfSxfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfR0xUb29sKSxpc1NhbWU9KF9fd2VicGFja19yZXF1aXJlX18oNTIpLGZ1bmN0aW9uKGFycmF5MSxhcnJheTIpe2lmKGFycmF5MS5sZW5ndGghPT1hcnJheTIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8YXJyYXkxLmxlbmd0aDtpKyspaWYoYXJyYXkxW2ldIT09YXJyYXkyW2ldKXJldHVybiExO3JldHVybiEwfSksYWRkTGluZU51bWJlcnM9ZnVuY3Rpb24oc3RyaW5nKXtmb3IodmFyIGxpbmVzPXN0cmluZy5zcGxpdChcIlxcblwiKSxpPTA7aTxsaW5lcy5sZW5ndGg7aSsrKWxpbmVzW2ldPWkrMStcIjogXCIrbGluZXNbaV07cmV0dXJuIGxpbmVzLmpvaW4oXCJcXG5cIil9LGNsb25lQXJyYXk9ZnVuY3Rpb24obUFycmF5KXtyZXR1cm4gbUFycmF5LnNsaWNlP21BcnJheS5zbGljZSgwKTpuZXcgRmxvYXQzMkFycmF5KG1BcnJheSl9LGdsPXZvaWQgMCxkZWZhdWx0VmVydGV4U2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMTEpLGRlZmF1bHRGcmFnbWVudFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUzKSx1bmlmb3JtTWFwcGluZz17ZmxvYXQ6XCJ1bmlmb3JtMWZcIix2ZWMyOlwidW5pZm9ybTJmdlwiLHZlYzM6XCJ1bmlmb3JtM2Z2XCIsdmVjNDpcInVuaWZvcm00ZnZcIixpbnQ6XCJ1bmlmb3JtMWlcIixtYXQzOlwidW5pZm9ybU1hdHJpeDNmdlwiLG1hdDQ6XCJ1bmlmb3JtTWF0cml4NGZ2XCJ9LEdMU2hhZGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gR0xTaGFkZXIoKXt2YXIgc3RyVmVydGV4U2hhZGVyPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpkZWZhdWx0VmVydGV4U2hhZGVyLHN0ckZyYWdtZW50U2hhZGVyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpkZWZhdWx0RnJhZ21lbnRTaGFkZXIsbVZhcnlpbmdzPWFyZ3VtZW50c1syXTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxHTFNoYWRlciksZ2w9X0dMVG9vbDIuZGVmYXVsdC5nbCx0aGlzLnBhcmFtZXRlcnM9W10sdGhpcy51bmlmb3JtVGV4dHVyZXM9W10sdGhpcy5fdmFyeWluZ3M9bVZhcnlpbmdzLHN0clZlcnRleFNoYWRlcnx8KHN0clZlcnRleFNoYWRlcj1kZWZhdWx0VmVydGV4U2hhZGVyKSxzdHJGcmFnbWVudFNoYWRlcnx8KHN0ckZyYWdtZW50U2hhZGVyPWRlZmF1bHRWZXJ0ZXhTaGFkZXIpO3ZhciB2c1NoYWRlcj10aGlzLl9jcmVhdGVTaGFkZXJQcm9ncmFtKHN0clZlcnRleFNoYWRlciwhMCksZnNTaGFkZXI9dGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShzdHJGcmFnbWVudFNoYWRlciwhMSk7dGhpcy5fYXR0YWNoU2hhZGVyUHJvZ3JhbSh2c1NoYWRlcixmc1NoYWRlcil9cmV0dXJuIF9jcmVhdGVDbGFzcyhHTFNoYWRlcixbe2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbigpe19HTFRvb2wyLmRlZmF1bHQuc2hhZGVyIT09dGhpcyYmKGdsLnVzZVByb2dyYW0odGhpcy5zaGFkZXJQcm9ncmFtKSxfR0xUb29sMi5kZWZhdWx0LnVzZVNoYWRlcih0aGlzKSx0aGlzLnVuaWZvcm1UZXh0dXJlcz1bXSl9fSx7a2V5OlwidW5pZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKG1OYW1lLG1UeXBlLG1WYWx1ZSl7aWYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT1tTmFtZT9cInVuZGVmaW5lZFwiOl90eXBlb2YobU5hbWUpKSlyZXR1cm4gdm9pZCB0aGlzLnVuaWZvcm1PYmplY3QobU5hbWUpO2Zvcih2YXIgdW5pZm9ybVR5cGU9dW5pZm9ybU1hcHBpbmdbbVR5cGVdfHxtVHlwZSxoYXNVbmlmb3JtPSExLG9Vbmlmb3JtPXZvaWQgMCxwYXJhbWV0ZXJJbmRleD0tMSxpPTA7aTx0aGlzLnBhcmFtZXRlcnMubGVuZ3RoO2krKylpZihvVW5pZm9ybT10aGlzLnBhcmFtZXRlcnNbaV0sb1VuaWZvcm0ubmFtZT09PW1OYW1lKXtoYXNVbmlmb3JtPSEwLHBhcmFtZXRlckluZGV4PWk7YnJlYWt9dmFyIGlzTnVtYmVyPSExO2lmKGhhc1VuaWZvcm0/KHRoaXMuc2hhZGVyUHJvZ3JhbVttTmFtZV09b1VuaWZvcm0udW5pZm9ybUxvYyxpc051bWJlcj1vVW5pZm9ybS5pc051bWJlcik6KGlzTnVtYmVyPVwidW5pZm9ybTFpXCI9PT11bmlmb3JtVHlwZXx8XCJ1bmlmb3JtMWZcIj09PXVuaWZvcm1UeXBlLHRoaXMuc2hhZGVyUHJvZ3JhbVttTmFtZV09Z2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc2hhZGVyUHJvZ3JhbSxtTmFtZSksaXNOdW1iZXI/dGhpcy5wYXJhbWV0ZXJzLnB1c2goe25hbWU6bU5hbWUsdHlwZTp1bmlmb3JtVHlwZSx2YWx1ZTptVmFsdWUsdW5pZm9ybUxvYzp0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdLGlzTnVtYmVyOmlzTnVtYmVyfSk6dGhpcy5wYXJhbWV0ZXJzLnB1c2goe25hbWU6bU5hbWUsdHlwZTp1bmlmb3JtVHlwZSx2YWx1ZTpjbG9uZUFycmF5KG1WYWx1ZSksdW5pZm9ybUxvYzp0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdLGlzTnVtYmVyOmlzTnVtYmVyfSkscGFyYW1ldGVySW5kZXg9dGhpcy5wYXJhbWV0ZXJzLmxlbmd0aC0xKSx0aGlzLnBhcmFtZXRlcnNbcGFyYW1ldGVySW5kZXhdLnVuaWZvcm1Mb2MpaWYoLTE9PT11bmlmb3JtVHlwZS5pbmRleE9mKFwiTWF0cml4XCIpKWlmKGlzTnVtYmVyKXt2YXIgbmVlZFVwZGF0ZT10aGlzLnBhcmFtZXRlcnNbcGFyYW1ldGVySW5kZXhdLnZhbHVlIT09bVZhbHVlfHwhaGFzVW5pZm9ybTtuZWVkVXBkYXRlJiYoZ2xbdW5pZm9ybVR5cGVdKHRoaXMuc2hhZGVyUHJvZ3JhbVttTmFtZV0sbVZhbHVlKSx0aGlzLnBhcmFtZXRlcnNbcGFyYW1ldGVySW5kZXhdLnZhbHVlPW1WYWx1ZSl9ZWxzZSBpc1NhbWUodGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZSxtVmFsdWUpJiZoYXNVbmlmb3JtfHwoZ2xbdW5pZm9ybVR5cGVdKHRoaXMuc2hhZGVyUHJvZ3JhbVttTmFtZV0sbVZhbHVlKSx0aGlzLnBhcmFtZXRlcnNbcGFyYW1ldGVySW5kZXhdLnZhbHVlPWNsb25lQXJyYXkobVZhbHVlKSk7ZWxzZSBpc1NhbWUodGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZSxtVmFsdWUpJiZoYXNVbmlmb3JtfHwoZ2xbdW5pZm9ybVR5cGVdKHRoaXMuc2hhZGVyUHJvZ3JhbVttTmFtZV0sITEsbVZhbHVlKSx0aGlzLnBhcmFtZXRlcnNbcGFyYW1ldGVySW5kZXhdLnZhbHVlPWNsb25lQXJyYXkobVZhbHVlKSl9fSx7a2V5OlwidW5pZm9ybU9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKG1Vbmlmb3JtT2JqKXtmb3IodmFyIHVuaWZvcm1OYW1lIGluIG1Vbmlmb3JtT2JqKXt2YXIgdW5pZm9ybVZhbHVlPW1Vbmlmb3JtT2JqW3VuaWZvcm1OYW1lXSx1bmlmb3JtVHlwZT1HTFNoYWRlci5nZXRVbmlmb3JtVHlwZSh1bmlmb3JtVmFsdWUpO2lmKHVuaWZvcm1WYWx1ZS5jb25jYXQmJnVuaWZvcm1WYWx1ZVswXS5jb25jYXQpe2Zvcih2YXIgdG1wPVtdLGk9MDtpPHVuaWZvcm1WYWx1ZS5sZW5ndGg7aSsrKXRtcD10bXAuY29uY2F0KHVuaWZvcm1WYWx1ZVtpXSk7dW5pZm9ybVZhbHVlPXRtcH10aGlzLnVuaWZvcm0odW5pZm9ybU5hbWUsdW5pZm9ybVR5cGUsdW5pZm9ybVZhbHVlKX19fSx7a2V5OlwiX2NyZWF0ZVNoYWRlclByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbihtU2hhZGVyU3RyLGlzVmVydGV4U2hhZGVyKXt2YXIgc2hhZGVyVHlwZT1pc1ZlcnRleFNoYWRlcj9fR0xUb29sMi5kZWZhdWx0LlZFUlRFWF9TSEFERVI6X0dMVG9vbDIuZGVmYXVsdC5GUkFHTUVOVF9TSEFERVIsc2hhZGVyPWdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtyZXR1cm4gZ2wuc2hhZGVyU291cmNlKHNoYWRlcixtU2hhZGVyU3RyKSxnbC5jb21waWxlU2hhZGVyKHNoYWRlciksZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlcixnbC5DT01QSUxFX1NUQVRVUyk/c2hhZGVyOihjb25zb2xlLndhcm4oXCJFcnJvciBpbiBTaGFkZXIgOiBcIixnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpLGNvbnNvbGUubG9nKGFkZExpbmVOdW1iZXJzKG1TaGFkZXJTdHIpKSxudWxsKX19LHtrZXk6XCJfYXR0YWNoU2hhZGVyUHJvZ3JhbVwiLHZhbHVlOmZ1bmN0aW9uKG1WZXJ0ZXhTaGFkZXIsbUZyYWdtZW50U2hhZGVyKXt0aGlzLnNoYWRlclByb2dyYW09Z2wuY3JlYXRlUHJvZ3JhbSgpLGdsLmF0dGFjaFNoYWRlcih0aGlzLnNoYWRlclByb2dyYW0sbVZlcnRleFNoYWRlciksZ2wuYXR0YWNoU2hhZGVyKHRoaXMuc2hhZGVyUHJvZ3JhbSxtRnJhZ21lbnRTaGFkZXIpLGdsLmRlbGV0ZVNoYWRlcihtVmVydGV4U2hhZGVyKSxnbC5kZWxldGVTaGFkZXIobUZyYWdtZW50U2hhZGVyKSx0aGlzLl92YXJ5aW5ncyYmKGNvbnNvbGUubG9nKFwiVHJhbnNmb3JtIGZlZWRiYWNrIHNldHVwIDogXCIsdGhpcy5fdmFyeWluZ3MpLGdsLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3ModGhpcy5zaGFkZXJQcm9ncmFtLHRoaXMuX3ZhcnlpbmdzLGdsLlNFUEFSQVRFX0FUVFJJQlMpKSxnbC5saW5rUHJvZ3JhbSh0aGlzLnNoYWRlclByb2dyYW0pfX1dKSxHTFNoYWRlcn0oKTtHTFNoYWRlci5nZXRVbmlmb3JtVHlwZT1mdW5jdGlvbihtVmFsdWUpe3ZhciBpc0FycmF5PSEhbVZhbHVlLmNvbmNhdCxnZXRBcnJheVVuaWZvcm1UeXBlPWZ1bmN0aW9uKG1WYWx1ZSl7cmV0dXJuIDk9PT1tVmFsdWUubGVuZ3RoP1widW5pZm9ybU1hdHJpeDNmdlwiOjE2PT09bVZhbHVlLmxlbmd0aD9cInVuaWZvcm1NYXRyaXg0ZnZcIjpcInZlY1wiK21WYWx1ZS5sZW5ndGh9O3JldHVybiBpc0FycmF5P2dldEFycmF5VW5pZm9ybVR5cGUobVZhbHVlWzBdLmNvbmNhdD9tVmFsdWVbMF06bVZhbHVlKTpcImZsb2F0XCJ9LGV4cG9ydHMuZGVmYXVsdD1HTFNoYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gc2V0TWF0cml4QXJyYXlUeXBlKHR5cGUpe2V4cG9ydHMuQVJSQVlfVFlQRT1BUlJBWV9UWVBFPXR5cGV9ZnVuY3Rpb24gdG9SYWRpYW4oYSl7cmV0dXJuIGEqZGVncmVlfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3JldHVybiBNYXRoLmFicyhhLWIpPD1FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYSksTWF0aC5hYnMoYikpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc2V0TWF0cml4QXJyYXlUeXBlPXNldE1hdHJpeEFycmF5VHlwZSxleHBvcnRzLnRvUmFkaWFuPXRvUmFkaWFuLGV4cG9ydHMuZXF1YWxzPWVxdWFsczt2YXIgRVBTSUxPTj1leHBvcnRzLkVQU0lMT049MWUtNixBUlJBWV9UWVBFPWV4cG9ydHMuQVJSQVlfVFlQRT1cInVuZGVmaW5lZFwiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheSxkZWdyZWU9KGV4cG9ydHMuUkFORE9NPU1hdGgucmFuZG9tLE1hdGguUEkvMTgwKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9HTFRvb2wpLEJhdGNoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQmF0Y2gobU1lc2gsbVNoYWRlcil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2gpLHRoaXMuX21lc2g9bU1lc2gsdGhpcy5fc2hhZGVyPW1TaGFkZXJ9cmV0dXJuIF9jcmVhdGVDbGFzcyhCYXRjaCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3NoYWRlci5iaW5kKCksX0dMVG9vbDIuZGVmYXVsdC5kcmF3KHRoaXMubWVzaCl9fSx7a2V5OlwibWVzaFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNofX0se2tleTpcInNoYWRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkZXJ9fV0pLEJhdGNofSgpO2V4cG9ydHMuZGVmYXVsdD1CYXRjaH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9nZXRBdHRyaWJMb2M9X193ZWJwYWNrX3JlcXVpcmVfXygyNCksX2dldEF0dHJpYkxvYzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0QXR0cmliTG9jKSxnbD12b2lkIDAsZ2V0QnVmZmVyPWZ1bmN0aW9uKGF0dHIpe3ZhciBidWZmZXI9dm9pZCAwO3JldHVybiB2b2lkIDAhPT1hdHRyLmJ1ZmZlcj9idWZmZXI9YXR0ci5idWZmZXI6KGJ1ZmZlcj1nbC5jcmVhdGVCdWZmZXIoKSxhdHRyLmJ1ZmZlcj1idWZmZXIpLGJ1ZmZlcn0sZm9ybUJ1ZmZlcj1mdW5jdGlvbihtRGF0YSxtTnVtKXtmb3IodmFyIGFyeT1bXSxpPTA7aTxtRGF0YS5sZW5ndGg7aSs9bU51bSl7Zm9yKHZhciBvPVtdLGo9MDtqPG1OdW07aisrKW8ucHVzaChtRGF0YVtpK2pdKTthcnkucHVzaChvKX1yZXR1cm4gYXJ5fSxNZXNoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTWVzaCgpe3ZhciBtRHJhd2luZ1R5cGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjQsbVVzZVZhbz0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO19jbGFzc0NhbGxDaGVjayh0aGlzLE1lc2gpLGdsPV9HTFRvb2wyLmRlZmF1bHQuZ2wsdGhpcy5kcmF3VHlwZT1tRHJhd2luZ1R5cGUsdGhpcy5fYXR0cmlidXRlcz1bXSx0aGlzLl9udW1JbnN0YW5jZT0tMSx0aGlzLl9lbmFibGVkVmVydGV4QXR0cmlidXRlPVtdLHRoaXMuX2luZGljZXM9W10sdGhpcy5fZmFjZXM9W10sdGhpcy5fYnVmZmVyQ2hhbmdlZD1bXSx0aGlzLl9oYXNJbmRleEJ1ZmZlckNoYW5nZWQ9ITEsdGhpcy5faGFzVkFPPSExLHRoaXMuX2lzSW5zdGFuY2VkPSExLHRoaXMuX2V4dFZBTz0hIV9HTFRvb2wyLmRlZmF1bHQuZ2wuY3JlYXRlVmVydGV4QXJyYXksdGhpcy5fdXNlVkFPPSEhdGhpcy5fZXh0VkFPJiZtVXNlVmFvfXJldHVybiBfY3JlYXRlQ2xhc3MoTWVzaCxbe2tleTpcImJ1ZmZlclZlcnRleFwiLHZhbHVlOmZ1bmN0aW9uKG1BcnJheVZlcnRpY2VzKXt2YXIgbURyYXdUeXBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTozNTA0NDtyZXR1cm4gdGhpcy5idWZmZXJEYXRhKG1BcnJheVZlcnRpY2VzLFwiYVZlcnRleFBvc2l0aW9uXCIsMyxtRHJhd1R5cGUpLHRoaXMubm9ybWFscy5sZW5ndGg8dGhpcy52ZXJ0aWNlcy5sZW5ndGgmJnRoaXMuYnVmZmVyTm9ybWFsKG1BcnJheVZlcnRpY2VzLG1EcmF3VHlwZSksdGhpc319LHtrZXk6XCJidWZmZXJUZXhDb29yZFwiLHZhbHVlOmZ1bmN0aW9uKG1BcnJheVRleENvb3Jkcyl7dmFyIG1EcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MzUwNDQ7cmV0dXJuIHRoaXMuYnVmZmVyRGF0YShtQXJyYXlUZXhDb29yZHMsXCJhVGV4dHVyZUNvb3JkXCIsMixtRHJhd1R5cGUpLHRoaXN9fSx7a2V5OlwiYnVmZmVyTm9ybWFsXCIsdmFsdWU6ZnVuY3Rpb24obU5vcm1hbHMpe3ZhciBtRHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjM1MDQ0O3JldHVybiB0aGlzLmJ1ZmZlckRhdGEobU5vcm1hbHMsXCJhTm9ybWFsXCIsMyxtRHJhd1R5cGUpLHRoaXN9fSx7a2V5OlwiYnVmZmVySW5kZXhcIix2YWx1ZTpmdW5jdGlvbihtQXJyYXlJbmRpY2VzKXt2YXIgaXNEeW5hbWljPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX2RyYXdUeXBlPWlzRHluYW1pYz9nbC5EWU5BTUlDX0RSQVc6Z2wuU1RBVElDX0RSQVcsdGhpcy5faW5kaWNlcz1uZXcgVWludDE2QXJyYXkobUFycmF5SW5kaWNlcyksdGhpcy5fbnVtSXRlbXM9dGhpcy5faW5kaWNlcy5sZW5ndGgsdGhpc319LHtrZXk6XCJidWZmZXJGbGF0dGVuRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKG1EYXRhLG1OYW1lLG1JdGVtU2l6ZSl7dmFyIGRhdGE9KGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM10sYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxmb3JtQnVmZmVyKG1EYXRhLG1JdGVtU2l6ZSkpO3JldHVybiB0aGlzLmJ1ZmZlckRhdGEoZGF0YSxtTmFtZSxtSXRlbVNpemUsMzUwNDQsITEpLHRoaXN9fSx7a2V5OlwiYnVmZmVyRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKG1EYXRhLG1OYW1lLG1JdGVtU2l6ZSl7dmFyIG1EcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MzUwNDQsaXNJbnN0YW5jZWQ9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxpPTAsZHJhd1R5cGU9bURyYXdUeXBlLGJ1ZmZlckRhdGE9W107Zm9yKG1JdGVtU2l6ZXx8KG1JdGVtU2l6ZT1tRGF0YVswXS5sZW5ndGgpLHRoaXMuX2lzSW5zdGFuY2VkPWlzSW5zdGFuY2VkfHx0aGlzLl9pc0luc3RhbmNlZCxpPTA7aTxtRGF0YS5sZW5ndGg7aSsrKWZvcih2YXIgaj0wO2o8bURhdGFbaV0ubGVuZ3RoO2orKylidWZmZXJEYXRhLnB1c2gobURhdGFbaV1bal0pO3ZhciBkYXRhQXJyYXk9bmV3IEZsb2F0MzJBcnJheShidWZmZXJEYXRhKSxhdHRyaWJ1dGU9dGhpcy5nZXRBdHRyaWJ1dGUobU5hbWUpO3JldHVybiBhdHRyaWJ1dGU/KGF0dHJpYnV0ZS5pdGVtU2l6ZT1tSXRlbVNpemUsYXR0cmlidXRlLmRhdGFBcnJheT1kYXRhQXJyYXksYXR0cmlidXRlLnNvdXJjZT1tRGF0YSk6dGhpcy5fYXR0cmlidXRlcy5wdXNoKHtuYW1lOm1OYW1lLHNvdXJjZTptRGF0YSxpdGVtU2l6ZTptSXRlbVNpemUsZHJhd1R5cGU6ZHJhd1R5cGUsZGF0YUFycmF5OmRhdGFBcnJheSxpc0luc3RhbmNlZDppc0luc3RhbmNlZH0pLHRoaXMuX2J1ZmZlckNoYW5nZWQucHVzaChtTmFtZSksdGhpc319LHtrZXk6XCJidWZmZXJJbnN0YW5jZVwiLHZhbHVlOmZ1bmN0aW9uKG1EYXRhLG1OYW1lKXtpZighX0dMVG9vbDIuZGVmYXVsdC5nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJFeHRlbnNpb24gOiBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGlzIGRldmljZSAhXCIpO3ZhciBpdGVtU2l6ZT1tRGF0YVswXS5sZW5ndGg7dGhpcy5fbnVtSW5zdGFuY2U9bURhdGEubGVuZ3RoLHRoaXMuYnVmZmVyRGF0YShtRGF0YSxtTmFtZSxpdGVtU2l6ZSwzNTA0NCwhMCl9fSx7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKG1TaGFkZXJQcm9ncmFtKXt0aGlzLmdlbmVyYXRlQnVmZmVycyhtU2hhZGVyUHJvZ3JhbSksdGhpcy5oYXNWQU8/Z2wuYmluZFZlcnRleEFycmF5KHRoaXMudmFvKToodGhpcy5hdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24oYXR0cmlidXRlKXtnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUixhdHRyaWJ1dGUuYnVmZmVyKTt2YXIgYXR0clBvc2l0aW9uPWF0dHJpYnV0ZS5hdHRyUG9zaXRpb247Z2wudmVydGV4QXR0cmliUG9pbnRlcihhdHRyUG9zaXRpb24sYXR0cmlidXRlLml0ZW1TaXplLGdsLkZMT0FULCExLDAsMCksYXR0cmlidXRlLmlzSW5zdGFuY2VkJiZnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGF0dHJQb3NpdGlvbiwxKX0pLGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pQnVmZmVyKSl9fSx7a2V5OlwiZ2VuZXJhdGVCdWZmZXJzXCIsdmFsdWU6ZnVuY3Rpb24obVNoYWRlclByb2dyYW0pe3ZhciBfdGhpcz10aGlzOzAhPXRoaXMuX2J1ZmZlckNoYW5nZWQubGVuZ3RoJiYodGhpcy5fdXNlVkFPPyh0aGlzLl92YW98fCh0aGlzLl92YW89Z2wuY3JlYXRlVmVydGV4QXJyYXkoKSksZ2wuYmluZFZlcnRleEFycmF5KHRoaXMuX3ZhbyksdGhpcy5fYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJPYmope2lmKC0xIT09X3RoaXMuX2J1ZmZlckNoYW5nZWQuaW5kZXhPZihhdHRyT2JqLm5hbWUpKXt2YXIgYnVmZmVyPWdldEJ1ZmZlcihhdHRyT2JqKTtnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUixidWZmZXIpLGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLGF0dHJPYmouZGF0YUFycmF5LGF0dHJPYmouZHJhd1R5cGUpO3ZhciBhdHRyUG9zaXRpb249KDAsX2dldEF0dHJpYkxvYzIuZGVmYXVsdCkoZ2wsbVNoYWRlclByb2dyYW0sYXR0ck9iai5uYW1lKTtnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyUG9zaXRpb24pLGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0clBvc2l0aW9uLGF0dHJPYmouaXRlbVNpemUsZ2wuRkxPQVQsITEsMCwwKSxhdHRyT2JqLmF0dHJQb3NpdGlvbj1hdHRyUG9zaXRpb24sYXR0ck9iai5pc0luc3RhbmNlZCYmZ2wudmVydGV4QXR0cmliRGl2aXNvcihhdHRyUG9zaXRpb24sMSl9fSksdGhpcy5fdXBkYXRlSW5kZXhCdWZmZXIoKSxnbC5iaW5kVmVydGV4QXJyYXkobnVsbCksdGhpcy5faGFzVkFPPSEwKToodGhpcy5fYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJPYmope2lmKC0xIT09X3RoaXMuX2J1ZmZlckNoYW5nZWQuaW5kZXhPZihhdHRyT2JqLm5hbWUpKXt2YXIgYnVmZmVyPWdldEJ1ZmZlcihhdHRyT2JqKTtnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUixidWZmZXIpLGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLGF0dHJPYmouZGF0YUFycmF5LGF0dHJPYmouZHJhd1R5cGUpO3ZhciBhdHRyUG9zaXRpb249KDAsX2dldEF0dHJpYkxvYzIuZGVmYXVsdCkoZ2wsbVNoYWRlclByb2dyYW0sYXR0ck9iai5uYW1lKTtnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyUG9zaXRpb24pLGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0clBvc2l0aW9uLGF0dHJPYmouaXRlbVNpemUsZ2wuRkxPQVQsITEsMCwwKSxhdHRyT2JqLmF0dHJQb3NpdGlvbj1hdHRyUG9zaXRpb24sYXR0ck9iai5pc0luc3RhbmNlZCYmZ2wudmVydGV4QXR0cmliRGl2aXNvcihhdHRyUG9zaXRpb24sMSl9fSksdGhpcy5fdXBkYXRlSW5kZXhCdWZmZXIoKSksdGhpcy5faGFzSW5kZXhCdWZmZXJDaGFuZ2VkPSExLHRoaXMuX2J1ZmZlckNoYW5nZWQ9W10pfX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdXNlVkFPJiZnbC5iaW5kVmVydGV4QXJyYXkobnVsbCksdGhpcy5fYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJpYnV0ZSl7YXR0cmlidXRlLmlzSW5zdGFuY2VkJiZnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGF0dHJpYnV0ZS5hdHRyUG9zaXRpb24sMCl9KX19LHtrZXk6XCJfdXBkYXRlSW5kZXhCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2hhc0luZGV4QnVmZmVyQ2hhbmdlZHx8KHRoaXMuaUJ1ZmZlcnx8KHRoaXMuaUJ1ZmZlcj1nbC5jcmVhdGVCdWZmZXIoKSksZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmlCdWZmZXIpLGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5faW5kaWNlcyx0aGlzLl9kcmF3VHlwZSksdGhpcy5pQnVmZmVyLml0ZW1TaXplPTEsdGhpcy5pQnVmZmVyLm51bUl0ZW1zPXRoaXMuX251bUl0ZW1zKX19LHtrZXk6XCJjb21wdXRlTm9ybWFsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHVzaW5nRmFjZU5vcm1hbHM9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt0aGlzLmdlbmVyYXRlRmFjZXMoKSx1c2luZ0ZhY2VOb3JtYWxzP3RoaXMuX2NvbXB1dGVGYWNlTm9ybWFscygpOnRoaXMuX2NvbXB1dGVWZXJ0ZXhOb3JtYWxzKCl9fSx7a2V5OlwiX2NvbXB1dGVGYWNlTm9ybWFsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBmYWNlSW5kZXg9dm9pZCAwLGZhY2U9dm9pZCAwLG5vcm1hbHM9W10saT0wO2k8dGhpcy5faW5kaWNlcy5sZW5ndGg7aSs9Myl7ZmFjZUluZGV4PWkvMyxmYWNlPXRoaXMuX2ZhY2VzW2ZhY2VJbmRleF07dmFyIE49ZmFjZS5ub3JtYWw7bm9ybWFsc1tmYWNlLmluZGljZXNbMF1dPU4sbm9ybWFsc1tmYWNlLmluZGljZXNbMV1dPU4sbm9ybWFsc1tmYWNlLmluZGljZXNbMl1dPU59dGhpcy5idWZmZXJOb3JtYWwobm9ybWFscyl9fSx7a2V5OlwiX2NvbXB1dGVWZXJ0ZXhOb3JtYWxzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGZhY2U9dm9pZCAwLHN1bU5vcm1hbD1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxub3JtYWxzPVtdLHZlcnRpY2VzPXRoaXMudmVydGljZXMsaT0wO2k8dmVydGljZXMubGVuZ3RoO2krKyl7X2dsTWF0cml4LnZlYzMuc2V0KHN1bU5vcm1hbCwwLDAsMCk7Zm9yKHZhciBqPTA7ajx0aGlzLl9mYWNlcy5sZW5ndGg7aisrKWZhY2U9dGhpcy5fZmFjZXNbal0sZmFjZS5pbmRpY2VzLmluZGV4T2YoaSk+PTAmJihzdW1Ob3JtYWxbMF0rPWZhY2Uubm9ybWFsWzBdLHN1bU5vcm1hbFsxXSs9ZmFjZS5ub3JtYWxbMV0sc3VtTm9ybWFsWzJdKz1mYWNlLm5vcm1hbFsyXSk7X2dsTWF0cml4LnZlYzMubm9ybWFsaXplKHN1bU5vcm1hbCxzdW1Ob3JtYWwpLG5vcm1hbHMucHVzaChbc3VtTm9ybWFsWzBdLHN1bU5vcm1hbFsxXSxzdW1Ob3JtYWxbMl1dKX10aGlzLmJ1ZmZlck5vcm1hbChub3JtYWxzKX19LHtrZXk6XCJnZW5lcmF0ZUZhY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGlhPXZvaWQgMCxpYj12b2lkIDAsaWM9dm9pZCAwLGE9dm9pZCAwLGI9dm9pZCAwLGM9dm9pZCAwLHZlcnRpY2VzPShfZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxfZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxfZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLnZlcnRpY2VzKSxpPTA7aTx0aGlzLl9pbmRpY2VzLmxlbmd0aDtpKz0zKXtpYT10aGlzLl9pbmRpY2VzW2ldLGliPXRoaXMuX2luZGljZXNbaSsxXSxpYz10aGlzLl9pbmRpY2VzW2krMl0sYT12ZXJ0aWNlc1tpYV0sYj12ZXJ0aWNlc1tpYl0sYz12ZXJ0aWNlc1tpY107dmFyIGZhY2U9e2luZGljZXM6W2lhLGliLGljXSx2ZXJ0aWNlczpbYSxiLGNdfTt0aGlzLl9mYWNlcy5wdXNoKGZhY2UpfX19LHtrZXk6XCJnZXRBdHRyaWJ1dGVcIix2YWx1ZTpmdW5jdGlvbihtTmFtZSl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXMuZmluZChmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT09bU5hbWV9KX19LHtrZXk6XCJnZXRTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbihtTmFtZSl7dmFyIGF0dHI9dGhpcy5nZXRBdHRyaWJ1dGUobU5hbWUpO3JldHVybiBhdHRyP2F0dHIuc291cmNlOltdfX0se2tleTpcInZlcnRpY2VzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U291cmNlKFwiYVZlcnRleFBvc2l0aW9uXCIpfX0se2tleTpcIm5vcm1hbHNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTb3VyY2UoXCJhTm9ybWFsXCIpfX0se2tleTpcImNvb3Jkc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvdXJjZShcImFUZXh0dXJlQ29vcmRcIil9fSx7a2V5OlwiaW5kaWNlc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRpY2VzfX0se2tleTpcInZlcnRleFNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJ0aWNlcy5sZW5ndGh9fSx7a2V5OlwiZmFjZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFjZXN9fSx7a2V5OlwiYXR0cmlidXRlc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzfX0se2tleTpcImhhc1ZBT1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNWQU99fSx7a2V5OlwidmFvXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Zhb319LHtrZXk6XCJudW1JbnN0YW5jZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9udW1JbnN0YW5jZX19LHtrZXk6XCJpc0luc3RhbmNlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luc3RhbmNlZH19XSksTWVzaH0oKTtleHBvcnRzLmRlZmF1bHQ9TWVzaH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksU2NoZWR1bGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU2NoZWR1bGVyKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU2NoZWR1bGVyKSx0aGlzLl9kZWxheVRhc2tzPVtdLHRoaXMuX25leHRUYXNrcz1bXSx0aGlzLl9kZWZlclRhc2tzPVtdLHRoaXMuX2hpZ2hUYXNrcz1bXSx0aGlzLl91c3VycFRhc2s9W10sdGhpcy5fZW50ZXJmcmFtZVRhc2tzPVtdLHRoaXMuX2lkVGFibGU9MCx0aGlzLl9zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5fZGVsdGFUaW1lPTAsdGhpcy5fbG9vcCgpfXJldHVybiBfY3JlYXRlQ2xhc3MoU2NoZWR1bGVyLFt7a2V5OlwiYWRkRUZcIix2YWx1ZTpmdW5jdGlvbihmdW5jLHBhcmFtcyl7cGFyYW1zPXBhcmFtc3x8W107dmFyIGlkPXRoaXMuX2lkVGFibGU7cmV0dXJuIHRoaXMuX2VudGVyZnJhbWVUYXNrc1tpZF09e2Z1bmM6ZnVuYyxwYXJhbXM6cGFyYW1zfSx0aGlzLl9pZFRhYmxlKyssaWR9fSx7a2V5OlwicmVtb3ZlRUZcIix2YWx1ZTpmdW5jdGlvbihpZCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX2VudGVyZnJhbWVUYXNrc1tpZF0mJih0aGlzLl9lbnRlcmZyYW1lVGFza3NbaWRdPW51bGwpLC0xfX0se2tleTpcImRlbGF5XCIsdmFsdWU6ZnVuY3Rpb24oZnVuYyxwYXJhbXMsX2RlbGF5KXt2YXIgdGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0PXtmdW5jOmZ1bmMscGFyYW1zOnBhcmFtcyxkZWxheTpfZGVsYXksdGltZTp0aW1lfTt0aGlzLl9kZWxheVRhc2tzLnB1c2godCl9fSx7a2V5OlwiZGVmZXJcIix2YWx1ZTpmdW5jdGlvbihmdW5jLHBhcmFtcyl7dmFyIHQ9e2Z1bmM6ZnVuYyxwYXJhbXM6cGFyYW1zfTt0aGlzLl9kZWZlclRhc2tzLnB1c2godCl9fSx7a2V5OlwibmV4dFwiLHZhbHVlOmZ1bmN0aW9uKGZ1bmMscGFyYW1zKXt2YXIgdD17ZnVuYzpmdW5jLHBhcmFtczpwYXJhbXN9O3RoaXMuX25leHRUYXNrcy5wdXNoKHQpfX0se2tleTpcInVzdXJwXCIsdmFsdWU6ZnVuY3Rpb24oZnVuYyxwYXJhbXMpe3ZhciB0PXtmdW5jOmZ1bmMscGFyYW1zOnBhcmFtc307dGhpcy5fdXN1cnBUYXNrLnB1c2godCl9fSx7a2V5OlwiX3Byb2Nlc3NcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBpPTAsdGFzaz12b2lkIDAsaW50ZXJ2YWw9dm9pZCAwO2ZvcihpPTA7aTx0aGlzLl9lbnRlcmZyYW1lVGFza3MubGVuZ3RoO2krKyludWxsIT09KHRhc2s9dGhpcy5fZW50ZXJmcmFtZVRhc2tzW2ldKSYmdm9pZCAwIT09dGFzayYmdGFzay5mdW5jKHRhc2sucGFyYW1zKTtmb3IoO3RoaXMuX2hpZ2hUYXNrcy5sZW5ndGg+MDspdGFzaz10aGlzLl9oaWdoVGFza3MucG9wKCksdGFzay5mdW5jKHRhc2sucGFyYW1zKTt2YXIgc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2Zvcih0aGlzLl9kZWx0YVRpbWU9KHN0YXJ0VGltZS10aGlzLl9zdGFydFRpbWUpLzFlMyxpPTA7aTx0aGlzLl9kZWxheVRhc2tzLmxlbmd0aDtpKyspdGFzaz10aGlzLl9kZWxheVRhc2tzW2ldLHN0YXJ0VGltZS10YXNrLnRpbWU+dGFzay5kZWxheSYmKHRhc2suZnVuYyh0YXNrLnBhcmFtcyksdGhpcy5fZGVsYXlUYXNrcy5zcGxpY2UoaSwxKSk7Zm9yKHN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9kZWx0YVRpbWU9KHN0YXJ0VGltZS10aGlzLl9zdGFydFRpbWUpLzFlMyxpbnRlcnZhbD0xZTMvNjA7dGhpcy5fZGVmZXJUYXNrcy5sZW5ndGg+MDspe2lmKHRhc2s9dGhpcy5fZGVmZXJUYXNrcy5zaGlmdCgpLCEoKG5ldyBEYXRlKS5nZXRUaW1lKCktc3RhcnRUaW1lPGludGVydmFsKSl7dGhpcy5fZGVmZXJUYXNrcy51bnNoaWZ0KHRhc2spO2JyZWFrfXRhc2suZnVuYyh0YXNrLnBhcmFtcyl9Zm9yKHN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9kZWx0YVRpbWU9KHN0YXJ0VGltZS10aGlzLl9zdGFydFRpbWUpLzFlMyxpbnRlcnZhbD0xZTMvNjA7dGhpcy5fdXN1cnBUYXNrLmxlbmd0aD4wOyl0YXNrPXRoaXMuX3VzdXJwVGFzay5zaGlmdCgpLChuZXcgRGF0ZSkuZ2V0VGltZSgpLXN0YXJ0VGltZTxpbnRlcnZhbCYmdGFzay5mdW5jKHRhc2sucGFyYW1zKTt0aGlzLl9oaWdoVGFza3M9dGhpcy5faGlnaFRhc2tzLmNvbmNhdCh0aGlzLl9uZXh0VGFza3MpLHRoaXMuX25leHRUYXNrcz1bXSx0aGlzLl91c3VycFRhc2s9W119fSx7a2V5OlwiX2xvb3BcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3RoaXMuX3Byb2Nlc3MoKSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzLl9sb29wKCl9KX19LHtrZXk6XCJkZWx0YVRpbWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsdGFUaW1lfX1dKSxTY2hlZHVsZXJ9KCksc2NoZWR1bGVyPW5ldyBTY2hlZHVsZXI7ZXhwb3J0cy5kZWZhdWx0PXNjaGVkdWxlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9NZXNoPV9fd2VicGFja19yZXF1aXJlX18oNSksX01lc2gyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9NZXNoKSxHZW9tPXt9LG1lc2hUcmk9dm9pZCAwO0dlb20ucGxhbmU9ZnVuY3Rpb24od2lkdGgsaGVpZ2h0LG51bVNlZ21lbnRzKXtmb3IodmFyIGF4aXM9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOlwieHlcIixkcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06NCxwb3NpdGlvbnM9W10sY29vcmRzPVtdLGluZGljZXM9W10sbm9ybWFscz1bXSxnYXBYPXdpZHRoL251bVNlZ21lbnRzLGdhcFk9aGVpZ2h0L251bVNlZ21lbnRzLGdhcFVWPTEvbnVtU2VnbWVudHMsc3g9LjUqLXdpZHRoLHN5PS41Ki1oZWlnaHQsaW5kZXg9MCxpPTA7aTxudW1TZWdtZW50cztpKyspZm9yKHZhciBqPTA7ajxudW1TZWdtZW50cztqKyspe3ZhciB0eD1nYXBYKmkrc3gsdHk9Z2FwWSpqK3N5LHU9aS9udW1TZWdtZW50cyx2PWovbnVtU2VnbWVudHM7XCJ4elwiPT09YXhpcz8ocG9zaXRpb25zLnB1c2goW3R4LDAsdHkrZ2FwWV0pLHBvc2l0aW9ucy5wdXNoKFt0eCtnYXBYLDAsdHkrZ2FwWV0pLHBvc2l0aW9ucy5wdXNoKFt0eCtnYXBYLDAsdHldKSxwb3NpdGlvbnMucHVzaChbdHgsMCx0eV0pLGNvb3Jkcy5wdXNoKFt1LDEtKHYrZ2FwVVYpXSksY29vcmRzLnB1c2goW3UrZ2FwVVYsMS0oditnYXBVVildKSxjb29yZHMucHVzaChbdStnYXBVViwxLXZdKSxjb29yZHMucHVzaChbdSwxLXZdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksbm9ybWFscy5wdXNoKFswLDEsMF0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxub3JtYWxzLnB1c2goWzAsMSwwXSkpOlwieXpcIj09PWF4aXM/KHBvc2l0aW9ucy5wdXNoKFswLHR5LHR4XSkscG9zaXRpb25zLnB1c2goWzAsdHksdHgrZ2FwWF0pLHBvc2l0aW9ucy5wdXNoKFswLHR5K2dhcFksdHgrZ2FwWF0pLHBvc2l0aW9ucy5wdXNoKFswLHR5K2dhcFksdHhdKSxjb29yZHMucHVzaChbdSx2XSksY29vcmRzLnB1c2goW3UrZ2FwVVYsdl0pLGNvb3Jkcy5wdXNoKFt1K2dhcFVWLHYrZ2FwVVZdKSxjb29yZHMucHVzaChbdSx2K2dhcFVWXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pKToocG9zaXRpb25zLnB1c2goW3R4LHR5LDBdKSxwb3NpdGlvbnMucHVzaChbdHgrZ2FwWCx0eSwwXSkscG9zaXRpb25zLnB1c2goW3R4K2dhcFgsdHkrZ2FwWSwwXSkscG9zaXRpb25zLnB1c2goW3R4LHR5K2dhcFksMF0pLGNvb3Jkcy5wdXNoKFt1LHZdKSxjb29yZHMucHVzaChbdStnYXBVVix2XSksY29vcmRzLnB1c2goW3UrZ2FwVVYsditnYXBVVl0pLGNvb3Jkcy5wdXNoKFt1LHYrZ2FwVVZdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxub3JtYWxzLnB1c2goWzAsMCwxXSkpLGluZGljZXMucHVzaCg0KmluZGV4KzApLGluZGljZXMucHVzaCg0KmluZGV4KzEpLGluZGljZXMucHVzaCg0KmluZGV4KzIpLGluZGljZXMucHVzaCg0KmluZGV4KzApLGluZGljZXMucHVzaCg0KmluZGV4KzIpLGluZGljZXMucHVzaCg0KmluZGV4KzMpLGluZGV4Kyt9dmFyIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KGRyYXdUeXBlKTtyZXR1cm4gbWVzaC5idWZmZXJWZXJ0ZXgocG9zaXRpb25zKSxtZXNoLmJ1ZmZlclRleENvb3JkKGNvb3JkcyksbWVzaC5idWZmZXJJbmRleChpbmRpY2VzKSxtZXNoLmJ1ZmZlck5vcm1hbChub3JtYWxzKSxtZXNofSxHZW9tLnNwaGVyZT1mdW5jdGlvbihzaXplLG51bVNlZ21lbnRzKXtmdW5jdGlvbiBnZXRQb3NpdGlvbihpLGope3ZhciBpc05vcm1hbD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLHJ4PWkvbnVtU2VnbWVudHMqTWF0aC5QSS0uNSpNYXRoLlBJLHJ5PWovbnVtU2VnbWVudHMqTWF0aC5QSSoyLHI9aXNOb3JtYWw/MTpzaXplLHBvcz1bXTtwb3NbMV09TWF0aC5zaW4ocngpKnI7dmFyIHQ9TWF0aC5jb3MocngpKnI7cG9zWzBdPU1hdGguY29zKHJ5KSp0LHBvc1syXT1NYXRoLnNpbihyeSkqdDtyZXR1cm4gcG9zWzBdPU1hdGguZmxvb3IoMWU0KnBvc1swXSkvMWU0LHBvc1sxXT1NYXRoLmZsb29yKDFlNCpwb3NbMV0pLzFlNCxwb3NbMl09TWF0aC5mbG9vcigxZTQqcG9zWzJdKS8xZTQscG9zfWZvcih2YXIgaXNJbnZlcnQ9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxkcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NCxwb3NpdGlvbnM9W10sY29vcmRzPVtdLGluZGljZXM9W10sbm9ybWFscz1bXSxnYXBVVj0xL251bVNlZ21lbnRzLGluZGV4PTAsaT0wO2k8bnVtU2VnbWVudHM7aSsrKWZvcih2YXIgaj0wO2o8bnVtU2VnbWVudHM7aisrKXtwb3NpdGlvbnMucHVzaChnZXRQb3NpdGlvbihpLGopKSxwb3NpdGlvbnMucHVzaChnZXRQb3NpdGlvbihpKzEsaikpLHBvc2l0aW9ucy5wdXNoKGdldFBvc2l0aW9uKGkrMSxqKzEpKSxwb3NpdGlvbnMucHVzaChnZXRQb3NpdGlvbihpLGorMSkpLG5vcm1hbHMucHVzaChnZXRQb3NpdGlvbihpLGosITApKSxub3JtYWxzLnB1c2goZ2V0UG9zaXRpb24oaSsxLGosITApKSxub3JtYWxzLnB1c2goZ2V0UG9zaXRpb24oaSsxLGorMSwhMCkpLG5vcm1hbHMucHVzaChnZXRQb3NpdGlvbihpLGorMSwhMCkpO3ZhciB1PWovbnVtU2VnbWVudHMsdj1pL251bVNlZ21lbnRzO2Nvb3Jkcy5wdXNoKFsxLXUsdl0pLGNvb3Jkcy5wdXNoKFsxLXUsditnYXBVVl0pLGNvb3Jkcy5wdXNoKFsxLXUtZ2FwVVYsditnYXBVVl0pLGNvb3Jkcy5wdXNoKFsxLXUtZ2FwVVYsdl0pLGluZGljZXMucHVzaCg0KmluZGV4KzApLGluZGljZXMucHVzaCg0KmluZGV4KzEpLGluZGljZXMucHVzaCg0KmluZGV4KzIpLGluZGljZXMucHVzaCg0KmluZGV4KzApLGluZGljZXMucHVzaCg0KmluZGV4KzIpLGluZGljZXMucHVzaCg0KmluZGV4KzMpLGluZGV4Kyt9aXNJbnZlcnQmJmluZGljZXMucmV2ZXJzZSgpO3ZhciBtZXNoPW5ldyBfTWVzaDIuZGVmYXVsdChkcmF3VHlwZSk7cmV0dXJuIG1lc2guYnVmZmVyVmVydGV4KHBvc2l0aW9ucyksbWVzaC5idWZmZXJUZXhDb29yZChjb29yZHMpLG1lc2guYnVmZmVySW5kZXgoaW5kaWNlcyksbWVzaC5idWZmZXJOb3JtYWwobm9ybWFscyksbWVzaH0sR2VvbS5jdWJlPWZ1bmN0aW9uKHcsaCxkKXt2YXIgZHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjQ7aD1ofHx3LGQ9ZHx8dzt2YXIgeD13LzIseT1oLzIsej1kLzIscG9zaXRpb25zPVtdLGNvb3Jkcz1bXSxpbmRpY2VzPVtdLG5vcm1hbHM9W10sY291bnQ9MDtwb3NpdGlvbnMucHVzaChbLXgseSwtel0pLHBvc2l0aW9ucy5wdXNoKFt4LHksLXpdKSxwb3NpdGlvbnMucHVzaChbeCwteSwtel0pLHBvc2l0aW9ucy5wdXNoKFsteCwteSwtel0pLG5vcm1hbHMucHVzaChbMCwwLC0xXSksbm9ybWFscy5wdXNoKFswLDAsLTFdKSxub3JtYWxzLnB1c2goWzAsMCwtMV0pLG5vcm1hbHMucHVzaChbMCwwLC0xXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50KysscG9zaXRpb25zLnB1c2goW3gseSwtel0pLHBvc2l0aW9ucy5wdXNoKFt4LHksel0pLHBvc2l0aW9ucy5wdXNoKFt4LC15LHpdKSxwb3NpdGlvbnMucHVzaChbeCwteSwtel0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbeCx5LHpdKSxwb3NpdGlvbnMucHVzaChbLXgseSx6XSkscG9zaXRpb25zLnB1c2goWy14LC15LHpdKSxwb3NpdGlvbnMucHVzaChbeCwteSx6XSksbm9ybWFscy5wdXNoKFswLDAsMV0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFsteCx5LHpdKSxwb3NpdGlvbnMucHVzaChbLXgseSwtel0pLHBvc2l0aW9ucy5wdXNoKFsteCwteSwtel0pLHBvc2l0aW9ucy5wdXNoKFsteCwteSx6XSksbm9ybWFscy5wdXNoKFstMSwwLDBdKSxub3JtYWxzLnB1c2goWy0xLDAsMF0pLG5vcm1hbHMucHVzaChbLTEsMCwwXSksbm9ybWFscy5wdXNoKFstMSwwLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbeCx5LC16XSkscG9zaXRpb25zLnB1c2goWy14LHksLXpdKSxwb3NpdGlvbnMucHVzaChbLXgseSx6XSkscG9zaXRpb25zLnB1c2goW3gseSx6XSksbm9ybWFscy5wdXNoKFswLDEsMF0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksbm9ybWFscy5wdXNoKFswLDEsMF0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFt4LC15LHpdKSxwb3NpdGlvbnMucHVzaChbLXgsLXksel0pLHBvc2l0aW9ucy5wdXNoKFsteCwteSwtel0pLHBvc2l0aW9ucy5wdXNoKFt4LC15LC16XSksbm9ybWFscy5wdXNoKFswLC0xLDBdKSxub3JtYWxzLnB1c2goWzAsLTEsMF0pLG5vcm1hbHMucHVzaChbMCwtMSwwXSksbm9ybWFscy5wdXNoKFswLC0xLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKzt2YXIgbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQoZHJhd1R5cGUpO3JldHVybiBtZXNoLmJ1ZmZlclZlcnRleChwb3NpdGlvbnMpLG1lc2guYnVmZmVyVGV4Q29vcmQoY29vcmRzKSxtZXNoLmJ1ZmZlckluZGV4KGluZGljZXMpLG1lc2guYnVmZmVyTm9ybWFsKG5vcm1hbHMpLG1lc2h9LEdlb20uc2t5Ym94PWZ1bmN0aW9uKHNpemUpe3ZhciBkcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NCxwb3NpdGlvbnM9W10sY29vcmRzPVtdLGluZGljZXM9W10sbm9ybWFscz1bXSxjb3VudD0wO3Bvc2l0aW9ucy5wdXNoKFtzaXplLHNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSwtc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFtzaXplLC1zaXplLC1zaXplXSksbm9ybWFscy5wdXNoKFswLDAsLTFdKSxub3JtYWxzLnB1c2goWzAsMCwtMV0pLG5vcm1hbHMucHVzaChbMCwwLC0xXSksbm9ybWFscy5wdXNoKFswLDAsLTFdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbc2l6ZSwtc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFtzaXplLC1zaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSxzaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSxzaXplLC1zaXplXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSxzaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSxzaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSwtc2l6ZSxzaXplXSkscG9zaXRpb25zLnB1c2goWy1zaXplLC1zaXplLHNpemVdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50KysscG9zaXRpb25zLnB1c2goWy1zaXplLC1zaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsLXNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSxzaXplLHNpemVdKSxub3JtYWxzLnB1c2goWy0xLDAsMF0pLG5vcm1hbHMucHVzaChbLTEsMCwwXSksbm9ybWFscy5wdXNoKFstMSwwLDBdKSxub3JtYWxzLnB1c2goWy0xLDAsMF0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFtzaXplLHNpemUsc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSxzaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsc2l6ZSwtc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFtzaXplLHNpemUsLXNpemVdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksbm9ybWFscy5wdXNoKFswLDEsMF0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50KysscG9zaXRpb25zLnB1c2goW3NpemUsLXNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsLXNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsLXNpemUsc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFtzaXplLC1zaXplLHNpemVdKSxub3JtYWxzLnB1c2goWzAsLTEsMF0pLG5vcm1hbHMucHVzaChbMCwtMSwwXSksbm9ybWFscy5wdXNoKFswLC0xLDBdKSxub3JtYWxzLnB1c2goWzAsLTEsMF0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKTt2YXIgbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQoZHJhd1R5cGUpO3JldHVybiBtZXNoLmJ1ZmZlclZlcnRleChwb3NpdGlvbnMpLG1lc2guYnVmZmVyVGV4Q29vcmQoY29vcmRzKSxtZXNoLmJ1ZmZlckluZGV4KGluZGljZXMpLG1lc2guYnVmZmVyTm9ybWFsKG5vcm1hbHMpLG1lc2h9LEdlb20uYmlnVHJpYW5nbGU9ZnVuY3Rpb24oKXtpZighbWVzaFRyaSl7dmFyIGluZGljZXM9WzIsMSwwXSxwb3NpdGlvbnM9W1stMSwtMV0sWy0xLDRdLFs0LC0xXV07bWVzaFRyaT1uZXcgX01lc2gyLmRlZmF1bHQsbWVzaFRyaS5idWZmZXJEYXRhKHBvc2l0aW9ucyxcImFQb3NpdGlvblwiLDIpLG1lc2hUcmkuYnVmZmVySW5kZXgoaW5kaWNlcyl9cmV0dXJuIG1lc2hUcml9LGV4cG9ydHMuZGVmYXVsdD1HZW9tfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz17MDpcIk5PTkVcIiwxOlwiT05FXCIsMjpcIkxJTkVfTE9PUFwiLDM6XCJMSU5FX1NUUklQXCIsNDpcIlRSSUFOR0xFU1wiLDU6XCJUUklBTkdMRV9TVFJJUFwiLDY6XCJUUklBTkdMRV9GQU5cIiwyNTY6XCJERVBUSF9CVUZGRVJfQklUXCIsNTEyOlwiTkVWRVJcIiw1MTM6XCJMRVNTXCIsNTE0OlwiRVFVQUxcIiw1MTU6XCJMRVFVQUxcIiw1MTY6XCJHUkVBVEVSXCIsNTE3OlwiTk9URVFVQUxcIiw1MTg6XCJHRVFVQUxcIiw1MTk6XCJBTFdBWVNcIiw3Njg6XCJTUkNfQ09MT1JcIiw3Njk6XCJPTkVfTUlOVVNfU1JDX0NPTE9SXCIsNzcwOlwiU1JDX0FMUEhBXCIsNzcxOlwiT05FX01JTlVTX1NSQ19BTFBIQVwiLDc3MjpcIkRTVF9BTFBIQVwiLDc3MzpcIk9ORV9NSU5VU19EU1RfQUxQSEFcIiw3NzQ6XCJEU1RfQ09MT1JcIiw3NzU6XCJPTkVfTUlOVVNfRFNUX0NPTE9SXCIsNzc2OlwiU1JDX0FMUEhBX1NBVFVSQVRFXCIsMTAyNDpcIlNURU5DSUxfQlVGRkVSX0JJVFwiLDEwMjg6XCJGUk9OVFwiLDEwMjk6XCJCQUNLXCIsMTAzMjpcIkZST05UX0FORF9CQUNLXCIsMTI4MDpcIklOVkFMSURfRU5VTVwiLDEyODE6XCJJTlZBTElEX1ZBTFVFXCIsMTI4MjpcIklOVkFMSURfT1BFUkFUSU9OXCIsMTI4NTpcIk9VVF9PRl9NRU1PUllcIiwxMjg2OlwiSU5WQUxJRF9GUkFNRUJVRkZFUl9PUEVSQVRJT05cIiwyMzA0OlwiQ1dcIiwyMzA1OlwiQ0NXXCIsMjg0OTpcIkxJTkVfV0lEVEhcIiwyODg0OlwiQ1VMTF9GQUNFXCIsMjg4NTpcIkNVTExfRkFDRV9NT0RFXCIsMjg4NjpcIkZST05UX0ZBQ0VcIiwyOTI4OlwiREVQVEhfUkFOR0VcIiwyOTI5OlwiREVQVEhfVEVTVFwiLDI5MzA6XCJERVBUSF9XUklURU1BU0tcIiwyOTMxOlwiREVQVEhfQ0xFQVJfVkFMVUVcIiwyOTMyOlwiREVQVEhfRlVOQ1wiLDI5NjA6XCJTVEVOQ0lMX1RFU1RcIiwyOTYxOlwiU1RFTkNJTF9DTEVBUl9WQUxVRVwiLDI5NjI6XCJTVEVOQ0lMX0ZVTkNcIiwyOTYzOlwiU1RFTkNJTF9WQUxVRV9NQVNLXCIsMjk2NDpcIlNURU5DSUxfRkFJTFwiLDI5NjU6XCJTVEVOQ0lMX1BBU1NfREVQVEhfRkFJTFwiLDI5NjY6XCJTVEVOQ0lMX1BBU1NfREVQVEhfUEFTU1wiLDI5Njc6XCJTVEVOQ0lMX1JFRlwiLDI5Njg6XCJTVEVOQ0lMX1dSSVRFTUFTS1wiLDI5Nzg6XCJWSUVXUE9SVFwiLDMwMjQ6XCJESVRIRVJcIiwzMDQyOlwiQkxFTkRcIiwzMDg4OlwiU0NJU1NPUl9CT1hcIiwzMDg5OlwiU0NJU1NPUl9URVNUXCIsMzEwNjpcIkNPTE9SX0NMRUFSX1ZBTFVFXCIsMzEwNzpcIkNPTE9SX1dSSVRFTUFTS1wiLDMzMTc6XCJVTlBBQ0tfQUxJR05NRU5UXCIsMzMzMzpcIlBBQ0tfQUxJR05NRU5UXCIsMzM3OTpcIk1BWF9URVhUVVJFX1NJWkVcIiwzMzg2OlwiTUFYX1ZJRVdQT1JUX0RJTVNcIiwzNDA4OlwiU1VCUElYRUxfQklUU1wiLDM0MTA6XCJSRURfQklUU1wiLDM0MTE6XCJHUkVFTl9CSVRTXCIsMzQxMjpcIkJMVUVfQklUU1wiLDM0MTM6XCJBTFBIQV9CSVRTXCIsMzQxNDpcIkRFUFRIX0JJVFNcIiwzNDE1OlwiU1RFTkNJTF9CSVRTXCIsMzU1MzpcIlRFWFRVUkVfMkRcIiw0MzUyOlwiRE9OVF9DQVJFXCIsNDM1MzpcIkZBU1RFU1RcIiw0MzU0OlwiTklDRVNUXCIsNTEyMDpcIkJZVEVcIiw1MTIxOlwiVU5TSUdORURfQllURVwiLDUxMjI6XCJTSE9SVFwiLDUxMjM6XCJVTlNJR05FRF9TSE9SVFwiLDUxMjQ6XCJJTlRcIiw1MTI1OlwiVU5TSUdORURfSU5UXCIsNTEyNjpcIkZMT0FUXCIsNTM4NjpcIklOVkVSVFwiLDU4OTA6XCJURVhUVVJFXCIsNjQwMTpcIlNURU5DSUxfSU5ERVhcIiw2NDAyOlwiREVQVEhfQ09NUE9ORU5UXCIsNjQwMzpcIlJFRFwiLDY0MDY6XCJBTFBIQVwiLDY0MDc6XCJSR0JcIiw2NDA4OlwiUkdCQVwiLDY0MDk6XCJMVU1JTkFOQ0VcIiw2NDEwOlwiTFVNSU5BTkNFX0FMUEhBXCIsNzY4MDpcIktFRVBcIiw3NjgxOlwiUkVQTEFDRVwiLDc2ODI6XCJJTkNSXCIsNzY4MzpcIkRFQ1JcIiw3OTM2OlwiVkVORE9SXCIsNzkzNzpcIlJFTkRFUkVSXCIsNzkzODpcIlZFUlNJT05cIiw5NzI4OlwiTkVBUkVTVFwiLDk3Mjk6XCJMSU5FQVJcIiw5OTg0OlwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVFwiLDk5ODU6XCJMSU5FQVJfTUlQTUFQX05FQVJFU1RcIiw5OTg2OlwiTkVBUkVTVF9NSVBNQVBfTElORUFSXCIsOTk4NzpcIkxJTkVBUl9NSVBNQVBfTElORUFSXCIsMTAyNDA6XCJURVhUVVJFX01BR19GSUxURVJcIiwxMDI0MTpcIlRFWFRVUkVfTUlOX0ZJTFRFUlwiLDEwMjQyOlwiVEVYVFVSRV9XUkFQX1NcIiwxMDI0MzpcIlRFWFRVUkVfV1JBUF9UXCIsMTA0OTc6XCJSRVBFQVRcIiwxMDc1MjpcIlBPTFlHT05fT0ZGU0VUX1VOSVRTXCIsMTYzODQ6XCJDT0xPUl9CVUZGRVJfQklUXCIsMzI3Njk6XCJDT05TVEFOVF9DT0xPUlwiLDMyNzcwOlwiT05FX01JTlVTX0NPTlNUQU5UX0NPTE9SXCIsMzI3NzE6XCJDT05TVEFOVF9BTFBIQVwiLDMyNzcyOlwiT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBXCIsMzI3NzM6XCJCTEVORF9DT0xPUlwiLDMyNzc0OlwiRlVOQ19BRERcIiwzMjc3NzpcIkJMRU5EX0VRVUFUSU9OX1JHQlwiLDMyNzc4OlwiRlVOQ19TVUJUUkFDVFwiLDMyNzc5OlwiRlVOQ19SRVZFUlNFX1NVQlRSQUNUXCIsMzI4MTk6XCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCIsMzI4MjA6XCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCIsMzI4MjM6XCJQT0xZR09OX09GRlNFVF9GSUxMXCIsMzI4MjQ6XCJQT0xZR09OX09GRlNFVF9GQUNUT1JcIiwzMjg1NDpcIlJHQkE0XCIsMzI4NTU6XCJSR0I1X0ExXCIsMzI4NzM6XCJURVhUVVJFX0JJTkRJTkdfMkRcIiwzMjkyNjpcIlNBTVBMRV9BTFBIQV9UT19DT1ZFUkFHRVwiLDMyOTI4OlwiU0FNUExFX0NPVkVSQUdFXCIsMzI5MzY6XCJTQU1QTEVfQlVGRkVSU1wiLDMyOTM3OlwiU0FNUExFU1wiLDMyOTM4OlwiU0FNUExFX0NPVkVSQUdFX1ZBTFVFXCIsMzI5Mzk6XCJTQU1QTEVfQ09WRVJBR0VfSU5WRVJUXCIsMzI5Njg6XCJCTEVORF9EU1RfUkdCXCIsMzI5Njk6XCJCTEVORF9TUkNfUkdCXCIsMzI5NzA6XCJCTEVORF9EU1RfQUxQSEFcIiwzMjk3MTpcIkJMRU5EX1NSQ19BTFBIQVwiLDMzMDcxOlwiQ0xBTVBfVE9fRURHRVwiLDMzMTcwOlwiR0VORVJBVEVfTUlQTUFQX0hJTlRcIiwzMzE4OTpcIkRFUFRIX0NPTVBPTkVOVDE2XCIsMzMzMDY6XCJERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlRcIiwzMzMyMTpcIlI4XCIsMzM2MzU6XCJVTlNJR05FRF9TSE9SVF81XzZfNVwiLDMzNjQ4OlwiTUlSUk9SRURfUkVQRUFUXCIsMzM5MDE6XCJBTElBU0VEX1BPSU5UX1NJWkVfUkFOR0VcIiwzMzkwMjpcIkFMSUFTRURfTElORV9XSURUSF9SQU5HRVwiLDMzOTg0OlwiVEVYVFVSRTBcIiwzMzk4NTpcIlRFWFRVUkUxXCIsMzM5ODY6XCJURVhUVVJFMlwiLDMzOTg3OlwiVEVYVFVSRTNcIiwzMzk4ODpcIlRFWFRVUkU0XCIsMzM5ODk6XCJURVhUVVJFNVwiLDMzOTkwOlwiVEVYVFVSRTZcIiwzMzk5MTpcIlRFWFRVUkU3XCIsMzM5OTI6XCJURVhUVVJFOFwiLDMzOTkzOlwiVEVYVFVSRTlcIiwzMzk5NDpcIlRFWFRVUkUxMFwiLDMzOTk1OlwiVEVYVFVSRTExXCIsMzM5OTY6XCJURVhUVVJFMTJcIiwzMzk5NzpcIlRFWFRVUkUxM1wiLDMzOTk4OlwiVEVYVFVSRTE0XCIsMzM5OTk6XCJURVhUVVJFMTVcIiwzNGUzOlwiVEVYVFVSRTE2XCIsMzQwMDE6XCJURVhUVVJFMTdcIiwzNDAwMjpcIlRFWFRVUkUxOFwiLDM0MDAzOlwiVEVYVFVSRTE5XCIsMzQwMDQ6XCJURVhUVVJFMjBcIiwzNDAwNTpcIlRFWFRVUkUyMVwiLDM0MDA2OlwiVEVYVFVSRTIyXCIsMzQwMDc6XCJURVhUVVJFMjNcIiwzNDAwODpcIlRFWFRVUkUyNFwiLDM0MDA5OlwiVEVYVFVSRTI1XCIsMzQwMTA6XCJURVhUVVJFMjZcIiwzNDAxMTpcIlRFWFRVUkUyN1wiLDM0MDEyOlwiVEVYVFVSRTI4XCIsMzQwMTM6XCJURVhUVVJFMjlcIiwzNDAxNDpcIlRFWFRVUkUzMFwiLDM0MDE1OlwiVEVYVFVSRTMxXCIsMzQwMTY6XCJBQ1RJVkVfVEVYVFVSRVwiLDM0MDI0OlwiTUFYX1JFTkRFUkJVRkZFUl9TSVpFXCIsMzQwNDE6XCJERVBUSF9TVEVOQ0lMXCIsMzQwNTU6XCJJTkNSX1dSQVBcIiwzNDA1NjpcIkRFQ1JfV1JBUFwiLDM0MDY3OlwiVEVYVFVSRV9DVUJFX01BUFwiLDM0MDY4OlwiVEVYVFVSRV9CSU5ESU5HX0NVQkVfTUFQXCIsMzQwNjk6XCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIiwzNDA3MDpcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiLDM0MDcxOlwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCIsMzQwNzI6XCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIiwzNDA3MzpcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiLDM0MDc0OlwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCIsMzQwNzY6XCJNQVhfQ1VCRV9NQVBfVEVYVFVSRV9TSVpFXCIsMzQzMzg6XCJWRVJURVhfQVRUUklCX0FSUkFZX0VOQUJMRURcIiwzNDMzOTpcIlZFUlRFWF9BVFRSSUJfQVJSQVlfU0laRVwiLDM0MzQwOlwiVkVSVEVYX0FUVFJJQl9BUlJBWV9TVFJJREVcIiwzNDM0MTpcIlZFUlRFWF9BVFRSSUJfQVJSQVlfVFlQRVwiLDM0MzQyOlwiQ1VSUkVOVF9WRVJURVhfQVRUUklCXCIsMzQzNzM6XCJWRVJURVhfQVRUUklCX0FSUkFZX1BPSU5URVJcIiwzNDQ2NjpcIk5VTV9DT01QUkVTU0VEX1RFWFRVUkVfRk9STUFUU1wiLDM0NDY3OlwiQ09NUFJFU1NFRF9URVhUVVJFX0ZPUk1BVFNcIiwzNDY2MDpcIkJVRkZFUl9TSVpFXCIsMzQ2NjE6XCJCVUZGRVJfVVNBR0VcIiwzNDgxNjpcIlNURU5DSUxfQkFDS19GVU5DXCIsMzQ4MTc6XCJTVEVOQ0lMX0JBQ0tfRkFJTFwiLDM0ODE4OlwiU1RFTkNJTF9CQUNLX1BBU1NfREVQVEhfRkFJTFwiLDM0ODE5OlwiU1RFTkNJTF9CQUNLX1BBU1NfREVQVEhfUEFTU1wiLDM0ODc3OlwiQkxFTkRfRVFVQVRJT05fQUxQSEFcIiwzNDkyMTpcIk1BWF9WRVJURVhfQVRUUklCU1wiLDM0OTIyOlwiVkVSVEVYX0FUVFJJQl9BUlJBWV9OT1JNQUxJWkVEXCIsMzQ5MzA6XCJNQVhfVEVYVFVSRV9JTUFHRV9VTklUU1wiLDM0OTYyOlwiQVJSQVlfQlVGRkVSXCIsMzQ5NjM6XCJFTEVNRU5UX0FSUkFZX0JVRkZFUlwiLDM0OTY0OlwiQVJSQVlfQlVGRkVSX0JJTkRJTkdcIiwzNDk2NTpcIkVMRU1FTlRfQVJSQVlfQlVGRkVSX0JJTkRJTkdcIiwzNDk3NTpcIlZFUlRFWF9BVFRSSUJfQVJSQVlfQlVGRkVSX0JJTkRJTkdcIiwzNTA0MDpcIlNUUkVBTV9EUkFXXCIsMzUwNDQ6XCJTVEFUSUNfRFJBV1wiLDM1MDQ4OlwiRFlOQU1JQ19EUkFXXCIsMzU2MzI6XCJGUkFHTUVOVF9TSEFERVJcIiwzNTYzMzpcIlZFUlRFWF9TSEFERVJcIiwzNTY2MDpcIk1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUU1wiLDM1NjYxOlwiTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFNcIiwzNTY2MzpcIlNIQURFUl9UWVBFXCIsMzU2NjQ6XCJGTE9BVF9WRUMyXCIsMzU2NjU6XCJGTE9BVF9WRUMzXCIsMzU2NjY6XCJGTE9BVF9WRUM0XCIsMzU2Njc6XCJJTlRfVkVDMlwiLDM1NjY4OlwiSU5UX1ZFQzNcIiwzNTY2OTpcIklOVF9WRUM0XCIsMzU2NzA6XCJCT09MXCIsMzU2NzE6XCJCT09MX1ZFQzJcIiwzNTY3MjpcIkJPT0xfVkVDM1wiLDM1NjczOlwiQk9PTF9WRUM0XCIsMzU2NzQ6XCJGTE9BVF9NQVQyXCIsMzU2NzU6XCJGTE9BVF9NQVQzXCIsMzU2NzY6XCJGTE9BVF9NQVQ0XCIsMzU2Nzg6XCJTQU1QTEVSXzJEXCIsMzU2ODA6XCJTQU1QTEVSX0NVQkVcIiwzNTcxMjpcIkRFTEVURV9TVEFUVVNcIiwzNTcxMzpcIkNPTVBJTEVfU1RBVFVTXCIsMzU3MTQ6XCJMSU5LX1NUQVRVU1wiLDM1NzE1OlwiVkFMSURBVEVfU1RBVFVTXCIsMzU3MTY6XCJJTkZPX0xPR19MRU5HVEhcIiwzNTcxNzpcIkFUVEFDSEVEX1NIQURFUlNcIiwzNTcxODpcIkFDVElWRV9VTklGT1JNU1wiLDM1NzE5OlwiQUNUSVZFX1VOSUZPUk1fTUFYX0xFTkdUSFwiLDM1NzIwOlwiU0hBREVSX1NPVVJDRV9MRU5HVEhcIiwzNTcyMTpcIkFDVElWRV9BVFRSSUJVVEVTXCIsMzU3MjI6XCJBQ1RJVkVfQVRUUklCVVRFX01BWF9MRU5HVEhcIiwzNTcyNDpcIlNIQURJTkdfTEFOR1VBR0VfVkVSU0lPTlwiLDM1NzI1OlwiQ1VSUkVOVF9QUk9HUkFNXCIsMzYwMDM6XCJTVEVOQ0lMX0JBQ0tfUkVGXCIsMzYwMDQ6XCJTVEVOQ0lMX0JBQ0tfVkFMVUVfTUFTS1wiLDM2MDA1OlwiU1RFTkNJTF9CQUNLX1dSSVRFTUFTS1wiLDM2MDA2OlwiRlJBTUVCVUZGRVJfQklORElOR1wiLDM2MDA3OlwiUkVOREVSQlVGRkVSX0JJTkRJTkdcIiwzNjA0ODpcIkZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfT0JKRUNUX1RZUEVcIiwzNjA0OTpcIkZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfT0JKRUNUX05BTUVcIiwzNjA1MDpcIkZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfVEVYVFVSRV9MRVZFTFwiLDM2MDUxOlwiRlJBTUVCVUZGRVJfQVRUQUNITUVOVF9URVhUVVJFX0NVQkVfTUFQX0ZBQ0VcIiwzNjA1MzpcIkZSQU1FQlVGRkVSX0NPTVBMRVRFXCIsMzYwNTQ6XCJGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0FUVEFDSE1FTlRcIiwzNjA1NTpcIkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfTUlTU0lOR19BVFRBQ0hNRU5UXCIsMzYwNTc6XCJGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0RJTUVOU0lPTlNcIiwzNjA2MTpcIkZSQU1FQlVGRkVSX1VOU1VQUE9SVEVEXCIsMzYwNjQ6XCJDT0xPUl9BVFRBQ0hNRU5UMFwiLDM2MDk2OlwiREVQVEhfQVRUQUNITUVOVFwiLDM2MTI4OlwiU1RFTkNJTF9BVFRBQ0hNRU5UXCIsMzYxNjA6XCJGUkFNRUJVRkZFUlwiLDM2MTYxOlwiUkVOREVSQlVGRkVSXCIsMzYxNjI6XCJSRU5ERVJCVUZGRVJfV0lEVEhcIiwzNjE2MzpcIlJFTkRFUkJVRkZFUl9IRUlHSFRcIiwzNjE2NDpcIlJFTkRFUkJVRkZFUl9JTlRFUk5BTF9GT1JNQVRcIiwzNjE2ODpcIlNURU5DSUxfSU5ERVg4XCIsMzYxNzY6XCJSRU5ERVJCVUZGRVJfUkVEX1NJWkVcIiwzNjE3NzpcIlJFTkRFUkJVRkZFUl9HUkVFTl9TSVpFXCIsMzYxNzg6XCJSRU5ERVJCVUZGRVJfQkxVRV9TSVpFXCIsMzYxNzk6XCJSRU5ERVJCVUZGRVJfQUxQSEFfU0laRVwiLDM2MTgwOlwiUkVOREVSQlVGRkVSX0RFUFRIX1NJWkVcIiwzNjE4MTpcIlJFTkRFUkJVRkZFUl9TVEVOQ0lMX1NJWkVcIiwzNjE5NDpcIlJHQjU2NVwiLDM2MzM2OlwiTE9XX0ZMT0FUXCIsMzYzMzc6XCJNRURJVU1fRkxPQVRcIiwzNjMzODpcIkhJR0hfRkxPQVRcIiwzNjMzOTpcIkxPV19JTlRcIiwzNjM0MDpcIk1FRElVTV9JTlRcIiwzNjM0MTpcIkhJR0hfSU5UXCIsMzYzNDY6XCJTSEFERVJfQ09NUElMRVJcIiwzNjM0NzpcIk1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTXCIsMzYzNDg6XCJNQVhfVkFSWUlOR19WRUNUT1JTXCIsMzYzNDk6XCJNQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTXCIsMzc0NDA6XCJVTlBBQ0tfRkxJUF9ZX1dFQkdMXCIsMzc0NDE6XCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0xcIiwzNzQ0MjpcIkNPTlRFWFRfTE9TVF9XRUJHTFwiLDM3NDQzOlwiVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTFwiLDM3NDQ0OlwiQlJPV1NFUl9ERUZBVUxUX1dFQkdMXCJ9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMiksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0ZyYW1lQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oMTIpLF9GcmFtZUJ1ZmZlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRnJhbWVCdWZmZXIpLF9TaGFkZXJMaWJzPV9fd2VicGFja19yZXF1aXJlX18oMzIpLF9TaGFkZXJMaWJzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXJMaWJzKSxQYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUGFzcyhtU291cmNlKXt2YXIgbVdpZHRoPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG1IZWlnaHQ9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjA7YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQYXNzKSx0aGlzLnNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KF9TaGFkZXJMaWJzMi5kZWZhdWx0LmJpZ1RyaWFuZ2xlVmVydCxtU291cmNlKSx0aGlzLl93aWR0aD1tV2lkdGgsdGhpcy5faGVpZ2h0PW1IZWlnaHQsdGhpcy5fdW5pZm9ybXM9e30sdGhpcy5faGFzT3duRmJvPXRoaXMuX3dpZHRoPjAmJnRoaXMuX3dpZHRoPjAsdGhpcy5fdW5pZm9ybXM9e30sdGhpcy5faGFzT3duRmJvJiYodGhpcy5fZmJvPW5ldyBfRnJhbWVCdWZmZXIyLmRlZmF1bHQodGhpcy5fd2lkdGgsdGhpcy5oZWlnaHQsbVBhcm1hcykpfXJldHVybiBfY3JlYXRlQ2xhc3MoUGFzcyxbe2tleTpcInVuaWZvcm1cIix2YWx1ZTpmdW5jdGlvbihtTmFtZSxtVmFsdWUpe3RoaXMuX3VuaWZvcm1zW21OYW1lXT1tVmFsdWV9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24odGV4dHVyZSl7dGhpcy5zaGFkZXIuYmluZCgpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ0ZXh0dXJlXCIsXCJ1bmlmb3JtMWlcIiwwKSx0ZXh0dXJlLmJpbmQoMCksdGhpcy5zaGFkZXIudW5pZm9ybSh0aGlzLl91bmlmb3Jtcyl9fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH19LHtrZXk6XCJmYm9cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmJvfX0se2tleTpcImhhc0Zib1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNPd25GYm99fV0pLFBhc3N9KCk7ZXhwb3J0cy5kZWZhdWx0PVBhc3N9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIHNpbXBsZUNvbG9yLmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNJTVBMRV9DT0xPUlxcblxcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuXFxudW5pZm9ybSB2ZWMzIGNvbG9yO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCBvcGFjaXR5KTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJhc2ljLnZlcnRcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIEJBU0lDX1ZFUlRFWFxcblxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbmF0dHJpYnV0ZSB2ZWMzIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWMzIGFOb3JtYWw7XFxuXFxudW5pZm9ybSBtYXQ0IHVNb2RlbE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdVByb2plY3Rpb25NYXRyaXggKiB1Vmlld01hdHJpeCAqIHVNb2RlbE1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk5vcm1hbCA9IGFOb3JtYWw7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX0dMVGV4dHVyZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI2KSxfR0xUZXh0dXJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRleHR1cmUpLF9XZWJnbE51bWJlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLF9XZWJnbE51bWJlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViZ2xOdW1iZXIpLGdsPXZvaWQgMCx3ZWJnbERlcHRoVGV4dHVyZT12b2lkIDAsaGFzQ2hlY2tlZE11bHRpUmVuZGVyU3VwcG9ydD0hMSxleHREcmF3QnVmZmVyPXZvaWQgMCxjaGVja011bHRpUmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuISFfR0xUb29sMi5kZWZhdWx0LndlYmdsMnx8ISEoZXh0RHJhd0J1ZmZlcj1fR0xUb29sMi5kZWZhdWx0LmdldEV4dGVuc2lvbihcIldFQkdMX2RyYXdfYnVmZmVyc1wiKSl9LEZyYW1lQnVmZmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRnJhbWVCdWZmZXIobVdpZHRoLG1IZWlnaHQpe3ZhciBtUGFyYW1ldGVycz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbU51bVRhcmdldHM9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRnJhbWVCdWZmZXIpLGdsPV9HTFRvb2wyLmRlZmF1bHQuZ2wsd2ViZ2xEZXB0aFRleHR1cmU9X0dMVG9vbDIuZGVmYXVsdC5jaGVja0V4dGVuc2lvbihcIldFQkdMX2RlcHRoX3RleHR1cmVcIiksdGhpcy53aWR0aD1tV2lkdGgsdGhpcy5oZWlnaHQ9bUhlaWdodCx0aGlzLl9udW1UYXJnZXRzPW1OdW1UYXJnZXRzLHRoaXMuX211bHRpcGxlVGFyZ2V0cz1tTnVtVGFyZ2V0cz4xLHRoaXMuX3BhcmFtZXRlcnM9bVBhcmFtZXRlcnMsaGFzQ2hlY2tlZE11bHRpUmVuZGVyU3VwcG9ydHx8Y2hlY2tNdWx0aVJlbmRlcigpLHRoaXMuX211bHRpcGxlVGFyZ2V0cyYmdGhpcy5fY2hlY2tNYXhOdW1SZW5kZXJUYXJnZXQoKSx0aGlzLl9pbml0KCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhGcmFtZUJ1ZmZlcixbe2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9pbml0VGV4dHVyZXMoKSx0aGlzLmZyYW1lQnVmZmVyPWdsLmNyZWF0ZUZyYW1lYnVmZmVyKCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLHRoaXMuZnJhbWVCdWZmZXIpLF9HTFRvb2wyLmRlZmF1bHQud2ViZ2wyKXtmb3IodmFyIGJ1ZmZlcnM9W10saT0wO2k8dGhpcy5fbnVtVGFyZ2V0cztpKyspZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRFJBV19GUkFNRUJVRkZFUixnbC5DT0xPUl9BVFRBQ0hNRU5UMCtpLGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZXNbaV0udGV4dHVyZSwwKSxidWZmZXJzLnB1c2goZ2xbXCJDT0xPUl9BVFRBQ0hNRU5UXCIraV0pO2dsLmRyYXdCdWZmZXJzKGJ1ZmZlcnMpLGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkRSQVdfRlJBTUVCVUZGRVIsZ2wuREVQVEhfQVRUQUNITUVOVCxnbC5URVhUVVJFXzJELHRoaXMuZ2xEZXB0aFRleHR1cmUudGV4dHVyZSwwKX1lbHNle2Zvcih2YXIgX2k9MDtfaTx0aGlzLl9udW1UYXJnZXRzO19pKyspZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsZ2wuQ09MT1JfQVRUQUNITUVOVDArX2ksZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlc1tfaV0udGV4dHVyZSwwKTtpZih0aGlzLl9tdWx0aXBsZVRhcmdldHMpe2Zvcih2YXIgZHJhd0J1ZmZlcnM9W10sX2kyPTA7X2kyPHRoaXMuX251bVRhcmdldHM7X2kyKyspZHJhd0J1ZmZlcnMucHVzaChleHREcmF3QnVmZmVyW1wiQ09MT1JfQVRUQUNITUVOVFwiK19pMitcIl9XRUJHTFwiXSk7ZXh0RHJhd0J1ZmZlci5kcmF3QnVmZmVyc1dFQkdMKGRyYXdCdWZmZXJzKX13ZWJnbERlcHRoVGV4dHVyZSYmZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsZ2wuREVQVEhfQVRUQUNITUVOVCxnbC5URVhUVVJFXzJELHRoaXMuZ2xEZXB0aFRleHR1cmUudGV4dHVyZSwwKX12YXIgRkJPc3RhdHVzPWdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpO0ZCT3N0YXR1cyE9Z2wuRlJBTUVCVUZGRVJfQ09NUExFVEUmJmNvbnNvbGUuZXJyb3IoXCJHTF9GUkFNRUJVRkZFUl9DT01QTEVURSBmYWlsZWQsIENBTk5PVCB1c2UgRnJhbWVidWZmZXJcIixfV2ViZ2xOdW1iZXIyLmRlZmF1bHRbRkJPc3RhdHVzXSksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKSxnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUixudWxsKSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsbnVsbCksdGhpcy5jbGVhcigpfX0se2tleTpcIl9jaGVja01heE51bVJlbmRlclRhcmdldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1heE51bURyYXdCdWZmZXJzPV9HTFRvb2wyLmRlZmF1bHQuZ2wuZ2V0UGFyYW1ldGVyKGV4dERyYXdCdWZmZXIuTUFYX0RSQVdfQlVGRkVSU19XRUJHTCk7dGhpcy5fbnVtVGFyZ2V0cz5tYXhOdW1EcmF3QnVmZmVycyYmKGNvbnNvbGUuZXJyb3IoXCJPdmVyIG1heCBudW1iZXIgb2YgZHJhdyBidWZmZXJzIHN1cHBvcnRlZCA6IFwiLG1heE51bURyYXdCdWZmZXJzKSx0aGlzLl9udW1UYXJnZXRzPW1heE51bURyYXdCdWZmZXJzKX19LHtrZXk6XCJfaW5pdFRleHR1cmVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90ZXh0dXJlcz1bXTtmb3IodmFyIGk9MDtpPHRoaXMuX251bVRhcmdldHM7aSsrKXt2YXIgZ2x0PXRoaXMuX2NyZWF0ZVRleHR1cmUoKTt0aGlzLl90ZXh0dXJlcy5wdXNoKGdsdCl9X0dMVG9vbDIuZGVmYXVsdC53ZWJnbDI/dGhpcy5nbERlcHRoVGV4dHVyZT10aGlzLl9jcmVhdGVUZXh0dXJlKGdsLkRFUFRIX0NPTVBPTkVOVDE2LGdsLlVOU0lHTkVEX1NIT1JULGdsLkRFUFRIX0NPTVBPTkVOVCwhMCk6dGhpcy5nbERlcHRoVGV4dHVyZT10aGlzLl9jcmVhdGVUZXh0dXJlKGdsLkRFUFRIX0NPTVBPTkVOVCxnbC5VTlNJR05FRF9TSE9SVCxnbC5ERVBUSF9DT01QT05FTlQse21pbkZpbHRlcjpfR0xUb29sMi5kZWZhdWx0LkxJTkVBUn0pfX0se2tleTpcIl9jcmVhdGVUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24obUludGVybmFsZm9ybWF0LG1UZXhlbFR5cGUsbUZvcm1hdCl7dmFyIG1QYXJhbWV0ZXJzPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fSxwYXJhbWV0ZXJzPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fcGFyYW1ldGVycyk7bUZvcm1hdHx8KG1Gb3JtYXQ9bUludGVybmFsZm9ybWF0KSxwYXJhbWV0ZXJzLmludGVybmFsRm9ybWF0PW1JbnRlcm5hbGZvcm1hdHx8Z2wuUkdCQSxwYXJhbWV0ZXJzLmZvcm1hdD1tRm9ybWF0LHBhcmFtZXRlcnMudHlwZT1tVGV4ZWxUeXBlfHxwYXJhbWV0ZXJzLnR5cGV8fF9HTFRvb2wyLmRlZmF1bHQuVU5TSUdORURfQllURTtmb3IodmFyIHMgaW4gbVBhcmFtZXRlcnMpcGFyYW1ldGVyc1tzXT1tUGFyYW1ldGVyc1tzXTtyZXR1cm4gbmV3IF9HTFRleHR1cmUyLmRlZmF1bHQobnVsbCxwYXJhbWV0ZXJzLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfX0se2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbigpeyghKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdKSYmX0dMVG9vbDIuZGVmYXVsdC52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLHRoaXMuZnJhbWVCdWZmZXIpfX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKCl7KCEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0pJiZfR0xUb29sMi5kZWZhdWx0LnZpZXdwb3J0KDAsMCxfR0xUb29sMi5kZWZhdWx0LndpZHRoLF9HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0KSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsbnVsbCksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbih0ZXh0dXJlKXt0ZXh0dXJlLmdlbmVyYXRlTWlwbWFwKCl9KX19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxiPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLGE9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjA7dGhpcy5iaW5kKCksX0dMVG9vbDIuZGVmYXVsdC5jbGVhcihyLGcsYixhKSx0aGlzLnVuYmluZCgpfX0se2tleTpcImdldFRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBtSW5kZXg9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7cmV0dXJuIHRoaXMuX3RleHR1cmVzW21JbmRleF19fSx7a2V5OlwiZ2V0RGVwdGhUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbERlcHRoVGV4dHVyZX19LHtrZXk6XCJzaG93UGFyYW1ldGVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZXNbMF0uc2hvd1BhcmFtZXRlcnMoKX19LHtrZXk6XCJtaW5GaWx0ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNbMF0ubWluRmlsdGVyfSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHRleHR1cmUpe3RleHR1cmUubWluRmlsdGVyPW1WYWx1ZX0pfX0se2tleTpcIm1hZ0ZpbHRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlc1swXS5tYWdGaWx0ZXJ9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3RleHR1cmVzLmZvckVhY2goZnVuY3Rpb24odGV4dHVyZSl7dGV4dHVyZS5tYWdGaWx0ZXI9bVZhbHVlfSl9fSx7a2V5Olwid3JhcFNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNbMF0ud3JhcFN9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3RleHR1cmVzLmZvckVhY2goZnVuY3Rpb24odGV4dHVyZSl7dGV4dHVyZS53cmFwUz1tVmFsdWV9KX19LHtrZXk6XCJ3cmFwVFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlc1swXS53cmFwVH0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fdGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbih0ZXh0dXJlKXt0ZXh0dXJlLndyYXBUPW1WYWx1ZX0pfX0se2tleTpcIm51bVRhcmdldHNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtVGFyZ2V0c319XSksRnJhbWVCdWZmZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PUZyYW1lQnVmZmVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfc2NoZWR1bGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLF9zY2hlZHVsaW5nMj1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfc2NoZWR1bGluZyksRWFzZU51bWJlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIEVhc2VOdW1iZXIobVZhbHVlKXt2YXIgX3RoaXM9dGhpcyxtRWFzaW5nPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTouMTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxFYXNlTnVtYmVyKSx0aGlzLmVhc2luZz1tRWFzaW5nLHRoaXMuX3ZhbHVlPW1WYWx1ZSx0aGlzLl90YXJnZXRWYWx1ZT1tVmFsdWUsdGhpcy5fZWZJbmRleD1fc2NoZWR1bGluZzIuZGVmYXVsdC5hZGRFRihmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fdXBkYXRlKCl9KX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEVhc2VOdW1iZXIsW3trZXk6XCJfdXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jaGVja0xpbWl0KCksdGhpcy5fdmFsdWUrPSh0aGlzLl90YXJnZXRWYWx1ZS10aGlzLl92YWx1ZSkqdGhpcy5lYXNpbmcsTWF0aC5hYnModGhpcy5fdGFyZ2V0VmFsdWUtdGhpcy5fdmFsdWUpPDFlLTQmJih0aGlzLl92YWx1ZT10aGlzLl90YXJnZXRWYWx1ZSl9fSx7a2V5Olwic2V0VG9cIix2YWx1ZTpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3RhcmdldFZhbHVlPXRoaXMuX3ZhbHVlPW1WYWx1ZX19LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbihtQWRkKXt0aGlzLl90YXJnZXRWYWx1ZSs9bUFkZH19LHtrZXk6XCJsaW1pdFwiLHZhbHVlOmZ1bmN0aW9uKG1NaW4sbU1heCl7aWYobU1pbj5tTWF4KXJldHVybiB2b2lkIHRoaXMubGltaXQobU1heCxtTWluKTt0aGlzLl9taW49bU1pbix0aGlzLl9tYXg9bU1heCx0aGlzLl9jaGVja0xpbWl0KCl9fSx7a2V5OlwiX2NoZWNrTGltaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX21pbiYmdGhpcy5fdGFyZ2V0VmFsdWU8dGhpcy5fbWluJiYodGhpcy5fdGFyZ2V0VmFsdWU9dGhpcy5fbWluKSx2b2lkIDAhPT10aGlzLl9tYXgmJnRoaXMuX3RhcmdldFZhbHVlPnRoaXMuX21heCYmKHRoaXMuX3RhcmdldFZhbHVlPXRoaXMuX21heCl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7X3NjaGVkdWxpbmcyLmRlZmF1bHQucmVtb3ZlRUYodGhpcy5fZWZJbmRleCl9fSx7a2V5OlwidmFsdWVcIixzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl90YXJnZXRWYWx1ZT1tVmFsdWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZX19LHtrZXk6XCJ0YXJnZXRWYWx1ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXRWYWx1ZX19XSksRWFzZU51bWJlcn0oKTtleHBvcnRzLmRlZmF1bHQ9RWFzZU51bWJlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMSksYT1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxiPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLGM9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCksdGFyZ2V0PV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLGVkZ2UxPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLGVkZ2UyPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLG5vcm1hbD1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxkaWZmPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLFJheT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJheShtT3JpZ2luLG1EaXJlY3Rpb24pe19jbGFzc0NhbGxDaGVjayh0aGlzLFJheSksdGhpcy5vcmlnaW49X2dsTWF0cml4LnZlYzMuY2xvbmUobU9yaWdpbiksdGhpcy5kaXJlY3Rpb249X2dsTWF0cml4LnZlYzMuY2xvbmUobURpcmVjdGlvbil9cmV0dXJuIF9jcmVhdGVDbGFzcyhSYXksW3trZXk6XCJhdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBfZ2xNYXRyaXgudmVjMy5jb3B5KHRhcmdldCx0aGlzLmRpcmVjdGlvbiksX2dsTWF0cml4LnZlYzMuc2NhbGUodGFyZ2V0LHRhcmdldCx0KSxfZ2xNYXRyaXgudmVjMy5hZGQodGFyZ2V0LHRhcmdldCx0aGlzLm9yaWdpbiksdGFyZ2V0fX0se2tleTpcImxvb2tBdFwiLHZhbHVlOmZ1bmN0aW9uKG1UYXJnZXQpe19nbE1hdHJpeC52ZWMzLnN1Yih0aGlzLmRpcmVjdGlvbixtVGFyZ2V0LHRoaXMub3JpZ2luKSxfZ2xNYXRyaXgudmVjMy5ub3JtYWxpemUodGhpcy5vcmlnaW4sdGhpcy5vcmlnaW4pfX0se2tleTpcImNsb3Nlc3RQb2ludFRvUG9pbnRcIix2YWx1ZTpmdW5jdGlvbihtUG9pbnQpe3ZhciByZXN1bHQ9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCk7X2dsTWF0cml4LnZlYzMuc3ViKG1Qb2ludCx0aGlzLm9yaWdpbik7dmFyIGRpcmVjdGlvbkRpc3RhbmNlPV9nbE1hdHJpeC52ZWMzLmRvdChyZXN1bHQsdGhpcy5kaXJlY3Rpb24pO3JldHVybiBkaXJlY3Rpb25EaXN0YW5jZTwwP19nbE1hdHJpeC52ZWMzLmNsb25lKHRoaXMub3JpZ2luKTooX2dsTWF0cml4LnZlYzMuY29weShyZXN1bHQsdGhpcy5kaXJlY3Rpb24pLF9nbE1hdHJpeC52ZWMzLnNjYWxlKHJlc3VsdCxyZXN1bHQsZGlyZWN0aW9uRGlzdGFuY2UpLF9nbE1hdHJpeC52ZWMzLmFkZChyZXN1bHQscmVzdWx0LHRoaXMub3JpZ2luKSxyZXN1bHQpfX0se2tleTpcImRpc3RhbmNlVG9Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKG1Qb2ludCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlU3FUb1BvaW50KG1Qb2ludCkpfX0se2tleTpcImRpc3RhbmNlU3FUb1BvaW50XCIsdmFsdWU6ZnVuY3Rpb24obVBvaW50KXt2YXIgdjE9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCk7X2dsTWF0cml4LnZlYzMuc3ViKHYxLG1Qb2ludCx0aGlzLm9yaWdpbik7dmFyIGRpcmVjdGlvbkRpc3RhbmNlPV9nbE1hdHJpeC52ZWMzLmRvdCh2MSx0aGlzLmRpcmVjdGlvbik7cmV0dXJuIGRpcmVjdGlvbkRpc3RhbmNlPDA/X2dsTWF0cml4LnZlYzMuc3F1YXJlZERpc3RhbmNlKHRoaXMub3JpZ2luLG1Qb2ludCk6KF9nbE1hdHJpeC52ZWMzLmNvcHkodjEsdGhpcy5kaXJlY3Rpb24pLF9nbE1hdHJpeC52ZWMzLnNjYWxlKHYxLHYxLGRpcmVjdGlvbkRpc3RhbmNlKSxfZ2xNYXRyaXgudmVjMy5hZGQodjEsdjEsdGhpcy5vcmlnaW4pLF9nbE1hdHJpeC52ZWMzLnNxdWFyZWREaXN0YW5jZSh2MSxtUG9pbnQpKX19LHtrZXk6XCJpbnRlcnNlY3RzU3BoZXJlXCIsdmFsdWU6ZnVuY3Rpb24obUNlbnRlcixtUmFkaXVzKXtyZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQobUNlbnRlcik8PW1SYWRpdXN9fSx7a2V5OlwiaW50ZXJzZWN0U3BoZXJlXCIsdmFsdWU6ZnVuY3Rpb24obUNlbnRlcixtUmFkaXVzKXt2YXIgdjE9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCk7X2dsTWF0cml4LnZlYzMuc3ViKHYxLG1DZW50ZXIsdGhpcy5vcmlnaW4pO3ZhciB0Y2E9X2dsTWF0cml4LnZlYzMuZG90KHYxLHRoaXMuZGlyZWN0aW9uKSxkMj1fZ2xNYXRyaXgudmVjMy5kb3QodjEsdjEpLXRjYSp0Y2EscmFkaXVzMj1tUmFkaXVzKm1SYWRpdXM7aWYoZDI+cmFkaXVzMilyZXR1cm4gbnVsbDt2YXIgdGhjPU1hdGguc3FydChyYWRpdXMyLWQyKSx0MD10Y2EtdGhjLHQxPXRjYSt0aGM7cmV0dXJuIHQwPDAmJnQxPDA/bnVsbDp0MDwwP3RoaXMuYXQodDEpOnRoaXMuYXQodDApfX0se2tleTpcImRpc3RhbmNlVG9QbGFuZVwiLHZhbHVlOmZ1bmN0aW9uKG1QbGFuZUNlbnRlcixtTm9ybWFsKXtfZ2xNYXRyaXgudmVjMy5kb3QobU5vcm1hbCx0aGlzLmRpcmVjdGlvbil9fSx7a2V5OlwiaW50ZXJzZWN0VHJpYW5nbGVcIix2YWx1ZTpmdW5jdGlvbihtUEEsbVBCLG1QQyl7dmFyIGJhY2tmYWNlQ3VsbGluZz0hKGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdKXx8YXJndW1lbnRzWzNdO19nbE1hdHJpeC52ZWMzLmNvcHkoYSxtUEEpLF9nbE1hdHJpeC52ZWMzLmNvcHkoYixtUEIpLF9nbE1hdHJpeC52ZWMzLmNvcHkoYyxtUEMpLF9nbE1hdHJpeC52ZWMzLnN1YihlZGdlMSxiLGEpLF9nbE1hdHJpeC52ZWMzLnN1YihlZGdlMixjLGEpLF9nbE1hdHJpeC52ZWMzLmNyb3NzKG5vcm1hbCxlZGdlMSxlZGdlMik7dmFyIERkTj1fZ2xNYXRyaXgudmVjMy5kb3QodGhpcy5kaXJlY3Rpb24sbm9ybWFsKSxzaWduPXZvaWQgMDtpZihEZE4+MCl7aWYoYmFja2ZhY2VDdWxsaW5nKXJldHVybiBudWxsO3NpZ249MX1lbHNle2lmKCEoRGROPDApKXJldHVybiBudWxsO3NpZ249LTEsRGROPS1EZE59X2dsTWF0cml4LnZlYzMuc3ViKGRpZmYsdGhpcy5vcmlnaW4sYSksX2dsTWF0cml4LnZlYzMuY3Jvc3MoZWRnZTIsZGlmZixlZGdlMik7dmFyIERkUXhFMj1zaWduKl9nbE1hdHJpeC52ZWMzLmRvdCh0aGlzLmRpcmVjdGlvbixlZGdlMik7aWYoRGRReEUyPDApcmV0dXJuIG51bGw7X2dsTWF0cml4LnZlYzMuY3Jvc3MoZWRnZTEsZWRnZTEsZGlmZik7dmFyIERkRTF4UT1zaWduKl9nbE1hdHJpeC52ZWMzLmRvdCh0aGlzLmRpcmVjdGlvbixlZGdlMSk7aWYoRGRFMXhRPDApcmV0dXJuIG51bGw7aWYoRGRReEUyK0RkRTF4UT5EZE4pcmV0dXJuIG51bGw7dmFyIFFkbj0tc2lnbipfZ2xNYXRyaXgudmVjMy5kb3QoZGlmZixub3JtYWwpO3JldHVybiBRZG48MD9udWxsOnRoaXMuYXQoUWRuL0RkTil9fV0pLFJheX0oKTtleHBvcnRzLmRlZmF1bHQ9UmF5fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxDYW1lcmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDYW1lcmEoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDYW1lcmEpLHRoaXMuX21hdHJpeD1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0aGlzLl9xdWF0PV9nbE1hdHJpeC5xdWF0LmNyZWF0ZSgpLHRoaXMuX29yaWVudGF0aW9uPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX3Byb2plY3Rpb249X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5wb3NpdGlvbj12ZWMzLmNyZWF0ZSgpfXJldHVybiBfY3JlYXRlQ2xhc3MoQ2FtZXJhLFt7a2V5OlwibG9va0F0XCIsdmFsdWU6ZnVuY3Rpb24oYUV5ZSxhQ2VudGVyKXt2YXIgYVVwPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbMCwxLDBdO3RoaXMuX2V5ZT12ZWMzLmNsb25lKGFFeWUpLHRoaXMuX2NlbnRlcj12ZWMzLmNsb25lKGFDZW50ZXIpLHZlYzMuY29weSh0aGlzLnBvc2l0aW9uLGFFeWUpLF9nbE1hdHJpeC5tYXQ0LmlkZW50aXR5KHRoaXMuX21hdHJpeCksX2dsTWF0cml4Lm1hdDQubG9va0F0KHRoaXMuX21hdHJpeCxhRXllLGFDZW50ZXIsYVVwKX19LHtrZXk6XCJzZXRGcm9tT3JpZW50YXRpb25cIix2YWx1ZTpmdW5jdGlvbih4LHkseix3KXtfZ2xNYXRyaXgucXVhdC5zZXQodGhpcy5fcXVhdCx4LHkseix3KSxfZ2xNYXRyaXgubWF0NC5mcm9tUXVhdCh0aGlzLl9vcmllbnRhdGlvbix0aGlzLl9xdWF0KSxfZ2xNYXRyaXgubWF0NC50cmFuc2xhdGUodGhpcy5fbWF0cml4LHRoaXMuX29yaWVudGF0aW9uLHRoaXMucG9zaXRpb25PZmZzZXQpfX0se2tleTpcInNldFByb2plY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihtUHJvail7dGhpcy5fcHJvamVjdGlvbj1fZ2xNYXRyaXgubWF0NC5jbG9uZShtUHJvail9fSx7a2V5Olwic2V0Vmlld1wiLHZhbHVlOmZ1bmN0aW9uKG1WaWV3KXt0aGlzLl9tYXRyaXg9X2dsTWF0cml4Lm1hdDQuY2xvbmUobVZpZXcpfX0se2tleTpcInNldEZyb21WaWV3UHJvalwiLHZhbHVlOmZ1bmN0aW9uKG1WaWV3LG1Qcm9qKXt0aGlzLnNldFZpZXcobVZpZXcpLHRoaXMuc2V0UHJvamVjdGlvbihtUHJvail9fSx7a2V5OlwibWF0cml4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hdHJpeH19LHtrZXk6XCJ2aWV3TWF0cml4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hdHJpeH19LHtrZXk6XCJwcm9qZWN0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3Rpb259fSx7a2V5OlwicHJvamVjdGlvbk1hdHJpeFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0aW9ufX0se2tleTpcImV5ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leWV9fSx7a2V5OlwiY2VudGVyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn19XSksQ2FtZXJhfSgpO2V4cG9ydHMuZGVmYXVsdD1DYW1lcmF9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0NhbWVyYTI9X193ZWJwYWNrX3JlcXVpcmVfXygxNSksX0NhbWVyYTM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FtZXJhMiksX1JheT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSxfUmF5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYXkpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLG1JbnZlcnNlVmlld1Byb2o9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksY2FtZXJhRGlyPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLENhbWVyYVBlcnNwZWN0aXZlPWZ1bmN0aW9uKF9DYW1lcmEpe2Z1bmN0aW9uIENhbWVyYVBlcnNwZWN0aXZlKCl7cmV0dXJuIF9jbGFzc0NhbGxDaGVjayh0aGlzLENhbWVyYVBlcnNwZWN0aXZlKSxfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChDYW1lcmFQZXJzcGVjdGl2ZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihDYW1lcmFQZXJzcGVjdGl2ZSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIF9pbmhlcml0cyhDYW1lcmFQZXJzcGVjdGl2ZSxfQ2FtZXJhKSxfY3JlYXRlQ2xhc3MoQ2FtZXJhUGVyc3BlY3RpdmUsW3trZXk6XCJzZXRQZXJzcGVjdGl2ZVwiLHZhbHVlOmZ1bmN0aW9uKG1Gb3YsbUFzcGVjdFJhdGlvLG1OZWFyLG1GYXIpe3RoaXMuX2Zvdj1tRm92LHRoaXMuX25lYXI9bU5lYXIsdGhpcy5fZmFyPW1GYXIsdGhpcy5fYXNwZWN0UmF0aW89bUFzcGVjdFJhdGlvLF9nbE1hdHJpeC5tYXQ0LnBlcnNwZWN0aXZlKHRoaXMuX3Byb2plY3Rpb24sbUZvdixtQXNwZWN0UmF0aW8sbU5lYXIsbUZhcil9fSx7a2V5Olwic2V0QXNwZWN0UmF0aW9cIix2YWx1ZTpmdW5jdGlvbihtQXNwZWN0UmF0aW8pe3RoaXMuX2FzcGVjdFJhdGlvPW1Bc3BlY3RSYXRpbyxfZ2xNYXRyaXgubWF0NC5wZXJzcGVjdGl2ZSh0aGlzLnByb2plY3Rpb24sdGhpcy5fZm92LG1Bc3BlY3RSYXRpbyx0aGlzLl9uZWFyLHRoaXMuX2Zhcil9fSx7a2V5OlwiZ2VuZXJhdGVSYXlcIix2YWx1ZTpmdW5jdGlvbihtU2NyZWVuUG9zaXRpb24sbVJheSl7dmFyIHByb2o9dGhpcy5wcm9qZWN0aW9uTWF0cml4LHZpZXc9dGhpcy52aWV3TWF0cml4O3JldHVybiBfZ2xNYXRyaXgubWF0NC5tdWx0aXBseShtSW52ZXJzZVZpZXdQcm9qLHByb2osdmlldyksX2dsTWF0cml4Lm1hdDQuaW52ZXJ0KG1JbnZlcnNlVmlld1Byb2osbUludmVyc2VWaWV3UHJvaiksX2dsTWF0cml4LnZlYzMudHJhbnNmb3JtTWF0NChjYW1lcmFEaXIsbVNjcmVlblBvc2l0aW9uLG1JbnZlcnNlVmlld1Byb2opLF9nbE1hdHJpeC52ZWMzLnN1YihjYW1lcmFEaXIsY2FtZXJhRGlyLHRoaXMucG9zaXRpb24pLF9nbE1hdHJpeC52ZWMzLm5vcm1hbGl6ZShjYW1lcmFEaXIsY2FtZXJhRGlyKSxtUmF5PyhtUmF5Lm9yaWdpbj10aGlzLnBvc2l0aW9uLG1SYXkuZGlyZWN0aW9uPWNhbWVyYURpcik6bVJheT1uZXcgX1JheTIuZGVmYXVsdCh0aGlzLnBvc2l0aW9uLGNhbWVyYURpciksbVJheX19XSksQ2FtZXJhUGVyc3BlY3RpdmV9KF9DYW1lcmEzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1DYW1lcmFQZXJzcGVjdGl2ZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksQmluYXJ5TG9hZGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQmluYXJ5TG9hZGVyKCl7dmFyIF90aGlzPXRoaXMsaXNBcnJheUJ1ZmZlcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO19jbGFzc0NhbGxDaGVjayh0aGlzLEJpbmFyeUxvYWRlciksdGhpcy5fcmVxPW5ldyBYTUxIdHRwUmVxdWVzdCx0aGlzLl9yZXEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uTG9hZGVkKGUpfSksdGhpcy5fcmVxLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLGZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25Qcm9ncmVzcyhlKX0pLGlzQXJyYXlCdWZmZXImJih0aGlzLl9yZXEucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIil9cmV0dXJuIF9jcmVhdGVDbGFzcyhCaW5hcnlMb2FkZXIsW3trZXk6XCJsb2FkXCIsdmFsdWU6ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtjb25zb2xlLmxvZyhcIkxvYWRpbmcgOiBcIix1cmwpLHRoaXMuX2NhbGxiYWNrPWNhbGxiYWNrLHRoaXMuX3JlcS5vcGVuKFwiR0VUXCIsdXJsKSx0aGlzLl9yZXEuc2VuZCgpfX0se2tleTpcIl9vbkxvYWRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FsbGJhY2sodGhpcy5fcmVxLnJlc3BvbnNlKX19LHtrZXk6XCJfb25Qcm9ncmVzc1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSxCaW5hcnlMb2FkZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PUJpbmFyeUxvYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gYmlnVHJpYW5nbGUudmVydFxcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgQklHX1RSSUFOR0xFX1ZFUlRFWFxcblxcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhUG9zaXRpb24sIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFQb3NpdGlvbiAqIC41ICsgLjU7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBjb3B5LmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIENPUFlfRlJBR01FTlRcXG5cXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXh0dXJlQ29vcmQpO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY3JlYXRlKCl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTEsb3V0WzVdPTAsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTEsb3V0fWZ1bmN0aW9uIGZyb21NYXQ0KG91dCxhKXtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbNF0sb3V0WzRdPWFbNV0sb3V0WzVdPWFbNl0sb3V0WzZdPWFbOF0sb3V0WzddPWFbOV0sb3V0WzhdPWFbMTBdLG91dH1mdW5jdGlvbiBjbG9uZShhKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXRbNF09YVs0XSxvdXRbNV09YVs1XSxvdXRbNl09YVs2XSxvdXRbN109YVs3XSxvdXRbOF09YVs4XSxvdXR9ZnVuY3Rpb24gY29weShvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dFs0XT1hWzRdLG91dFs1XT1hWzVdLG91dFs2XT1hWzZdLG91dFs3XT1hWzddLG91dFs4XT1hWzhdLG91dH1mdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCxtMDEsbTAyLG0xMCxtMTEsbTEyLG0yMCxtMjEsbTIyKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO3JldHVybiBvdXRbMF09bTAwLG91dFsxXT1tMDEsb3V0WzJdPW0wMixvdXRbM109bTEwLG91dFs0XT1tMTEsb3V0WzVdPW0xMixvdXRbNl09bTIwLG91dFs3XT1tMjEsb3V0WzhdPW0yMixvdXR9ZnVuY3Rpb24gc2V0KG91dCxtMDAsbTAxLG0wMixtMTAsbTExLG0xMixtMjAsbTIxLG0yMil7cmV0dXJuIG91dFswXT1tMDAsb3V0WzFdPW0wMSxvdXRbMl09bTAyLG91dFszXT1tMTAsb3V0WzRdPW0xMSxvdXRbNV09bTEyLG91dFs2XT1tMjAsb3V0WzddPW0yMSxvdXRbOF09bTIyLG91dH1mdW5jdGlvbiBpZGVudGl0eShvdXQpe3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MSxvdXRbNV09MCxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09MSxvdXR9ZnVuY3Rpb24gdHJhbnNwb3NlKG91dCxhKXtpZihvdXQ9PT1hKXt2YXIgYTAxPWFbMV0sYTAyPWFbMl0sYTEyPWFbNV07b3V0WzFdPWFbM10sb3V0WzJdPWFbNl0sb3V0WzNdPWEwMSxvdXRbNV09YVs3XSxvdXRbNl09YTAyLG91dFs3XT1hMTJ9ZWxzZSBvdXRbMF09YVswXSxvdXRbMV09YVszXSxvdXRbMl09YVs2XSxvdXRbM109YVsxXSxvdXRbNF09YVs0XSxvdXRbNV09YVs3XSxvdXRbNl09YVsyXSxvdXRbN109YVs1XSxvdXRbOF09YVs4XTtyZXR1cm4gb3V0fWZ1bmN0aW9uIGludmVydChvdXQsYSl7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGExMD1hWzNdLGExMT1hWzRdLGExMj1hWzVdLGEyMD1hWzZdLGEyMT1hWzddLGEyMj1hWzhdLGIwMT1hMjIqYTExLWExMiphMjEsYjExPS1hMjIqYTEwK2ExMiphMjAsYjIxPWEyMSphMTAtYTExKmEyMCxkZXQ9YTAwKmIwMSthMDEqYjExK2EwMipiMjE7cmV0dXJuIGRldD8oZGV0PTEvZGV0LG91dFswXT1iMDEqZGV0LG91dFsxXT0oLWEyMiphMDErYTAyKmEyMSkqZGV0LG91dFsyXT0oYTEyKmEwMS1hMDIqYTExKSpkZXQsb3V0WzNdPWIxMSpkZXQsb3V0WzRdPShhMjIqYTAwLWEwMiphMjApKmRldCxvdXRbNV09KC1hMTIqYTAwK2EwMiphMTApKmRldCxvdXRbNl09YjIxKmRldCxvdXRbN109KC1hMjEqYTAwK2EwMSphMjApKmRldCxvdXRbOF09KGExMSphMDAtYTAxKmExMCkqZGV0LG91dCk6bnVsbH1mdW5jdGlvbiBhZGpvaW50KG91dCxhKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTEwPWFbM10sYTExPWFbNF0sYTEyPWFbNV0sYTIwPWFbNl0sYTIxPWFbN10sYTIyPWFbOF07cmV0dXJuIG91dFswXT1hMTEqYTIyLWExMiphMjEsb3V0WzFdPWEwMiphMjEtYTAxKmEyMixvdXRbMl09YTAxKmExMi1hMDIqYTExLG91dFszXT1hMTIqYTIwLWExMCphMjIsb3V0WzRdPWEwMCphMjItYTAyKmEyMCxvdXRbNV09YTAyKmExMC1hMDAqYTEyLG91dFs2XT1hMTAqYTIxLWExMSphMjAsb3V0WzddPWEwMSphMjAtYTAwKmEyMSxvdXRbOF09YTAwKmExMS1hMDEqYTEwLG91dH1mdW5jdGlvbiBkZXRlcm1pbmFudChhKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTEwPWFbM10sYTExPWFbNF0sYTEyPWFbNV0sYTIwPWFbNl0sYTIxPWFbN10sYTIyPWFbOF07cmV0dXJuIGEwMCooYTIyKmExMS1hMTIqYTIxKSthMDEqKC1hMjIqYTEwK2ExMiphMjApK2EwMiooYTIxKmExMC1hMTEqYTIwKX1mdW5jdGlvbiBtdWx0aXBseShvdXQsYSxiKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTEwPWFbM10sYTExPWFbNF0sYTEyPWFbNV0sYTIwPWFbNl0sYTIxPWFbN10sYTIyPWFbOF0sYjAwPWJbMF0sYjAxPWJbMV0sYjAyPWJbMl0sYjEwPWJbM10sYjExPWJbNF0sYjEyPWJbNV0sYjIwPWJbNl0sYjIxPWJbN10sYjIyPWJbOF07cmV0dXJuIG91dFswXT1iMDAqYTAwK2IwMSphMTArYjAyKmEyMCxvdXRbMV09YjAwKmEwMStiMDEqYTExK2IwMiphMjEsb3V0WzJdPWIwMCphMDIrYjAxKmExMitiMDIqYTIyLG91dFszXT1iMTAqYTAwK2IxMSphMTArYjEyKmEyMCxvdXRbNF09YjEwKmEwMStiMTEqYTExK2IxMiphMjEsb3V0WzVdPWIxMCphMDIrYjExKmExMitiMTIqYTIyLG91dFs2XT1iMjAqYTAwK2IyMSphMTArYjIyKmEyMCxvdXRbN109YjIwKmEwMStiMjEqYTExK2IyMiphMjEsb3V0WzhdPWIyMCphMDIrYjIxKmExMitiMjIqYTIyLG91dH1mdW5jdGlvbiB0cmFuc2xhdGUob3V0LGEsdil7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGExMD1hWzNdLGExMT1hWzRdLGExMj1hWzVdLGEyMD1hWzZdLGEyMT1hWzddLGEyMj1hWzhdLHg9dlswXSx5PXZbMV07cmV0dXJuIG91dFswXT1hMDAsb3V0WzFdPWEwMSxvdXRbMl09YTAyLG91dFszXT1hMTAsb3V0WzRdPWExMSxvdXRbNV09YTEyLG91dFs2XT14KmEwMCt5KmExMCthMjAsb3V0WzddPXgqYTAxK3kqYTExK2EyMSxvdXRbOF09eCphMDIreSphMTIrYTIyLG91dH1mdW5jdGlvbiByb3RhdGUob3V0LGEscmFkKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTEwPWFbM10sYTExPWFbNF0sYTEyPWFbNV0sYTIwPWFbNl0sYTIxPWFbN10sYTIyPWFbOF0scz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWMqYTAwK3MqYTEwLG91dFsxXT1jKmEwMStzKmExMSxvdXRbMl09YyphMDIrcyphMTIsb3V0WzNdPWMqYTEwLXMqYTAwLG91dFs0XT1jKmExMS1zKmEwMSxvdXRbNV09YyphMTItcyphMDIsb3V0WzZdPWEyMCxvdXRbN109YTIxLG91dFs4XT1hMjIsb3V0fWZ1bmN0aW9uIHNjYWxlKG91dCxhLHYpe3ZhciB4PXZbMF0seT12WzFdO3JldHVybiBvdXRbMF09eCphWzBdLG91dFsxXT14KmFbMV0sb3V0WzJdPXgqYVsyXSxvdXRbM109eSphWzNdLG91dFs0XT15KmFbNF0sb3V0WzVdPXkqYVs1XSxvdXRbNl09YVs2XSxvdXRbN109YVs3XSxvdXRbOF09YVs4XSxvdXR9ZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCx2KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTEsb3V0WzVdPTAsb3V0WzZdPXZbMF0sb3V0WzddPXZbMV0sb3V0WzhdPTEsb3V0fWZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQscmFkKXt2YXIgcz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWMsb3V0WzFdPXMsb3V0WzJdPTAsb3V0WzNdPS1zLG91dFs0XT1jLG91dFs1XT0wLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT0xLG91dH1mdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsdil7cmV0dXJuIG91dFswXT12WzBdLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT12WzFdLG91dFs1XT0wLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT0xLG91dH1mdW5jdGlvbiBmcm9tTWF0MmQob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09MCxvdXRbM109YVsyXSxvdXRbNF09YVszXSxvdXRbNV09MCxvdXRbNl09YVs0XSxvdXRbN109YVs1XSxvdXRbOF09MSxvdXR9ZnVuY3Rpb24gZnJvbVF1YXQob3V0LHEpe3ZhciB4PXFbMF0seT1xWzFdLHo9cVsyXSx3PXFbM10seDI9eCt4LHkyPXkreSx6Mj16K3oseHg9eCp4Mix5eD15KngyLHl5PXkqeTIseng9eip4Mix6eT16KnkyLHp6PXoqejIsd3g9dyp4Mix3eT13KnkyLHd6PXcqejI7cmV0dXJuIG91dFswXT0xLXl5LXp6LG91dFszXT15eC13eixvdXRbNl09engrd3ksb3V0WzFdPXl4K3d6LG91dFs0XT0xLXh4LXp6LG91dFs3XT16eS13eCxvdXRbMl09engtd3ksb3V0WzVdPXp5K3d4LG91dFs4XT0xLXh4LXl5LG91dH1mdW5jdGlvbiBub3JtYWxGcm9tTWF0NChvdXQsYSl7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddLGEyMD1hWzhdLGEyMT1hWzldLGEyMj1hWzEwXSxhMjM9YVsxMV0sYTMwPWFbMTJdLGEzMT1hWzEzXSxhMzI9YVsxNF0sYTMzPWFbMTVdLGIwMD1hMDAqYTExLWEwMSphMTAsYjAxPWEwMCphMTItYTAyKmExMCxiMDI9YTAwKmExMy1hMDMqYTEwLGIwMz1hMDEqYTEyLWEwMiphMTEsYjA0PWEwMSphMTMtYTAzKmExMSxiMDU9YTAyKmExMy1hMDMqYTEyLGIwNj1hMjAqYTMxLWEyMSphMzAsYjA3PWEyMCphMzItYTIyKmEzMCxiMDg9YTIwKmEzMy1hMjMqYTMwLGIwOT1hMjEqYTMyLWEyMiphMzEsYjEwPWEyMSphMzMtYTIzKmEzMSxiMTE9YTIyKmEzMy1hMjMqYTMyLGRldD1iMDAqYjExLWIwMSpiMTArYjAyKmIwOStiMDMqYjA4LWIwNCpiMDcrYjA1KmIwNjtyZXR1cm4gZGV0PyhkZXQ9MS9kZXQsb3V0WzBdPShhMTEqYjExLWExMipiMTArYTEzKmIwOSkqZGV0LG91dFsxXT0oYTEyKmIwOC1hMTAqYjExLWExMypiMDcpKmRldCxvdXRbMl09KGExMCpiMTAtYTExKmIwOCthMTMqYjA2KSpkZXQsb3V0WzNdPShhMDIqYjEwLWEwMSpiMTEtYTAzKmIwOSkqZGV0LG91dFs0XT0oYTAwKmIxMS1hMDIqYjA4K2EwMypiMDcpKmRldCxvdXRbNV09KGEwMSpiMDgtYTAwKmIxMC1hMDMqYjA2KSpkZXQsb3V0WzZdPShhMzEqYjA1LWEzMipiMDQrYTMzKmIwMykqZGV0LG91dFs3XT0oYTMyKmIwMi1hMzAqYjA1LWEzMypiMDEpKmRldCxvdXRbOF09KGEzMCpiMDQtYTMxKmIwMithMzMqYjAwKSpkZXQsb3V0KTpudWxsfWZ1bmN0aW9uIHByb2plY3Rpb24ob3V0LHdpZHRoLGhlaWdodCl7cmV0dXJuIG91dFswXT0yL3dpZHRoLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0tMi9oZWlnaHQsb3V0WzVdPTAsb3V0WzZdPS0xLG91dFs3XT0xLG91dFs4XT0xLG91dH1mdW5jdGlvbiBzdHIoYSl7cmV0dXJuXCJtYXQzKFwiK2FbMF0rXCIsIFwiK2FbMV0rXCIsIFwiK2FbMl0rXCIsIFwiK2FbM10rXCIsIFwiK2FbNF0rXCIsIFwiK2FbNV0rXCIsIFwiK2FbNl0rXCIsIFwiK2FbN10rXCIsIFwiK2FbOF0rXCIpXCJ9ZnVuY3Rpb24gZnJvYihhKXtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGFbMF0sMikrTWF0aC5wb3coYVsxXSwyKStNYXRoLnBvdyhhWzJdLDIpK01hdGgucG93KGFbM10sMikrTWF0aC5wb3coYVs0XSwyKStNYXRoLnBvdyhhWzVdLDIpK01hdGgucG93KGFbNl0sMikrTWF0aC5wb3coYVs3XSwyKStNYXRoLnBvdyhhWzhdLDIpKX1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dFszXT1hWzNdK2JbM10sb3V0WzRdPWFbNF0rYls0XSxvdXRbNV09YVs1XStiWzVdLG91dFs2XT1hWzZdK2JbNl0sb3V0WzddPWFbN10rYls3XSxvdXRbOF09YVs4XStiWzhdLG91dH1mdW5jdGlvbiBzdWJ0cmFjdChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0tYlswXSxvdXRbMV09YVsxXS1iWzFdLG91dFsyXT1hWzJdLWJbMl0sb3V0WzNdPWFbM10tYlszXSxvdXRbNF09YVs0XS1iWzRdLG91dFs1XT1hWzVdLWJbNV0sb3V0WzZdPWFbNl0tYls2XSxvdXRbN109YVs3XS1iWzddLG91dFs4XT1hWzhdLWJbOF0sb3V0fWZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiLG91dFsxXT1hWzFdKmIsb3V0WzJdPWFbMl0qYixvdXRbM109YVszXSpiLG91dFs0XT1hWzRdKmIsb3V0WzVdPWFbNV0qYixvdXRbNl09YVs2XSpiLG91dFs3XT1hWzddKmIsb3V0WzhdPWFbOF0qYixvdXR9ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LGEsYixzY2FsZSl7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0qc2NhbGUsb3V0WzFdPWFbMV0rYlsxXSpzY2FsZSxvdXRbMl09YVsyXStiWzJdKnNjYWxlLG91dFszXT1hWzNdK2JbM10qc2NhbGUsb3V0WzRdPWFbNF0rYls0XSpzY2FsZSxvdXRbNV09YVs1XStiWzVdKnNjYWxlLG91dFs2XT1hWzZdK2JbNl0qc2NhbGUsb3V0WzddPWFbN10rYls3XSpzY2FsZSxvdXRbOF09YVs4XStiWzhdKnNjYWxlLG91dH1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV0mJmFbMl09PT1iWzJdJiZhWzNdPT09YlszXSYmYVs0XT09PWJbNF0mJmFbNV09PT1iWzVdJiZhWzZdPT09Yls2XSYmYVs3XT09PWJbN10mJmFbOF09PT1iWzhdfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGE0PWFbNF0sYTU9YVs1XSxhNj1hWzZdLGE3PWFbN10sYTg9YVs4XSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdLGI0PWJbNF0sYjU9Yls1XSxiNj1iWzZdLGI3PWJbN10sYjg9Yls4XTtyZXR1cm4gTWF0aC5hYnMoYTAtYjApPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTApLE1hdGguYWJzKGIwKSkmJk1hdGguYWJzKGExLWIxKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExKSxNYXRoLmFicyhiMSkpJiZNYXRoLmFicyhhMi1iMik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMiksTWF0aC5hYnMoYjIpKSYmTWF0aC5hYnMoYTMtYjMpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTMpLE1hdGguYWJzKGIzKSkmJk1hdGguYWJzKGE0LWI0KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE0KSxNYXRoLmFicyhiNCkpJiZNYXRoLmFicyhhNS1iNSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNSksTWF0aC5hYnMoYjUpKSYmTWF0aC5hYnMoYTYtYjYpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTYpLE1hdGguYWJzKGI2KSkmJk1hdGguYWJzKGE3LWI3KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE3KSxNYXRoLmFicyhiNykpJiZNYXRoLmFicyhhOC1iOCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhOCksTWF0aC5hYnMoYjgpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnN1Yj1leHBvcnRzLm11bD12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuZnJvbU1hdDQ9ZnJvbU1hdDQsZXhwb3J0cy5jbG9uZT1jbG9uZSxleHBvcnRzLmNvcHk9Y29weSxleHBvcnRzLmZyb21WYWx1ZXM9ZnJvbVZhbHVlcyxleHBvcnRzLnNldD1zZXQsZXhwb3J0cy5pZGVudGl0eT1pZGVudGl0eSxleHBvcnRzLnRyYW5zcG9zZT10cmFuc3Bvc2UsZXhwb3J0cy5pbnZlcnQ9aW52ZXJ0LGV4cG9ydHMuYWRqb2ludD1hZGpvaW50LGV4cG9ydHMuZGV0ZXJtaW5hbnQ9ZGV0ZXJtaW5hbnQsZXhwb3J0cy5tdWx0aXBseT1tdWx0aXBseSxleHBvcnRzLnRyYW5zbGF0ZT10cmFuc2xhdGUsZXhwb3J0cy5yb3RhdGU9cm90YXRlLGV4cG9ydHMuc2NhbGU9c2NhbGUsZXhwb3J0cy5mcm9tVHJhbnNsYXRpb249ZnJvbVRyYW5zbGF0aW9uLGV4cG9ydHMuZnJvbVJvdGF0aW9uPWZyb21Sb3RhdGlvbixleHBvcnRzLmZyb21TY2FsaW5nPWZyb21TY2FsaW5nLGV4cG9ydHMuZnJvbU1hdDJkPWZyb21NYXQyZCxleHBvcnRzLmZyb21RdWF0PWZyb21RdWF0LGV4cG9ydHMubm9ybWFsRnJvbU1hdDQ9bm9ybWFsRnJvbU1hdDQsZXhwb3J0cy5wcm9qZWN0aW9uPXByb2plY3Rpb24sZXhwb3J0cy5zdHI9c3RyLGV4cG9ydHMuZnJvYj1mcm9iLGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLnN1YnRyYWN0PXN1YnRyYWN0LGV4cG9ydHMubXVsdGlwbHlTY2FsYXI9bXVsdGlwbHlTY2FsYXIsZXhwb3J0cy5tdWx0aXBseVNjYWxhckFuZEFkZD1tdWx0aXBseVNjYWxhckFuZEFkZCxleHBvcnRzLmV4YWN0RXF1YWxzPWV4YWN0RXF1YWxzLGV4cG9ydHMuZXF1YWxzPWVxdWFsczt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9jb21tb24pO2V4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuc3ViPXN1YnRyYWN0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO3JldHVybiBvdXRbMF09MCxvdXRbMV09MCxvdXRbMl09MCxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0fWZ1bmN0aW9uIGxlbmd0aChhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl07cmV0dXJuIE1hdGguc3FydCh4KngreSp5K3oqeil9ZnVuY3Rpb24gZnJvbVZhbHVlcyh4LHkseil7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtyZXR1cm4gb3V0WzBdPXgsb3V0WzFdPXksb3V0WzJdPXosb3V0fWZ1bmN0aW9uIGNvcHkob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXR9ZnVuY3Rpb24gc2V0KG91dCx4LHkseil7cmV0dXJuIG91dFswXT14LG91dFsxXT15LG91dFsyXT16LG91dH1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dH1mdW5jdGlvbiBzdWJ0cmFjdChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0tYlswXSxvdXRbMV09YVsxXS1iWzFdLG91dFsyXT1hWzJdLWJbMl0sb3V0fWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiWzBdLG91dFsxXT1hWzFdKmJbMV0sb3V0WzJdPWFbMl0qYlsyXSxvdXR9ZnVuY3Rpb24gZGl2aWRlKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS9iWzBdLG91dFsxXT1hWzFdL2JbMV0sb3V0WzJdPWFbMl0vYlsyXSxvdXR9ZnVuY3Rpb24gY2VpbChvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLmNlaWwoYVswXSksb3V0WzFdPU1hdGguY2VpbChhWzFdKSxvdXRbMl09TWF0aC5jZWlsKGFbMl0pLG91dH1mdW5jdGlvbiBmbG9vcihvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLmZsb29yKGFbMF0pLG91dFsxXT1NYXRoLmZsb29yKGFbMV0pLG91dFsyXT1NYXRoLmZsb29yKGFbMl0pLG91dH1mdW5jdGlvbiBtaW4ob3V0LGEsYil7cmV0dXJuIG91dFswXT1NYXRoLm1pbihhWzBdLGJbMF0pLG91dFsxXT1NYXRoLm1pbihhWzFdLGJbMV0pLG91dFsyXT1NYXRoLm1pbihhWzJdLGJbMl0pLG91dH1mdW5jdGlvbiBtYXgob3V0LGEsYil7cmV0dXJuIG91dFswXT1NYXRoLm1heChhWzBdLGJbMF0pLG91dFsxXT1NYXRoLm1heChhWzFdLGJbMV0pLG91dFsyXT1NYXRoLm1heChhWzJdLGJbMl0pLG91dH1mdW5jdGlvbiByb3VuZChvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLnJvdW5kKGFbMF0pLG91dFsxXT1NYXRoLnJvdW5kKGFbMV0pLG91dFsyXT1NYXRoLnJvdW5kKGFbMl0pLG91dH1mdW5jdGlvbiBzY2FsZShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0fWZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCxhLGIsc2NhbGUpe3JldHVybiBvdXRbMF09YVswXStiWzBdKnNjYWxlLG91dFsxXT1hWzFdK2JbMV0qc2NhbGUsb3V0WzJdPWFbMl0rYlsyXSpzY2FsZSxvdXR9ZnVuY3Rpb24gZGlzdGFuY2UoYSxiKXt2YXIgeD1iWzBdLWFbMF0seT1iWzFdLWFbMV0sej1iWzJdLWFbMl07cmV0dXJuIE1hdGguc3FydCh4KngreSp5K3oqeil9ZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsYil7dmFyIHg9YlswXS1hWzBdLHk9YlsxXS1hWzFdLHo9YlsyXS1hWzJdO3JldHVybiB4KngreSp5K3oqen1mdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXTtyZXR1cm4geCp4K3kqeSt6Knp9ZnVuY3Rpb24gbmVnYXRlKG91dCxhKXtyZXR1cm4gb3V0WzBdPS1hWzBdLG91dFsxXT0tYVsxXSxvdXRbMl09LWFbMl0sb3V0fWZ1bmN0aW9uIGludmVyc2Uob3V0LGEpe3JldHVybiBvdXRbMF09MS9hWzBdLG91dFsxXT0xL2FbMV0sb3V0WzJdPTEvYVsyXSxvdXR9ZnVuY3Rpb24gbm9ybWFsaXplKG91dCxhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0sbGVuPXgqeCt5Knkreip6O3JldHVybiBsZW4+MCYmKGxlbj0xL01hdGguc3FydChsZW4pLG91dFswXT1hWzBdKmxlbixvdXRbMV09YVsxXSpsZW4sb3V0WzJdPWFbMl0qbGVuKSxvdXR9ZnVuY3Rpb24gZG90KGEsYil7cmV0dXJuIGFbMF0qYlswXSthWzFdKmJbMV0rYVsyXSpiWzJdfWZ1bmN0aW9uIGNyb3NzKG91dCxhLGIpe3ZhciBheD1hWzBdLGF5PWFbMV0sYXo9YVsyXSxieD1iWzBdLGJ5PWJbMV0sYno9YlsyXTtyZXR1cm4gb3V0WzBdPWF5KmJ6LWF6KmJ5LG91dFsxXT1heipieC1heCpieixvdXRbMl09YXgqYnktYXkqYngsb3V0fWZ1bmN0aW9uIGxlcnAob3V0LGEsYix0KXt2YXIgYXg9YVswXSxheT1hWzFdLGF6PWFbMl07cmV0dXJuIG91dFswXT1heCt0KihiWzBdLWF4KSxvdXRbMV09YXkrdCooYlsxXS1heSksb3V0WzJdPWF6K3QqKGJbMl0tYXopLG91dH1mdW5jdGlvbiBoZXJtaXRlKG91dCxhLGIsYyxkLHQpe3ZhciBmYWN0b3JUaW1lczI9dCp0LGZhY3RvcjE9ZmFjdG9yVGltZXMyKigyKnQtMykrMSxmYWN0b3IyPWZhY3RvclRpbWVzMioodC0yKSt0LGZhY3RvcjM9ZmFjdG9yVGltZXMyKih0LTEpLGZhY3RvcjQ9ZmFjdG9yVGltZXMyKigzLTIqdCk7cmV0dXJuIG91dFswXT1hWzBdKmZhY3RvcjErYlswXSpmYWN0b3IyK2NbMF0qZmFjdG9yMytkWzBdKmZhY3RvcjQsb3V0WzFdPWFbMV0qZmFjdG9yMStiWzFdKmZhY3RvcjIrY1sxXSpmYWN0b3IzK2RbMV0qZmFjdG9yNCxvdXRbMl09YVsyXSpmYWN0b3IxK2JbMl0qZmFjdG9yMitjWzJdKmZhY3RvcjMrZFsyXSpmYWN0b3I0LG91dH1mdW5jdGlvbiBiZXppZXIob3V0LGEsYixjLGQsdCl7dmFyIGludmVyc2VGYWN0b3I9MS10LGludmVyc2VGYWN0b3JUaW1lc1R3bz1pbnZlcnNlRmFjdG9yKmludmVyc2VGYWN0b3IsZmFjdG9yVGltZXMyPXQqdCxmYWN0b3IxPWludmVyc2VGYWN0b3JUaW1lc1R3byppbnZlcnNlRmFjdG9yLGZhY3RvcjI9Myp0KmludmVyc2VGYWN0b3JUaW1lc1R3byxmYWN0b3IzPTMqZmFjdG9yVGltZXMyKmludmVyc2VGYWN0b3IsZmFjdG9yND1mYWN0b3JUaW1lczIqdDtyZXR1cm4gb3V0WzBdPWFbMF0qZmFjdG9yMStiWzBdKmZhY3RvcjIrY1swXSpmYWN0b3IzK2RbMF0qZmFjdG9yNCxvdXRbMV09YVsxXSpmYWN0b3IxK2JbMV0qZmFjdG9yMitjWzFdKmZhY3RvcjMrZFsxXSpmYWN0b3I0LG91dFsyXT1hWzJdKmZhY3RvcjErYlsyXSpmYWN0b3IyK2NbMl0qZmFjdG9yMytkWzJdKmZhY3RvcjQsb3V0fWZ1bmN0aW9uIHJhbmRvbShvdXQsc2NhbGUpe3NjYWxlPXNjYWxlfHwxO3ZhciByPTIqZ2xNYXRyaXguUkFORE9NKCkqTWF0aC5QSSx6PTIqZ2xNYXRyaXguUkFORE9NKCktMSx6U2NhbGU9TWF0aC5zcXJ0KDEteip6KSpzY2FsZTtyZXR1cm4gb3V0WzBdPU1hdGguY29zKHIpKnpTY2FsZSxvdXRbMV09TWF0aC5zaW4ocikqelNjYWxlLG91dFsyXT16KnNjYWxlLG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCxhLG0pe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXSx3PW1bM10qeCttWzddKnkrbVsxMV0qeittWzE1XTtyZXR1cm4gdz13fHwxLG91dFswXT0obVswXSp4K21bNF0qeSttWzhdKnorbVsxMl0pL3csb3V0WzFdPShtWzFdKngrbVs1XSp5K21bOV0qeittWzEzXSkvdyxvdXRbMl09KG1bMl0qeCttWzZdKnkrbVsxMF0qeittWzE0XSkvdyxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsYSxtKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl07cmV0dXJuIG91dFswXT14Km1bMF0reSptWzNdK3oqbVs2XSxvdXRbMV09eCptWzFdK3kqbVs0XSt6Km1bN10sb3V0WzJdPXgqbVsyXSt5Km1bNV0reiptWzhdLG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCxhLHEpe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXSxxeD1xWzBdLHF5PXFbMV0scXo9cVsyXSxxdz1xWzNdLGl4PXF3KngrcXkqei1xeip5LGl5PXF3KnkrcXoqeC1xeCp6LGl6PXF3KnorcXgqeS1xeSp4LGl3PS1xeCp4LXF5KnktcXoqejtyZXR1cm4gb3V0WzBdPWl4KnF3K2l3Ki1xeCtpeSotcXotaXoqLXF5LG91dFsxXT1peSpxdytpdyotcXkraXoqLXF4LWl4Ki1xeixvdXRbMl09aXoqcXcraXcqLXF6K2l4Ki1xeS1peSotcXgsb3V0fWZ1bmN0aW9uIHJvdGF0ZVgob3V0LGEsYixjKXt2YXIgcD1bXSxyPVtdO3JldHVybiBwWzBdPWFbMF0tYlswXSxwWzFdPWFbMV0tYlsxXSxwWzJdPWFbMl0tYlsyXSxyWzBdPXBbMF0sclsxXT1wWzFdKk1hdGguY29zKGMpLXBbMl0qTWF0aC5zaW4oYyksclsyXT1wWzFdKk1hdGguc2luKGMpK3BbMl0qTWF0aC5jb3MoYyksb3V0WzBdPXJbMF0rYlswXSxvdXRbMV09clsxXStiWzFdLG91dFsyXT1yWzJdK2JbMl0sb3V0fWZ1bmN0aW9uIHJvdGF0ZVkob3V0LGEsYixjKXt2YXIgcD1bXSxyPVtdO3JldHVybiBwWzBdPWFbMF0tYlswXSxwWzFdPWFbMV0tYlsxXSxwWzJdPWFbMl0tYlsyXSxyWzBdPXBbMl0qTWF0aC5zaW4oYykrcFswXSpNYXRoLmNvcyhjKSxyWzFdPXBbMV0sclsyXT1wWzJdKk1hdGguY29zKGMpLXBbMF0qTWF0aC5zaW4oYyksb3V0WzBdPXJbMF0rYlswXSxvdXRbMV09clsxXStiWzFdLG91dFsyXT1yWzJdK2JbMl0sb3V0fWZ1bmN0aW9uIHJvdGF0ZVoob3V0LGEsYixjKXt2YXIgcD1bXSxyPVtdO3JldHVybiBwWzBdPWFbMF0tYlswXSxwWzFdPWFbMV0tYlsxXSxwWzJdPWFbMl0tYlsyXSxyWzBdPXBbMF0qTWF0aC5jb3MoYyktcFsxXSpNYXRoLnNpbihjKSxyWzFdPXBbMF0qTWF0aC5zaW4oYykrcFsxXSpNYXRoLmNvcyhjKSxyWzJdPXBbMl0sb3V0WzBdPXJbMF0rYlswXSxvdXRbMV09clsxXStiWzFdLG91dFsyXT1yWzJdK2JbMl0sb3V0fWZ1bmN0aW9uIGFuZ2xlKGEsYil7dmFyIHRlbXBBPWZyb21WYWx1ZXMoYVswXSxhWzFdLGFbMl0pLHRlbXBCPWZyb21WYWx1ZXMoYlswXSxiWzFdLGJbMl0pO25vcm1hbGl6ZSh0ZW1wQSx0ZW1wQSksbm9ybWFsaXplKHRlbXBCLHRlbXBCKTt2YXIgY29zaW5lPWRvdCh0ZW1wQSx0ZW1wQik7cmV0dXJuIGNvc2luZT4xPzA6Y29zaW5lPC0xP01hdGguUEk6TWF0aC5hY29zKGNvc2luZSl9ZnVuY3Rpb24gc3RyKGEpe3JldHVyblwidmVjMyhcIithWzBdK1wiLCBcIithWzFdK1wiLCBcIithWzJdK1wiKVwifWZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsYil7cmV0dXJuIGFbMF09PT1iWzBdJiZhWzFdPT09YlsxXSYmYVsyXT09PWJbMl19ZnVuY3Rpb24gZXF1YWxzKGEsYil7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSkmJk1hdGguYWJzKGEyLWIyKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEyKSxNYXRoLmFicyhiMikpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZm9yRWFjaD1leHBvcnRzLnNxckxlbj1leHBvcnRzLmxlbj1leHBvcnRzLnNxckRpc3Q9ZXhwb3J0cy5kaXN0PWV4cG9ydHMuZGl2PWV4cG9ydHMubXVsPWV4cG9ydHMuc3ViPXZvaWQgMCxleHBvcnRzLmNyZWF0ZT1jcmVhdGUsZXhwb3J0cy5jbG9uZT1jbG9uZSxleHBvcnRzLmxlbmd0aD1sZW5ndGgsZXhwb3J0cy5mcm9tVmFsdWVzPWZyb21WYWx1ZXMsZXhwb3J0cy5jb3B5PWNvcHksZXhwb3J0cy5zZXQ9c2V0LGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLnN1YnRyYWN0PXN1YnRyYWN0LGV4cG9ydHMubXVsdGlwbHk9bXVsdGlwbHksZXhwb3J0cy5kaXZpZGU9ZGl2aWRlLGV4cG9ydHMuY2VpbD1jZWlsLGV4cG9ydHMuZmxvb3I9Zmxvb3IsZXhwb3J0cy5taW49bWluLGV4cG9ydHMubWF4PW1heCxleHBvcnRzLnJvdW5kPXJvdW5kLGV4cG9ydHMuc2NhbGU9c2NhbGUsZXhwb3J0cy5zY2FsZUFuZEFkZD1zY2FsZUFuZEFkZCxleHBvcnRzLmRpc3RhbmNlPWRpc3RhbmNlLGV4cG9ydHMuc3F1YXJlZERpc3RhbmNlPXNxdWFyZWREaXN0YW5jZSxleHBvcnRzLnNxdWFyZWRMZW5ndGg9c3F1YXJlZExlbmd0aCxleHBvcnRzLm5lZ2F0ZT1uZWdhdGUsZXhwb3J0cy5pbnZlcnNlPWludmVyc2UsZXhwb3J0cy5ub3JtYWxpemU9bm9ybWFsaXplLGV4cG9ydHMuZG90PWRvdCxleHBvcnRzLmNyb3NzPWNyb3NzLGV4cG9ydHMubGVycD1sZXJwLGV4cG9ydHMuaGVybWl0ZT1oZXJtaXRlLGV4cG9ydHMuYmV6aWVyPWJlemllcixleHBvcnRzLnJhbmRvbT1yYW5kb20sZXhwb3J0cy50cmFuc2Zvcm1NYXQ0PXRyYW5zZm9ybU1hdDQsZXhwb3J0cy50cmFuc2Zvcm1NYXQzPXRyYW5zZm9ybU1hdDMsZXhwb3J0cy50cmFuc2Zvcm1RdWF0PXRyYW5zZm9ybVF1YXQsZXhwb3J0cy5yb3RhdGVYPXJvdGF0ZVgsZXhwb3J0cy5yb3RhdGVZPXJvdGF0ZVksZXhwb3J0cy5yb3RhdGVaPXJvdGF0ZVosZXhwb3J0cy5hbmdsZT1hbmdsZSxleHBvcnRzLnN0cj1zdHIsZXhwb3J0cy5leGFjdEVxdWFscz1leGFjdEVxdWFscyxleHBvcnRzLmVxdWFscz1lcXVhbHM7dmFyIF9jb21tb249X193ZWJwYWNrX3JlcXVpcmVfXygzKSxnbE1hdHJpeD1mdW5jdGlvbihvYmope2lmKG9iaiYmb2JqLl9fZXNNb2R1bGUpcmV0dXJuIG9iajt2YXIgbmV3T2JqPXt9O2lmKG51bGwhPW9iailmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiYobmV3T2JqW2tleV09b2JqW2tleV0pO3JldHVybiBuZXdPYmouZGVmYXVsdD1vYmosbmV3T2JqfShfY29tbW9uKTtleHBvcnRzLnN1Yj1zdWJ0cmFjdCxleHBvcnRzLm11bD1tdWx0aXBseSxleHBvcnRzLmRpdj1kaXZpZGUsZXhwb3J0cy5kaXN0PWRpc3RhbmNlLGV4cG9ydHMuc3FyRGlzdD1zcXVhcmVkRGlzdGFuY2UsZXhwb3J0cy5sZW49bGVuZ3RoLGV4cG9ydHMuc3FyTGVuPXNxdWFyZWRMZW5ndGgsZXhwb3J0cy5mb3JFYWNoPWZ1bmN0aW9uKCl7dmFyIHZlYz1jcmVhdGUoKTtyZXR1cm4gZnVuY3Rpb24oYSxzdHJpZGUsb2Zmc2V0LGNvdW50LGZuLGFyZyl7dmFyIGk9dm9pZCAwLGw9dm9pZCAwO2ZvcihzdHJpZGV8fChzdHJpZGU9Myksb2Zmc2V0fHwob2Zmc2V0PTApLGw9Y291bnQ/TWF0aC5taW4oY291bnQqc3RyaWRlK29mZnNldCxhLmxlbmd0aCk6YS5sZW5ndGgsaT1vZmZzZXQ7aTxsO2krPXN0cmlkZSl2ZWNbMF09YVtpXSx2ZWNbMV09YVtpKzFdLHZlY1syXT1hW2krMl0sZm4odmVjLHZlYyxhcmcpLGFbaV09dmVjWzBdLGFbaSsxXT12ZWNbMV0sYVtpKzJdPXZlY1syXTtyZXR1cm4gYX19KCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7cmV0dXJuIG91dFswXT0wLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dH1mdW5jdGlvbiBjbG9uZShhKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXR9ZnVuY3Rpb24gZnJvbVZhbHVlcyh4LHkseix3KXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBvdXRbMF09eCxvdXRbMV09eSxvdXRbMl09eixvdXRbM109dyxvdXR9ZnVuY3Rpb24gY29weShvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dH1mdW5jdGlvbiBzZXQob3V0LHgseSx6LHcpe3JldHVybiBvdXRbMF09eCxvdXRbMV09eSxvdXRbMl09eixvdXRbM109dyxvdXR9ZnVuY3Rpb24gYWRkKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXStiWzBdLG91dFsxXT1hWzFdK2JbMV0sb3V0WzJdPWFbMl0rYlsyXSxvdXRbM109YVszXStiWzNdLG91dH1mdW5jdGlvbiBzdWJ0cmFjdChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0tYlswXSxvdXRbMV09YVsxXS1iWzFdLG91dFsyXT1hWzJdLWJbMl0sb3V0WzNdPWFbM10tYlszXSxvdXR9ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdKmJbMF0sb3V0WzFdPWFbMV0qYlsxXSxvdXRbMl09YVsyXSpiWzJdLG91dFszXT1hWzNdKmJbM10sb3V0fWZ1bmN0aW9uIGRpdmlkZShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0vYlswXSxvdXRbMV09YVsxXS9iWzFdLG91dFsyXT1hWzJdL2JbMl0sb3V0WzNdPWFbM10vYlszXSxvdXR9ZnVuY3Rpb24gY2VpbChvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLmNlaWwoYVswXSksb3V0WzFdPU1hdGguY2VpbChhWzFdKSxvdXRbMl09TWF0aC5jZWlsKGFbMl0pLG91dFszXT1NYXRoLmNlaWwoYVszXSksb3V0fWZ1bmN0aW9uIGZsb29yKG91dCxhKXtyZXR1cm4gb3V0WzBdPU1hdGguZmxvb3IoYVswXSksb3V0WzFdPU1hdGguZmxvb3IoYVsxXSksb3V0WzJdPU1hdGguZmxvb3IoYVsyXSksb3V0WzNdPU1hdGguZmxvb3IoYVszXSksb3V0fWZ1bmN0aW9uIG1pbihvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPU1hdGgubWluKGFbMF0sYlswXSksb3V0WzFdPU1hdGgubWluKGFbMV0sYlsxXSksb3V0WzJdPU1hdGgubWluKGFbMl0sYlsyXSksb3V0WzNdPU1hdGgubWluKGFbM10sYlszXSksb3V0fWZ1bmN0aW9uIG1heChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPU1hdGgubWF4KGFbMF0sYlswXSksb3V0WzFdPU1hdGgubWF4KGFbMV0sYlsxXSksb3V0WzJdPU1hdGgubWF4KGFbMl0sYlsyXSksb3V0WzNdPU1hdGgubWF4KGFbM10sYlszXSksb3V0fWZ1bmN0aW9uIHJvdW5kKG91dCxhKXtyZXR1cm4gb3V0WzBdPU1hdGgucm91bmQoYVswXSksb3V0WzFdPU1hdGgucm91bmQoYVsxXSksb3V0WzJdPU1hdGgucm91bmQoYVsyXSksb3V0WzNdPU1hdGgucm91bmQoYVszXSksb3V0fWZ1bmN0aW9uIHNjYWxlKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiLG91dFsxXT1hWzFdKmIsb3V0WzJdPWFbMl0qYixvdXRbM109YVszXSpiLG91dH1mdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsYSxiLHNjYWxlKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSpzY2FsZSxvdXRbMV09YVsxXStiWzFdKnNjYWxlLG91dFsyXT1hWzJdK2JbMl0qc2NhbGUsb3V0WzNdPWFbM10rYlszXSpzY2FsZSxvdXR9ZnVuY3Rpb24gZGlzdGFuY2UoYSxiKXt2YXIgeD1iWzBdLWFbMF0seT1iWzFdLWFbMV0sej1iWzJdLWFbMl0sdz1iWzNdLWFbM107cmV0dXJuIE1hdGguc3FydCh4KngreSp5K3oqeit3KncpfWZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLGIpe3ZhciB4PWJbMF0tYVswXSx5PWJbMV0tYVsxXSx6PWJbMl0tYVsyXSx3PWJbM10tYVszXTtyZXR1cm4geCp4K3kqeSt6Knordyp3fWZ1bmN0aW9uIGxlbmd0aChhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0sdz1hWzNdO3JldHVybiBNYXRoLnNxcnQoeCp4K3kqeSt6Knordyp3KX1mdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXSx3PWFbM107cmV0dXJuIHgqeCt5Knkreip6K3cqd31mdW5jdGlvbiBuZWdhdGUob3V0LGEpe3JldHVybiBvdXRbMF09LWFbMF0sb3V0WzFdPS1hWzFdLG91dFsyXT0tYVsyXSxvdXRbM109LWFbM10sb3V0fWZ1bmN0aW9uIGludmVyc2Uob3V0LGEpe3JldHVybiBvdXRbMF09MS9hWzBdLG91dFsxXT0xL2FbMV0sb3V0WzJdPTEvYVsyXSxvdXRbM109MS9hWzNdLG91dH1mdW5jdGlvbiBub3JtYWxpemUob3V0LGEpe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXSx3PWFbM10sbGVuPXgqeCt5Knkreip6K3cqdztyZXR1cm4gbGVuPjAmJihsZW49MS9NYXRoLnNxcnQobGVuKSxvdXRbMF09eCpsZW4sb3V0WzFdPXkqbGVuLG91dFsyXT16KmxlbixvdXRbM109dypsZW4pLG91dH1mdW5jdGlvbiBkb3QoYSxiKXtyZXR1cm4gYVswXSpiWzBdK2FbMV0qYlsxXSthWzJdKmJbMl0rYVszXSpiWzNdfWZ1bmN0aW9uIGxlcnAob3V0LGEsYix0KXt2YXIgYXg9YVswXSxheT1hWzFdLGF6PWFbMl0sYXc9YVszXTtyZXR1cm4gb3V0WzBdPWF4K3QqKGJbMF0tYXgpLG91dFsxXT1heSt0KihiWzFdLWF5KSxvdXRbMl09YXordCooYlsyXS1heiksb3V0WzNdPWF3K3QqKGJbM10tYXcpLG91dH1mdW5jdGlvbiByYW5kb20ob3V0LHZlY3RvclNjYWxlKXtyZXR1cm4gdmVjdG9yU2NhbGU9dmVjdG9yU2NhbGV8fDEsb3V0WzBdPWdsTWF0cml4LlJBTkRPTSgpLG91dFsxXT1nbE1hdHJpeC5SQU5ET00oKSxvdXRbMl09Z2xNYXRyaXguUkFORE9NKCksb3V0WzNdPWdsTWF0cml4LlJBTkRPTSgpLG5vcm1hbGl6ZShvdXQsb3V0KSxzY2FsZShvdXQsb3V0LHZlY3RvclNjYWxlKSxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsYSxtKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0sdz1hWzNdO3JldHVybiBvdXRbMF09bVswXSp4K21bNF0qeSttWzhdKnorbVsxMl0qdyxvdXRbMV09bVsxXSp4K21bNV0qeSttWzldKnorbVsxM10qdyxvdXRbMl09bVsyXSp4K21bNl0qeSttWzEwXSp6K21bMTRdKncsb3V0WzNdPW1bM10qeCttWzddKnkrbVsxMV0qeittWzE1XSp3LG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCxhLHEpe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXSxxeD1xWzBdLHF5PXFbMV0scXo9cVsyXSxxdz1xWzNdLGl4PXF3KngrcXkqei1xeip5LGl5PXF3KnkrcXoqeC1xeCp6LGl6PXF3KnorcXgqeS1xeSp4LGl3PS1xeCp4LXF5KnktcXoqejtyZXR1cm4gb3V0WzBdPWl4KnF3K2l3Ki1xeCtpeSotcXotaXoqLXF5LG91dFsxXT1peSpxdytpdyotcXkraXoqLXF4LWl4Ki1xeixvdXRbMl09aXoqcXcraXcqLXF6K2l4Ki1xeS1peSotcXgsb3V0WzNdPWFbM10sb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cInZlYzQoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIiwgXCIrYVszXStcIilcIn1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV0mJmFbMl09PT1iWzJdJiZhWzNdPT09YlszXX1mdW5jdGlvbiBlcXVhbHMoYSxiKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSkmJk1hdGguYWJzKGEyLWIyKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEyKSxNYXRoLmFicyhiMikpJiZNYXRoLmFicyhhMy1iMyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMyksTWF0aC5hYnMoYjMpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmZvckVhY2g9ZXhwb3J0cy5zcXJMZW49ZXhwb3J0cy5sZW49ZXhwb3J0cy5zcXJEaXN0PWV4cG9ydHMuZGlzdD1leHBvcnRzLmRpdj1leHBvcnRzLm11bD1leHBvcnRzLnN1Yj12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuY2xvbmU9Y2xvbmUsZXhwb3J0cy5mcm9tVmFsdWVzPWZyb21WYWx1ZXMsZXhwb3J0cy5jb3B5PWNvcHksZXhwb3J0cy5zZXQ9c2V0LGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLnN1YnRyYWN0PXN1YnRyYWN0LGV4cG9ydHMubXVsdGlwbHk9bXVsdGlwbHksZXhwb3J0cy5kaXZpZGU9ZGl2aWRlLGV4cG9ydHMuY2VpbD1jZWlsLGV4cG9ydHMuZmxvb3I9Zmxvb3IsZXhwb3J0cy5taW49bWluLGV4cG9ydHMubWF4PW1heCxleHBvcnRzLnJvdW5kPXJvdW5kLGV4cG9ydHMuc2NhbGU9c2NhbGUsZXhwb3J0cy5zY2FsZUFuZEFkZD1zY2FsZUFuZEFkZCxleHBvcnRzLmRpc3RhbmNlPWRpc3RhbmNlLGV4cG9ydHMuc3F1YXJlZERpc3RhbmNlPXNxdWFyZWREaXN0YW5jZSxleHBvcnRzLmxlbmd0aD1sZW5ndGgsZXhwb3J0cy5zcXVhcmVkTGVuZ3RoPXNxdWFyZWRMZW5ndGgsZXhwb3J0cy5uZWdhdGU9bmVnYXRlLGV4cG9ydHMuaW52ZXJzZT1pbnZlcnNlLGV4cG9ydHMubm9ybWFsaXplPW5vcm1hbGl6ZSxleHBvcnRzLmRvdD1kb3QsZXhwb3J0cy5sZXJwPWxlcnAsZXhwb3J0cy5yYW5kb209cmFuZG9tLGV4cG9ydHMudHJhbnNmb3JtTWF0ND10cmFuc2Zvcm1NYXQ0LGV4cG9ydHMudHJhbnNmb3JtUXVhdD10cmFuc2Zvcm1RdWF0LGV4cG9ydHMuc3RyPXN0cixleHBvcnRzLmV4YWN0RXF1YWxzPWV4YWN0RXF1YWxzLGV4cG9ydHMuZXF1YWxzPWVxdWFsczt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9jb21tb24pO2V4cG9ydHMuc3ViPXN1YnRyYWN0LGV4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuZGl2PWRpdmlkZSxleHBvcnRzLmRpc3Q9ZGlzdGFuY2UsZXhwb3J0cy5zcXJEaXN0PXNxdWFyZWREaXN0YW5jZSxleHBvcnRzLmxlbj1sZW5ndGgsZXhwb3J0cy5zcXJMZW49c3F1YXJlZExlbmd0aCxleHBvcnRzLmZvckVhY2g9ZnVuY3Rpb24oKXt2YXIgdmVjPWNyZWF0ZSgpO3JldHVybiBmdW5jdGlvbihhLHN0cmlkZSxvZmZzZXQsY291bnQsZm4sYXJnKXt2YXIgaT12b2lkIDAsbD12b2lkIDA7Zm9yKHN0cmlkZXx8KHN0cmlkZT00KSxvZmZzZXR8fChvZmZzZXQ9MCksbD1jb3VudD9NYXRoLm1pbihjb3VudCpzdHJpZGUrb2Zmc2V0LGEubGVuZ3RoKTphLmxlbmd0aCxpPW9mZnNldDtpPGw7aSs9c3RyaWRlKXZlY1swXT1hW2ldLHZlY1sxXT1hW2krMV0sdmVjWzJdPWFbaSsyXSx2ZWNbM109YVtpKzNdLGZuKHZlYyx2ZWMsYXJnKSxhW2ldPXZlY1swXSxhW2krMV09dmVjWzFdLGFbaSsyXT12ZWNbMl0sYVtpKzNdPXZlY1szXTtyZXR1cm4gYX19KCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPXtBQ1RJVkVfQVRUUklCVVRFUzozNTcyMSxBQ1RJVkVfQVRUUklCVVRFX01BWF9MRU5HVEg6MzU3MjIsQUNUSVZFX1RFWFRVUkU6MzQwMTYsQUNUSVZFX1VOSUZPUk1TOjM1NzE4LEFDVElWRV9VTklGT1JNX01BWF9MRU5HVEg6MzU3MTksQUxJQVNFRF9MSU5FX1dJRFRIX1JBTkdFOjMzOTAyLEFMSUFTRURfUE9JTlRfU0laRV9SQU5HRTozMzkwMSxBTFBIQTo2NDA2LEFMUEhBX0JJVFM6MzQxMyxBTFdBWVM6NTE5LEFSUkFZX0JVRkZFUjozNDk2MixBUlJBWV9CVUZGRVJfQklORElORzozNDk2NCxBVFRBQ0hFRF9TSEFERVJTOjM1NzE3LEJBQ0s6MTAyOSxCTEVORDozMDQyLEJMRU5EX0NPTE9SOjMyNzczLEJMRU5EX0RTVF9BTFBIQTozMjk3MCxCTEVORF9EU1RfUkdCOjMyOTY4LEJMRU5EX0VRVUFUSU9OOjMyNzc3LEJMRU5EX0VRVUFUSU9OX0FMUEhBOjM0ODc3LEJMRU5EX0VRVUFUSU9OX1JHQjozMjc3NyxCTEVORF9TUkNfQUxQSEE6MzI5NzEsQkxFTkRfU1JDX1JHQjozMjk2OSxCTFVFX0JJVFM6MzQxMixCT09MOjM1NjcwLEJPT0xfVkVDMjozNTY3MSxCT09MX1ZFQzM6MzU2NzIsQk9PTF9WRUM0OjM1NjczLEJST1dTRVJfREVGQVVMVF9XRUJHTDozNzQ0NCxCVUZGRVJfU0laRTozNDY2MCxCVUZGRVJfVVNBR0U6MzQ2NjEsQllURTo1MTIwLENDVzoyMzA1LENMQU1QX1RPX0VER0U6MzMwNzEsQ09MT1JfQVRUQUNITUVOVDA6MzYwNjQsQ09MT1JfQlVGRkVSX0JJVDoxNjM4NCxDT0xPUl9DTEVBUl9WQUxVRTozMTA2LENPTE9SX1dSSVRFTUFTSzozMTA3LENPTVBJTEVfU1RBVFVTOjM1NzEzLENPTVBSRVNTRURfVEVYVFVSRV9GT1JNQVRTOjM0NDY3LENPTlNUQU5UX0FMUEhBOjMyNzcxLENPTlNUQU5UX0NPTE9SOjMyNzY5LENPTlRFWFRfTE9TVF9XRUJHTDozNzQ0MixDVUxMX0ZBQ0U6Mjg4NCxDVUxMX0ZBQ0VfTU9ERToyODg1LENVUlJFTlRfUFJPR1JBTTozNTcyNSxDVVJSRU5UX1ZFUlRFWF9BVFRSSUI6MzQzNDIsQ1c6MjMwNCxERUNSOjc2ODMsREVDUl9XUkFQOjM0MDU2LERFTEVURV9TVEFUVVM6MzU3MTIsREVQVEhfQVRUQUNITUVOVDozNjA5NixERVBUSF9CSVRTOjM0MTQsREVQVEhfQlVGRkVSX0JJVDoyNTYsREVQVEhfQ0xFQVJfVkFMVUU6MjkzMSxERVBUSF9DT01QT05FTlQ6NjQwMixSRUQ6NjQwMyxERVBUSF9DT01QT05FTlQxNjozMzE4OSxERVBUSF9GVU5DOjI5MzIsREVQVEhfUkFOR0U6MjkyOCxERVBUSF9TVEVOQ0lMOjM0MDQxLERFUFRIX1NURU5DSUxfQVRUQUNITUVOVDozMzMwNixERVBUSF9URVNUOjI5MjksREVQVEhfV1JJVEVNQVNLOjI5MzAsRElUSEVSOjMwMjQsRE9OVF9DQVJFOjQzNTIsRFNUX0FMUEhBOjc3MixEU1RfQ09MT1I6Nzc0LERZTkFNSUNfRFJBVzozNTA0OCxFTEVNRU5UX0FSUkFZX0JVRkZFUjozNDk2MyxFTEVNRU5UX0FSUkFZX0JVRkZFUl9CSU5ESU5HOjM0OTY1LEVRVUFMOjUxNCxGQVNURVNUOjQzNTMsRkxPQVQ6NTEyNixGTE9BVF9NQVQyOjM1Njc0LEZMT0FUX01BVDM6MzU2NzUsRkxPQVRfTUFUNDozNTY3NixGTE9BVF9WRUMyOjM1NjY0LEZMT0FUX1ZFQzM6MzU2NjUsRkxPQVRfVkVDNDozNTY2NixGUkFHTUVOVF9TSEFERVI6MzU2MzIsRlJBTUVCVUZGRVI6MzYxNjAsRlJBTUVCVUZGRVJfQVRUQUNITUVOVF9PQkpFQ1RfTkFNRTozNjA0OSxGUkFNRUJVRkZFUl9BVFRBQ0hNRU5UX09CSkVDVF9UWVBFOjM2MDQ4LEZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfVEVYVFVSRV9DVUJFX01BUF9GQUNFOjM2MDUxLEZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfVEVYVFVSRV9MRVZFTDozNjA1MCxGUkFNRUJVRkZFUl9CSU5ESU5HOjM2MDA2LEZSQU1FQlVGRkVSX0NPTVBMRVRFOjM2MDUzLEZSQU1FQlVGRkVSX0lOQ09NUExFVEVfQVRUQUNITUVOVDozNjA1NCxGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0RJTUVOU0lPTlM6MzYwNTcsRlJBTUVCVUZGRVJfSU5DT01QTEVURV9NSVNTSU5HX0FUVEFDSE1FTlQ6MzYwNTUsRlJBTUVCVUZGRVJfVU5TVVBQT1JURUQ6MzYwNjEsRlJPTlQ6MTAyOCxGUk9OVF9BTkRfQkFDSzoxMDMyLEZST05UX0ZBQ0U6Mjg4NixGVU5DX0FERDozMjc3NCxGVU5DX1JFVkVSU0VfU1VCVFJBQ1Q6MzI3NzksRlVOQ19TVUJUUkFDVDozMjc3OCxHRU5FUkFURV9NSVBNQVBfSElOVDozMzE3MCxHRVFVQUw6NTE4LEdSRUFURVI6NTE2LEdSRUVOX0JJVFM6MzQxMSxISUdIX0ZMT0FUOjM2MzM4LEhJR0hfSU5UOjM2MzQxLElOQ1I6NzY4MixJTkNSX1dSQVA6MzQwNTUsSU5GT19MT0dfTEVOR1RIOjM1NzE2LElOVDo1MTI0LElOVF9WRUMyOjM1NjY3LElOVF9WRUMzOjM1NjY4LElOVF9WRUM0OjM1NjY5LElOVkFMSURfRU5VTToxMjgwLElOVkFMSURfRlJBTUVCVUZGRVJfT1BFUkFUSU9OOjEyODYsSU5WQUxJRF9PUEVSQVRJT046MTI4MixJTlZBTElEX1ZBTFVFOjEyODEsSU5WRVJUOjUzODYsS0VFUDo3NjgwLExFUVVBTDo1MTUsTEVTUzo1MTMsTElORUFSOjk3MjksTElORUFSX01JUE1BUF9MSU5FQVI6OTk4NyxMSU5FQVJfTUlQTUFQX05FQVJFU1Q6OTk4NSxMSU5FUzoxLExJTkVfTE9PUDoyLExJTkVfU1RSSVA6MyxMSU5FX1dJRFRIOjI4NDksTElOS19TVEFUVVM6MzU3MTQsTE9XX0ZMT0FUOjM2MzM2LExPV19JTlQ6MzYzMzksTFVNSU5BTkNFOjY0MDksTFVNSU5BTkNFX0FMUEhBOjY0MTAsTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFM6MzU2NjEsTUFYX0NVQkVfTUFQX1RFWFRVUkVfU0laRTozNDA3NixNQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTOjM2MzQ5LE1BWF9SRU5ERVJCVUZGRVJfU0laRTozNDAyNCxNQVhfVEVYVFVSRV9JTUFHRV9VTklUUzozNDkzMCxNQVhfVEVYVFVSRV9TSVpFOjMzNzksTUFYX1ZBUllJTkdfVkVDVE9SUzozNjM0OCxNQVhfVkVSVEVYX0FUVFJJQlM6MzQ5MjEsTUFYX1ZFUlRFWF9URVhUVVJFX0lNQUdFX1VOSVRTOjM1NjYwLE1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTOjM2MzQ3LE1BWF9WSUVXUE9SVF9ESU1TOjMzODYsTUVESVVNX0ZMT0FUOjM2MzM3LE1FRElVTV9JTlQ6MzYzNDAsTUlSUk9SRURfUkVQRUFUOjMzNjQ4LE5FQVJFU1Q6OTcyOCxORUFSRVNUX01JUE1BUF9MSU5FQVI6OTk4NixORUFSRVNUX01JUE1BUF9ORUFSRVNUOjk5ODQsTkVWRVI6NTEyLE5JQ0VTVDo0MzU0LE5PTkU6MCxOT1RFUVVBTDo1MTcsTk9fRVJST1I6MCxOVU1fQ09NUFJFU1NFRF9URVhUVVJFX0ZPUk1BVFM6MzQ0NjYsT05FOjEsT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBOjMyNzcyLE9ORV9NSU5VU19DT05TVEFOVF9DT0xPUjozMjc3MCxPTkVfTUlOVVNfRFNUX0FMUEhBOjc3MyxPTkVfTUlOVVNfRFNUX0NPTE9SOjc3NSxPTkVfTUlOVVNfU1JDX0FMUEhBOjc3MSxPTkVfTUlOVVNfU1JDX0NPTE9SOjc2OSxPVVRfT0ZfTUVNT1JZOjEyODUsUEFDS19BTElHTk1FTlQ6MzMzMyxQT0lOVFM6MCxQT0xZR09OX09GRlNFVF9GQUNUT1I6MzI4MjQsUE9MWUdPTl9PRkZTRVRfRklMTDozMjgyMyxQT0xZR09OX09GRlNFVF9VTklUUzoxMDc1MixSRURfQklUUzozNDEwLFJFTkRFUkJVRkZFUjozNjE2MSxSRU5ERVJCVUZGRVJfQUxQSEFfU0laRTozNjE3OSxSRU5ERVJCVUZGRVJfQklORElORzozNjAwNyxSRU5ERVJCVUZGRVJfQkxVRV9TSVpFOjM2MTc4LFJFTkRFUkJVRkZFUl9ERVBUSF9TSVpFOjM2MTgwLFJFTkRFUkJVRkZFUl9HUkVFTl9TSVpFOjM2MTc3LFJFTkRFUkJVRkZFUl9IRUlHSFQ6MzYxNjMsUkVOREVSQlVGRkVSX0lOVEVSTkFMX0ZPUk1BVDozNjE2NCxSRU5ERVJCVUZGRVJfUkVEX1NJWkU6MzYxNzYsUkVOREVSQlVGRkVSX1NURU5DSUxfU0laRTozNjE4MSxSRU5ERVJCVUZGRVJfV0lEVEg6MzYxNjIsUkVOREVSRVI6NzkzNyxSRVBFQVQ6MTA0OTcsUkVQTEFDRTo3NjgxLFJHQjo2NDA3LFJHQjVfQTE6MzI4NTUsUkdCNTY1OjM2MTk0LFJHQkE6NjQwOCxSR0JBNDozMjg1NCxTQU1QTEVSXzJEOjM1Njc4LFNBTVBMRVJfQ1VCRTozNTY4MCxTQU1QTEVTOjMyOTM3LFNBTVBMRV9BTFBIQV9UT19DT1ZFUkFHRTozMjkyNixTQU1QTEVfQlVGRkVSUzozMjkzNixTQU1QTEVfQ09WRVJBR0U6MzI5MjgsU0FNUExFX0NPVkVSQUdFX0lOVkVSVDozMjkzOSxTQU1QTEVfQ09WRVJBR0VfVkFMVUU6MzI5MzgsU0NJU1NPUl9CT1g6MzA4OCxTQ0lTU09SX1RFU1Q6MzA4OSxTSEFERVJfQ09NUElMRVI6MzYzNDYsU0hBREVSX1NPVVJDRV9MRU5HVEg6MzU3MjAsU0hBREVSX1RZUEU6MzU2NjMsU0hBRElOR19MQU5HVUFHRV9WRVJTSU9OOjM1NzI0LFNIT1JUOjUxMjIsU1JDX0FMUEhBOjc3MCxTUkNfQUxQSEFfU0FUVVJBVEU6Nzc2LFNSQ19DT0xPUjo3NjgsU1RBVElDX0RSQVc6MzUwNDQsU1RFTkNJTF9BVFRBQ0hNRU5UOjM2MTI4LFNURU5DSUxfQkFDS19GQUlMOjM0ODE3LFNURU5DSUxfQkFDS19GVU5DOjM0ODE2LFNURU5DSUxfQkFDS19QQVNTX0RFUFRIX0ZBSUw6MzQ4MTgsU1RFTkNJTF9CQUNLX1BBU1NfREVQVEhfUEFTUzozNDgxOSxTVEVOQ0lMX0JBQ0tfUkVGOjM2MDAzLFNURU5DSUxfQkFDS19WQUxVRV9NQVNLOjM2MDA0LFNURU5DSUxfQkFDS19XUklURU1BU0s6MzYwMDUsU1RFTkNJTF9CSVRTOjM0MTUsU1RFTkNJTF9CVUZGRVJfQklUOjEwMjQsU1RFTkNJTF9DTEVBUl9WQUxVRToyOTYxLFNURU5DSUxfRkFJTDoyOTY0LFNURU5DSUxfRlVOQzoyOTYyLFNURU5DSUxfSU5ERVg6NjQwMSxTVEVOQ0lMX0lOREVYODozNjE2OCxTVEVOQ0lMX1BBU1NfREVQVEhfRkFJTDoyOTY1LFNURU5DSUxfUEFTU19ERVBUSF9QQVNTOjI5NjYsU1RFTkNJTF9SRUY6Mjk2NyxTVEVOQ0lMX1RFU1Q6Mjk2MCxTVEVOQ0lMX1ZBTFVFX01BU0s6Mjk2MyxTVEVOQ0lMX1dSSVRFTUFTSzoyOTY4LFNUUkVBTV9EUkFXOjM1MDQwLFNVQlBJWEVMX0JJVFM6MzQwOCxURVhUVVJFOjU4OTAsVEVYVFVSRTA6MzM5ODQsVEVYVFVSRTE6MzM5ODUsVEVYVFVSRTI6MzM5ODYsVEVYVFVSRTM6MzM5ODcsVEVYVFVSRTQ6MzM5ODgsVEVYVFVSRTU6MzM5ODksVEVYVFVSRTY6MzM5OTAsVEVYVFVSRTc6MzM5OTEsVEVYVFVSRTg6MzM5OTIsVEVYVFVSRTk6MzM5OTMsVEVYVFVSRTEwOjMzOTk0LFRFWFRVUkUxMTozMzk5NSxURVhUVVJFMTI6MzM5OTYsVEVYVFVSRTEzOjMzOTk3LFRFWFRVUkUxNDozMzk5OCxURVhUVVJFMTU6MzM5OTksVEVYVFVSRTE2OjM0ZTMsVEVYVFVSRTE3OjM0MDAxLFRFWFRVUkUxODozNDAwMixURVhUVVJFMTk6MzQwMDMsVEVYVFVSRTIwOjM0MDA0LFRFWFRVUkUyMTozNDAwNSxURVhUVVJFMjI6MzQwMDYsVEVYVFVSRTIzOjM0MDA3LFRFWFRVUkUyNDozNDAwOCxURVhUVVJFMjU6MzQwMDksVEVYVFVSRTI2OjM0MDEwLFRFWFRVUkUyNzozNDAxMSxURVhUVVJFMjg6MzQwMTIsVEVYVFVSRTI5OjM0MDEzLFRFWFRVUkUzMDozNDAxNCxURVhUVVJFMzE6MzQwMTUsVEVYVFVSRV8yRDozNTUzLFRFWFRVUkVfQklORElOR18yRDozMjg3MyxURVhUVVJFX0JJTkRJTkdfQ1VCRV9NQVA6MzQwNjgsVEVYVFVSRV9DVUJFX01BUDozNDA2NyxURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g6MzQwNzAsVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZOjM0MDcyLFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWjozNDA3NCxURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g6MzQwNjksVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZOjM0MDcxLFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWjozNDA3MyxURVhUVVJFX01BR19GSUxURVI6MTAyNDAsVEVYVFVSRV9NSU5fRklMVEVSOjEwMjQxLFRFWFRVUkVfV1JBUF9TOjEwMjQyLFRFWFRVUkVfV1JBUF9UOjEwMjQzLFRSSUFOR0xFUzo0LFRSSUFOR0xFX0ZBTjo2LFRSSUFOR0xFX1NUUklQOjUsVU5QQUNLX0FMSUdOTUVOVDozMzE3LFVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0w6Mzc0NDMsVU5QQUNLX0ZMSVBfWV9XRUJHTDozNzQ0MCxVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0w6Mzc0NDEsVU5TSUdORURfQllURTo1MTIxLFVOU0lHTkVEX0lOVDo1MTI1LFVOU0lHTkVEX1NIT1JUOjUxMjMsVU5TSUdORURfU0hPUlRfNF80XzRfNDozMjgxOSxVTlNJR05FRF9TSE9SVF81XzVfNV8xOjMyODIwLFVOU0lHTkVEX1NIT1JUXzVfNl81OjMzNjM1LFZBTElEQVRFX1NUQVRVUzozNTcxNSxWRU5ET1I6NzkzNixWRVJTSU9OOjc5MzgsVkVSVEVYX0FUVFJJQl9BUlJBWV9CVUZGRVJfQklORElORzozNDk3NSxWRVJURVhfQVRUUklCX0FSUkFZX0VOQUJMRUQ6MzQzMzgsVkVSVEVYX0FUVFJJQl9BUlJBWV9OT1JNQUxJWkVEOjM0OTIyLFZFUlRFWF9BVFRSSUJfQVJSQVlfUE9JTlRFUjozNDM3MyxWRVJURVhfQVRUUklCX0FSUkFZX1NJWkU6MzQzMzksVkVSVEVYX0FUVFJJQl9BUlJBWV9TVFJJREU6MzQzNDAsVkVSVEVYX0FUVFJJQl9BUlJBWV9UWVBFOjM0MzQxLFZFUlRFWF9TSEFERVI6MzU2MzMsVklFV1BPUlQ6Mjk3OCxaRVJPOjAsUjg6MzMzMjF9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9ZnVuY3Rpb24oZ2wsc2hhZGVyUHJvZ3JhbSxuYW1lKXtyZXR1cm4gdm9pZCAwPT09c2hhZGVyUHJvZ3JhbS5jYWNoZUF0dHJpYkxvYyYmKHNoYWRlclByb2dyYW0uY2FjaGVBdHRyaWJMb2M9e30pLHZvaWQgMD09PXNoYWRlclByb2dyYW0uY2FjaGVBdHRyaWJMb2NbbmFtZV0mJihzaGFkZXJQcm9ncmFtLmNhY2hlQXR0cmliTG9jW25hbWVdPWdsLmdldEF0dHJpYkxvY2F0aW9uKHNoYWRlclByb2dyYW0sbmFtZSkpLHNoYWRlclByb2dyYW0uY2FjaGVBdHRyaWJMb2NbbmFtZV19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaXNQb3dlck9mVHdvKHgpe3JldHVybiAwIT09eCYmISh4JngtMSl9ZnVuY3Rpb24gaXNTb3VyY2VQb3dlck9mVHdvKG9iail7dmFyIHc9b2JqLndpZHRofHxvYmoudmlkZW9XaWR0aCxoPW9iai5oZWlnaHR8fG9iai52aWRlb0hlaWdodDtyZXR1cm4hKCF3fHwhaCkmJihpc1Bvd2VyT2ZUd28odykmJmlzUG93ZXJPZlR3byhoKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX1dlYmdsTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oOCksZ2w9KF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYmdsTnVtYmVyKSx2b2lkIDApLEdMVGV4dHVyZT1mdW5jdGlvbigpe2Z1bmN0aW9uIEdMVGV4dHVyZShtU291cmNlKXt2YXIgaXNUZXh0dXJlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0sbVBhcmFtZXRlcnM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2lmKF9jbGFzc0NhbGxDaGVjayh0aGlzLEdMVGV4dHVyZSksZ2w9X0dMVG9vbDIuZGVmYXVsdC5nbCxpc1RleHR1cmUpdGhpcy5fdGV4dHVyZT1tU291cmNlO2Vsc2V7dGhpcy5fbVNvdXJjZT1tU291cmNlLHRoaXMuX3RleHR1cmU9Z2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMuX2lzVmlkZW89XCJWSURFT1wiPT09bVNvdXJjZS50YWdOYW1lLHRoaXMuX3ByZW11bHRpcGx5QWxwaGE9ITAsdGhpcy5fbWFnRmlsdGVyPW1QYXJhbWV0ZXJzLm1hZ0ZpbHRlcnx8Z2wuTElORUFSLHRoaXMuX21pbkZpbHRlcj1tUGFyYW1ldGVycy5taW5GaWx0ZXJ8fGdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUix0aGlzLl93cmFwUz1tUGFyYW1ldGVycy53cmFwU3x8Z2wuTUlSUk9SRURfUkVQRUFULHRoaXMuX3dyYXBUPW1QYXJhbWV0ZXJzLndyYXBUfHxnbC5NSVJST1JFRF9SRVBFQVQ7bVNvdXJjZS53aWR0aHx8bVNvdXJjZS52aWRlb1dpZHRoP2lzU291cmNlUG93ZXJPZlR3byhtU291cmNlKXx8KHRoaXMuX3dyYXBTPXRoaXMuX3dyYXBUPWdsLkNMQU1QX1RPX0VER0UsdGhpcy5fbWluRmlsdGVyPT09Z2wuTkVBUkVTVF9NSVBNQVBfTElORUFSJiYodGhpcy5fbWluRmlsdGVyPWdsLkxJTkVBUikpOih0aGlzLl93cmFwUz10aGlzLl93cmFwVD1nbC5DTEFNUF9UT19FREdFLHRoaXMuX21pbkZpbHRlcj09PWdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUiYmKHRoaXMuX21pbkZpbHRlcj1nbC5MSU5FQVIpKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsITApLG1Tb3VyY2UuZXhwb3N1cmU/Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELDAsZ2wuUkdCQSxtU291cmNlLnNoYXBlWzBdLG1Tb3VyY2Uuc2hhcGVbMV0sMCxnbC5SR0JBLGdsLkZMT0FULG1Tb3VyY2UuZGF0YSk6Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELDAsZ2wuUkdCQSxnbC5SR0JBLGdsLlVOU0lHTkVEX0JZVEUsbVNvdXJjZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9tYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fbWluRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fd3JhcFMpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfVCx0aGlzLl93cmFwVCk7dmFyIGV4dD1fR0xUb29sMi5kZWZhdWx0LmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKTtpZihleHQpe3ZhciBtYXg9Z2wuZ2V0UGFyYW1ldGVyKGV4dC5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpO2dsLnRleFBhcmFtZXRlcmYoZ2wuVEVYVFVSRV8yRCxleHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsbWF4KX10aGlzLl9jYW5HZW5lcmF0ZU1pcG1hcCgpJiZnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEdMVGV4dHVyZSxbe2tleTpcImdlbmVyYXRlTWlwbWFwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jYW5HZW5lcmF0ZU1pcG1hcCgpJiYoZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpKX19LHtrZXk6XCJ1cGRhdGVUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24obVNvdXJjZSl7bVNvdXJjZSYmKHRoaXMuX21Tb3VyY2U9bVNvdXJjZSksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCEwKSxnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsMCxnbC5SR0JBLGdsLlJHQkEsZ2wuVU5TSUdORURfQllURSx0aGlzLl9tU291cmNlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX21hZ0ZpbHRlciksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9taW5GaWx0ZXIpLHRoaXMuX2NhbkdlbmVyYXRlTWlwbWFwKCkmJmdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9fSx7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKGluZGV4KXt2b2lkIDA9PT1pbmRleCYmKGluZGV4PTApLF9HTFRvb2wyLmRlZmF1bHQuc2hhZGVyJiYoZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCtpbmRleCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSx0aGlzLl9iaW5kSW5kZXg9aW5kZXgpfX0se2tleTpcIl9jYW5HZW5lcmF0ZU1pcG1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbkZpbHRlcj09PWdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVHx8dGhpcy5fbWluRmlsdGVyPT09Z2wuTkVBUkVTVF9NSVBNQVBfTElORUFSfHx0aGlzLl9taW5GaWx0ZXI9PT1nbC5MSU5FQVJfTUlQTUFQX0xJTkVBUnx8dGhpcy5fbWluRmlsdGVyPT09Z2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVH19LHtrZXk6XCJtaW5GaWx0ZXJcIixzZXQ6ZnVuY3Rpb24obVZhbHVlKXtpZihtVmFsdWUhPT1nbC5MSU5FQVImJm1WYWx1ZSE9PWdsLk5FQVJFU1QmJm1WYWx1ZSE9PWdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUiYmbVZhbHVlIT09Z2wuTkVBUkVTVF9NSVBNQVBfTElORUFSJiZtVmFsdWUhPT1nbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiYmbVZhbHVlIT09Z2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVClyZXR1cm4gdGhpczt0aGlzLl9taW5GaWx0ZXI9bVZhbHVlLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9taW5GaWx0ZXIpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5GaWx0ZXJ9fSx7a2V5OlwibWFnRmlsdGVyXCIsc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7aWYobVZhbHVlIT09Z2wuTElORUFSJiZtVmFsdWUhPT1nbC5ORUFSRVNUKXJldHVybiB0aGlzO3RoaXMuX21hZ0ZpbHRlcj1tVmFsdWUsZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX21hZ0ZpbHRlciksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hZ0ZpbHRlcn19LHtrZXk6XCJ3cmFwU1wiLHNldDpmdW5jdGlvbihtVmFsdWUpe2lmKG1WYWx1ZSE9PWdsLkNMQU1QX1RPX0VER0UmJm1WYWx1ZSE9PWdsLlJFUEVBVCYmbVZhbHVlIT09Z2wuTUlSUk9SRURfUkVQRUFUKXJldHVybiB0aGlzO3RoaXMuX3dyYXBTPW1WYWx1ZSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfUyx0aGlzLl93cmFwUyksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBTfX0se2tleTpcIndyYXBUXCIsc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7aWYobVZhbHVlIT09Z2wuQ0xBTVBfVE9fRURHRSYmbVZhbHVlIT09Z2wuUkVQRUFUJiZtVmFsdWUhPT1nbC5NSVJST1JFRF9SRVBFQVQpcmV0dXJuIHRoaXM7dGhpcy5fd3JhcFQ9bVZhbHVlLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX3dyYXBUKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JhcFR9fSx7a2V5OlwicHJlbXVsdGlwbHlBbHBoYVwiLHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3ByZW11bHRpcGx5QWxwaGE9bVZhbHVlLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksY29uc29sZS5sb2coXCJwcmVtdWx0aXBseUFscGhhOlwiLG1WYWx1ZSksZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLHRoaXMuX3ByZW11bHRpcGx5QWxwaGEpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVtdWx0aXBseUFscGhhfX0se2tleTpcInRleHR1cmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX19XSksR0xUZXh0dXJlfSgpLF93aGl0ZVRleHR1cmU9dm9pZCAwLF9ncmV5VGV4dHVyZT12b2lkIDAsX2JsYWNrVGV4dHVyZT12b2lkIDA7R0xUZXh0dXJlLndoaXRlVGV4dHVyZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PV93aGl0ZVRleHR1cmUpe3ZhciBjYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtjYW52YXMud2lkdGg9Y2FudmFzLmhlaWdodD00O3ZhciBjdHg9Y2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtjdHguZmlsbFN0eWxlPVwiI2ZmZlwiLGN0eC5maWxsUmVjdCgwLDAsNCw0KSxfd2hpdGVUZXh0dXJlPW5ldyBHTFRleHR1cmUoY2FudmFzKX1yZXR1cm4gX3doaXRlVGV4dHVyZX0sR0xUZXh0dXJlLmdyZXlUZXh0dXJlPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09X2dyZXlUZXh0dXJlKXt2YXIgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Y2FudmFzLndpZHRoPWNhbnZhcy5oZWlnaHQ9NDt2YXIgY3R4PWNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7Y3R4LmZpbGxTdHlsZT1cInJnYigxMjcsIDEyNywgMTI3KVwiLGN0eC5maWxsUmVjdCgwLDAsNCw0KSxfZ3JleVRleHR1cmU9bmV3IEdMVGV4dHVyZShjYW52YXMpfXJldHVybiBfZ3JleVRleHR1cmV9LEdMVGV4dHVyZS5ibGFja1RleHR1cmU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1fYmxhY2tUZXh0dXJlKXt2YXIgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Y2FudmFzLndpZHRoPWNhbnZhcy5oZWlnaHQ9NDt2YXIgY3R4PWNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7Y3R4LmZpbGxTdHlsZT1cInJnYigxMjcsIDEyNywgMTI3KVwiLGN0eC5maWxsUmVjdCgwLDAsNCw0KSxfYmxhY2tUZXh0dXJlPW5ldyBHTFRleHR1cmUoY2FudmFzKX1yZXR1cm4gX2JsYWNrVGV4dHVyZX0sZXhwb3J0cy5kZWZhdWx0PUdMVGV4dHVyZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGlzUG93ZXJPZlR3byh4KXtyZXR1cm4gMCE9PXgmJiEoeCZ4LTEpfWZ1bmN0aW9uIGdldFNvdXJjZVR5cGUobVNvdXJjZSl7dmFyIHR5cGU9X0dMVG9vbDIuZGVmYXVsdC5VTlNJR05FRF9CWVRFO3JldHVybiBtU291cmNlIGluc3RhbmNlb2YgQXJyYXk/dHlwZT1fR0xUb29sMi5kZWZhdWx0LlVOU0lHTkVEX0JZVEU6bVNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/dHlwZT1fR0xUb29sMi5kZWZhdWx0LlVOU0lHTkVEX0JZVEU6bVNvdXJjZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90eXBlPV9HTFRvb2wyLmRlZmF1bHQuRkxPQVQ6bVNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/dHlwZT1cImltYWdlXCI6bVNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50P3R5cGU9XCJjYW52YXNcIjptU291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmKHR5cGU9XCJ2aWRlb1wiKSx0eXBlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXRUZXh0dXJlUGFyYW1ldGVycz1fX3dlYnBhY2tfcmVxdWlyZV9fKDU0KSxfZ2V0VGV4dHVyZVBhcmFtZXRlcnMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFRleHR1cmVQYXJhbWV0ZXJzKSxfV2ViZ2xOdW1iZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxfV2ViZ2xOdW1iZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYmdsTnVtYmVyKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfc2NoZWR1bGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLF9zY2hlZHVsaW5nMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY2hlZHVsaW5nKSxnbD12b2lkIDAsR0xUZXh0dXJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gR0xUZXh0dXJlKG1Tb3VyY2Upe3ZhciBtUGFyYW09YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LF90aGlzPXRoaXMsbVdpZHRoPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG1IZWlnaHQ9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsR0xUZXh0dXJlKSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHRoaXMuX3NvdXJjZT1tU291cmNlLHRoaXMuX2dldERpbWVuc2lvbihtU291cmNlLG1XaWR0aCxtSGVpZ2h0KSx0aGlzLl9zb3VyY2VUeXBlPW1QYXJhbS50eXBlfHxnZXRTb3VyY2VUeXBlKG1Tb3VyY2UpLHRoaXMuX2NoZWNrU291cmNlKCksdGhpcy5fdGV4ZWxUeXBlPXRoaXMuX2dldFRleGVsVHlwZSgpLHRoaXMuX2lzVGV4dHVyZVJlYWR5PSEwLHRoaXMuX3BhcmFtcz0oMCxfZ2V0VGV4dHVyZVBhcmFtZXRlcnMyLmRlZmF1bHQpKG1QYXJhbSxtU291cmNlLHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCksdGhpcy5fY2hlY2tNaXBtYXAoKSx0aGlzLl9jaGVja1dyYXBwaW5nKCksdGhpcy5fdGV4dHVyZT1nbC5jcmVhdGVUZXh0dXJlKCksXCJ2aWRlb1wiPT09dGhpcy5fc291cmNlVHlwZT8odGhpcy5faXNUZXh0dXJlUmVhZHk9ITEsX3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX2xvb3AoKX0pKTp0aGlzLl91cGxvYWRUZXh0dXJlKCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhHTFRleHR1cmUsW3trZXk6XCJfbG9vcFwiLHZhbHVlOmZ1bmN0aW9uKCl7ND09dGhpcy5fc291cmNlLnJlYWR5U3RhdGUmJih0aGlzLl9pc1RleHR1cmVSZWFkeT0hMCx0aGlzLl91cGxvYWRUZXh0dXJlKCkpfX0se2tleTpcIl91cGxvYWRUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsITApLHRoaXMuX2lzU291cmNlSHRtbEVsZW1lbnQoKT9nbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsMCx0aGlzLl9wYXJhbXMuaW50ZXJuYWxGb3JtYXQsdGhpcy5fcGFyYW1zLmZvcm1hdCx0aGlzLl90ZXhlbFR5cGUsdGhpcy5fc291cmNlKTpnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsMCx0aGlzLl9wYXJhbXMuaW50ZXJuYWxGb3JtYXQsdGhpcy5fd2lkdGgsdGhpcy5faGVpZ2h0LDAsdGhpcy5fcGFyYW1zLmZvcm1hdCx0aGlzLl90ZXhlbFR5cGUsdGhpcy5fc291cmNlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX3BhcmFtcy5tYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fcGFyYW1zLm1pbkZpbHRlciksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX3BhcmFtcy53cmFwUyksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX3BhcmFtcy53cmFwVCksZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLHRoaXMuX3BhcmFtcy5wcmVtdWx0aXBseUFscGhhKSx0aGlzLl9wYXJhbXMuYW5pc290cm9weT4wKXt2YXIgZXh0PV9HTFRvb2wyLmRlZmF1bHQuZ2V0RXh0ZW5zaW9uKFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpO2lmKGV4dCl7dmFyIG1heD1nbC5nZXRQYXJhbWV0ZXIoZXh0Lk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCksbGV2ZWw9TWF0aC5taW4obWF4LHRoaXMuX3BhcmFtcy5hbmlzb3Ryb3B5KTtnbC50ZXhQYXJhbWV0ZXJmKGdsLlRFWFRVUkVfMkQsZXh0LlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULGxldmVsKX19dGhpcy5fZ2VuZXJhdGVNaXBtYXAmJmdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9fSx7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKGluZGV4KXt2b2lkIDA9PT1pbmRleCYmKGluZGV4PTApLF9HTFRvb2wyLmRlZmF1bHQuc2hhZGVyJiYoZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCtpbmRleCksdGhpcy5faXNUZXh0dXJlUmVhZHk/Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKTpnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELEdMVGV4dHVyZS5ibGFja1RleHR1cmUoKS50ZXh0dXJlKSx0aGlzLl9iaW5kSW5kZXg9aW5kZXgpfX0se2tleTpcInVwZGF0ZVRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbihtU291cmNlKXt0aGlzLl9zb3VyY2U9bVNvdXJjZSx0aGlzLl9jaGVja1NvdXJjZSgpLHRoaXMuX3VwbG9hZFRleHR1cmUoKX19LHtrZXk6XCJnZW5lcmF0ZU1pcG1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZ2VuZXJhdGVNaXBtYXAmJihnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCkpfX0se2tleTpcInNob3dQYXJhbWV0ZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIlNvdXJjZSB0eXBlIDogXCIsX1dlYmdsTnVtYmVyMi5kZWZhdWx0W3RoaXMuX3NvdXJjZVR5cGVdfHx0aGlzLl9zb3VyY2VUeXBlKSxjb25zb2xlLmxvZyhcIlRleGVsIHR5cGU6XCIsX1dlYmdsTnVtYmVyMi5kZWZhdWx0W3RoaXMudGV4ZWxUeXBlXSksY29uc29sZS5sb2coXCJEaW1lbnNpb24gOlwiLHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCk7Zm9yKHZhciBzIGluIHRoaXMuX3BhcmFtcyljb25zb2xlLmxvZyhzLF9XZWJnbE51bWJlcjIuZGVmYXVsdFt0aGlzLl9wYXJhbXNbc11dfHx0aGlzLl9wYXJhbXNbc10pO2NvbnNvbGUubG9nKFwiTWlwbWFwcGluZyA6XCIsdGhpcy5fZ2VuZXJhdGVNaXBtYXApfX0se2tleTpcIl9nZXREaW1lbnNpb25cIix2YWx1ZTpmdW5jdGlvbihtU291cmNlLG1XaWR0aCxtSGVpZ2h0KXttU291cmNlPyh0aGlzLl93aWR0aD1tU291cmNlLndpZHRofHxtU291cmNlLnZpZGVvV2lkdGgsdGhpcy5faGVpZ2h0PW1Tb3VyY2UuaGVpZ2h0fHxtU291cmNlLnZpZGVvV2lkdGgsdGhpcy5fd2lkdGg9dGhpcy5fd2lkdGh8fG1XaWR0aCx0aGlzLl9oZWlnaHQ9dGhpcy5faGVpZ2h0fHxtSGVpZ2h0LHRoaXMuX3dpZHRoJiZ0aGlzLl9oZWlnaHR8fCh0aGlzLl93aWR0aD10aGlzLl9oZWlnaHQ9TWF0aC5zcXJ0KG1Tb3VyY2UubGVuZ3RoLzQpKSk6KHRoaXMuX3dpZHRoPW1XaWR0aCx0aGlzLl9oZWlnaHQ9bUhlaWdodCl9fSx7a2V5OlwiX2NoZWNrU291cmNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9zb3VyY2UmJih0aGlzLl9zb3VyY2VUeXBlPT09X0dMVG9vbDIuZGVmYXVsdC5VTlNJR05FRF9CWVRFP3RoaXMuX3NvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fCh0aGlzLl9zb3VyY2U9bmV3IFVpbnQ4QXJyYXkodGhpcy5fc291cmNlKSk6dGhpcy5fc291cmNlVHlwZT09PV9HTFRvb2wyLmRlZmF1bHQuRkxPQVQmJih0aGlzLl9zb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fCh0aGlzLl9zb3VyY2U9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9zb3VyY2UpKSkpfX0se2tleTpcIl9nZXRUZXhlbFR5cGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1NvdXJjZUh0bWxFbGVtZW50KCk/X0dMVG9vbDIuZGVmYXVsdC5VTlNJR05FRF9CWVRFOl9HTFRvb2wyLmRlZmF1bHRbX1dlYmdsTnVtYmVyMi5kZWZhdWx0W3RoaXMuX3NvdXJjZVR5cGVdXXx8dGhpcy5fc291cmNlVHlwZX19LHtrZXk6XCJfY2hlY2tNaXBtYXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2dlbmVyYXRlTWlwbWFwPXRoaXMuX3BhcmFtcy5taXBtYXAsaXNQb3dlck9mVHdvKHRoaXMuX3dpZHRoKSYmaXNQb3dlck9mVHdvKHRoaXMuX2hlaWdodCl8fCh0aGlzLl9nZW5lcmF0ZU1pcG1hcD0hMSksLTE9PV9XZWJnbE51bWJlcjIuZGVmYXVsdFt0aGlzLl9wYXJhbXMubWluRmlsdGVyXS5pbmRleE9mKFwiTUlQTUFQXCIpJiYodGhpcy5fZ2VuZXJhdGVNaXBtYXA9ITEpfX0se2tleTpcIl9jaGVja1dyYXBwaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9nZW5lcmF0ZU1pcG1hcHx8KHRoaXMuX3BhcmFtcy53cmFwUz1fR0xUb29sMi5kZWZhdWx0LkNMQU1QX1RPX0VER0UsdGhpcy5fcGFyYW1zLndyYXBUPV9HTFRvb2wyLmRlZmF1bHQuQ0xBTVBfVE9fRURHRSl9fSx7a2V5OlwiX2lzU291cmNlSHRtbEVsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiaW1hZ2VcIj09PXRoaXMuX3NvdXJjZVR5cGV8fFwidmlkZW9cIj09PXRoaXMuX3NvdXJjZVR5cGV8fFwiY2FudmFzXCI9PT10aGlzLl9zb3VyY2VUeXBlfX0se2tleTpcIm1pbkZpbHRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJhbXMubWluRmlsdGVyfSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9wYXJhbXMubWluRmlsdGVyPW1WYWx1ZSx0aGlzLl9jaGVja01pcG1hcCgpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9wYXJhbXMubWluRmlsdGVyKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpLHRoaXMuZ2VuZXJhdGVNaXBtYXAoKX19LHtrZXk6XCJtYWdGaWx0ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyYW1zLm1pbkZpbHRlcn0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fcGFyYW1zLm1hZ0ZpbHRlcj1tVmFsdWUsZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX3BhcmFtcy5tYWdGaWx0ZXIpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9fSx7a2V5Olwid3JhcFNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyYW1zLndyYXBTfSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9wYXJhbXMud3JhcFM9bVZhbHVlLHRoaXMuX2NoZWNrV3JhcHBpbmcoKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9wYXJhbXMud3JhcFMpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9fSx7a2V5Olwid3JhcFRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyYW1zLndyYXBUfSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9wYXJhbXMud3JhcFQ9bVZhbHVlLHRoaXMuX2NoZWNrV3JhcHBpbmcoKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9wYXJhbXMud3JhcFQpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9fSx7a2V5OlwidGV4ZWxUeXBlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleGVsVHlwZX19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVpZ2h0fX0se2tleTpcInRleHR1cmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX19LHtrZXk6XCJpc1RleHR1cmVSZWFkeVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1RleHR1cmVSZWFkeX19XSksR0xUZXh0dXJlfSgpLF93aGl0ZVRleHR1cmU9dm9pZCAwLF9ncmV5VGV4dHVyZT12b2lkIDAsX2JsYWNrVGV4dHVyZT12b2lkIDA7R0xUZXh0dXJlLndoaXRlVGV4dHVyZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PV93aGl0ZVRleHR1cmUpe3ZhciBjYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtjYW52YXMud2lkdGg9Y2FudmFzLmhlaWdodD0yO3ZhciBjdHg9Y2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtjdHguZmlsbFN0eWxlPVwiI2ZmZlwiLGN0eC5maWxsUmVjdCgwLDAsMiwyKSxfd2hpdGVUZXh0dXJlPW5ldyBHTFRleHR1cmUoY2FudmFzKX1yZXR1cm4gX3doaXRlVGV4dHVyZX0sR0xUZXh0dXJlLmdyZXlUZXh0dXJlPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09X2dyZXlUZXh0dXJlKXt2YXIgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Y2FudmFzLndpZHRoPWNhbnZhcy5oZWlnaHQ9Mjt2YXIgY3R4PWNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7Y3R4LmZpbGxTdHlsZT1cInJnYigxMjcsIDEyNywgMTI3KVwiLGN0eC5maWxsUmVjdCgwLDAsMiwyKSxfZ3JleVRleHR1cmU9bmV3IEdMVGV4dHVyZShjYW52YXMpfXJldHVybiBfZ3JleVRleHR1cmV9LEdMVGV4dHVyZS5ibGFja1RleHR1cmU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1fYmxhY2tUZXh0dXJlKXt2YXIgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Y2FudmFzLndpZHRoPWNhbnZhcy5oZWlnaHQ9Mjt2YXIgY3R4PWNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7Y3R4LmZpbGxTdHlsZT1cInJnYigwLCAwLCAwKVwiLGN0eC5maWxsUmVjdCgwLDAsMiwyKSxfYmxhY2tUZXh0dXJlPW5ldyBHTFRleHR1cmUoY2FudmFzKX1yZXR1cm4gX2JsYWNrVGV4dHVyZX0sZXhwb3J0cy5kZWZhdWx0PUdMVGV4dHVyZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9wYXJzZURkcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDU1KSxfcGFyc2VEZHMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlRGRzKSxnbD12b2lkIDAsR0xDdWJlVGV4dHVyZT1mdW5jdGlvbigpe2Z1bmN0aW9uIEdMQ3ViZVRleHR1cmUobVNvdXJjZSl7dmFyIG1QYXJhbWV0ZXJzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpc0N1YmVUZXh0dXJlPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYoX2NsYXNzQ2FsbENoZWNrKHRoaXMsR0xDdWJlVGV4dHVyZSksZ2w9X0dMVG9vbDIuZGVmYXVsdC5nbCxpc0N1YmVUZXh0dXJlKXJldHVybiB2b2lkKHRoaXMudGV4dHVyZT1tU291cmNlKTt2YXIgaGFzTWlwbWFwcz1tU291cmNlLmxlbmd0aD42O21Tb3VyY2VbMF0ubWlwbWFwQ291bnQmJihoYXNNaXBtYXBzPW1Tb3VyY2VbMF0ubWlwbWFwQ291bnQ+MSksdGhpcy50ZXh0dXJlPWdsLmNyZWF0ZVRleHR1cmUoKSx0aGlzLm1hZ0ZpbHRlcj1tUGFyYW1ldGVycy5tYWdGaWx0ZXJ8fGdsLkxJTkVBUix0aGlzLm1pbkZpbHRlcj1tUGFyYW1ldGVycy5taW5GaWx0ZXJ8fGdsLkxJTkVBUl9NSVBNQVBfTElORUFSLHRoaXMud3JhcFM9bVBhcmFtZXRlcnMud3JhcFN8fGdsLkNMQU1QX1RPX0VER0UsdGhpcy53cmFwVD1tUGFyYW1ldGVycy53cmFwVHx8Z2wuQ0xBTVBfVE9fRURHRSxoYXNNaXBtYXBzfHx0aGlzLm1pbkZpbHRlciE9Z2wuTElORUFSX01JUE1BUF9MSU5FQVJ8fCh0aGlzLm1pbkZpbHRlcj1nbC5MSU5FQVIpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsdGhpcy50ZXh0dXJlKTt2YXIgdGFyZ2V0cz1bZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YLGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCxnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ksZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZLGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWixnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pdLG51bUxldmVscz0xLGluZGV4PTA7aWYobnVtTGV2ZWxzPW1Tb3VyY2UubGVuZ3RoLzYsdGhpcy5udW1MZXZlbHM9bnVtTGV2ZWxzLGhhc01pcG1hcHMpZm9yKHZhciBqPTA7ajw2O2orKylmb3IodmFyIGk9MDtpPG51bUxldmVscztpKyspZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwhMSksaW5kZXg9aipudW1MZXZlbHMraSxtU291cmNlW2luZGV4XS5zaGFwZT9nbC50ZXhJbWFnZTJEKHRhcmdldHNbal0saSxnbC5SR0JBLG1Tb3VyY2VbaW5kZXhdLnNoYXBlWzBdLG1Tb3VyY2VbaW5kZXhdLnNoYXBlWzFdLDAsZ2wuUkdCQSxnbC5GTE9BVCxtU291cmNlW2luZGV4XS5kYXRhKTpnbC50ZXhJbWFnZTJEKHRhcmdldHNbal0saSxnbC5SR0JBLGdsLlJHQkEsZ2wuVU5TSUdORURfQllURSxtU291cmNlW2luZGV4XSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLGdsLlRFWFRVUkVfV1JBUF9TLHRoaXMud3JhcFMpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX1dSQVBfVCx0aGlzLndyYXBUKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMubWFnRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMubWluRmlsdGVyKTtlbHNle2Zvcih2YXIgX2luZGV4PTAsX2o9MDtfajw2O19qKyspX2luZGV4PV9qKm51bUxldmVscyxnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCExKSxtU291cmNlW19pbmRleF0uc2hhcGU/Z2wudGV4SW1hZ2UyRCh0YXJnZXRzW19qXSwwLGdsLlJHQkEsbVNvdXJjZVtfaW5kZXhdLnNoYXBlWzBdLG1Tb3VyY2VbX2luZGV4XS5zaGFwZVsxXSwwLGdsLlJHQkEsZ2wuRkxPQVQsbVNvdXJjZVtfaW5kZXhdLmRhdGEpOmdsLnRleEltYWdlMkQodGFyZ2V0c1tfal0sMCxnbC5SR0JBLGdsLlJHQkEsZ2wuVU5TSUdORURfQllURSxtU291cmNlW19pbmRleF0pLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX1dSQVBfUyx0aGlzLndyYXBTKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy53cmFwVCksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLGdsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLm1hZ0ZpbHRlciksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLGdsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLm1pbkZpbHRlcik7Z2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV9DVUJFX01BUCl9Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEdMQ3ViZVRleHR1cmUsW3trZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgaW5kZXg9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7X0dMVG9vbDIuZGVmYXVsdC5zaGFkZXImJihnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwK2luZGV4KSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLHRoaXMudGV4dHVyZSksZ2wudW5pZm9ybTFpKF9HTFRvb2wyLmRlZmF1bHQuc2hhZGVyLnVuaWZvcm1UZXh0dXJlc1tpbmRleF0saW5kZXgpLHRoaXMuX2JpbmRJbmRleD1pbmRleCl9fSx7a2V5OlwidW5iaW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXtnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpfX1dKSxHTEN1YmVUZXh0dXJlfSgpO0dMQ3ViZVRleHR1cmUucGFyc2VERFM9ZnVuY3Rpb24obUFycmF5QnVmZmVyKXt2YXIgZGRzSW5mb3M9KDAsX3BhcnNlRGRzMi5kZWZhdWx0KShtQXJyYXlCdWZmZXIpLGZsYWdzPWRkc0luZm9zLmZsYWdzLGhlYWRlcj1uZXcgSW50MzJBcnJheShtQXJyYXlCdWZmZXIsMCwzMSksbWlwbWFwQ291bnQ9MTsxMzEwNzImZmxhZ3MmJihtaXBtYXBDb3VudD1NYXRoLm1heCgxLGhlYWRlcls3XSkpO3ZhciBzb3VyY2VzPWRkc0luZm9zLmltYWdlcy5tYXAoZnVuY3Rpb24oaW1nKXtyZXR1cm57ZGF0YTpuZXcgRmxvYXQzMkFycmF5KG1BcnJheUJ1ZmZlci5zbGljZShpbWcub2Zmc2V0LGltZy5vZmZzZXQraW1nLmxlbmd0aCkpLHNoYXBlOmltZy5zaGFwZSxtaXBtYXBDb3VudDptaXBtYXBDb3VudH19KTtyZXR1cm4gbmV3IEdMQ3ViZVRleHR1cmUoc291cmNlcyl9LGV4cG9ydHMuZGVmYXVsdD1HTEN1YmVUZXh0dXJlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxzdXBwb3J0c0N1c3RvbUV2ZW50cz0hMDt0cnl7ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtudWxsfWNhdGNoKGUpe3N1cHBvcnRzQ3VzdG9tRXZlbnRzPSExfXZhciBFdmVudERpc3BhdGNoZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFdmVudERpc3BhdGNoZXIoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxFdmVudERpc3BhdGNoZXIpLHRoaXMuX2V2ZW50TGlzdGVuZXJzPXt9fXJldHVybiBfY3JlYXRlQ2xhc3MoRXZlbnREaXNwYXRjaGVyLFt7a2V5OlwiYWRkRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudFR5cGUsYUZ1bmN0aW9uKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2V2ZW50TGlzdGVuZXJzJiZ2b2lkIDAhPT10aGlzLl9ldmVudExpc3RlbmVyc3x8KHRoaXMuX2V2ZW50TGlzdGVuZXJzPXt9KSx0aGlzLl9ldmVudExpc3RlbmVyc1thRXZlbnRUeXBlXXx8KHRoaXMuX2V2ZW50TGlzdGVuZXJzW2FFdmVudFR5cGVdPVtdKSx0aGlzLl9ldmVudExpc3RlbmVyc1thRXZlbnRUeXBlXS5wdXNoKGFGdW5jdGlvbiksdGhpc319LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudFR5cGUsYUZ1bmN0aW9uKXtyZXR1cm4gdGhpcy5hZGRFdmVudExpc3RlbmVyKGFFdmVudFR5cGUsYUZ1bmN0aW9uKX19LHtrZXk6XCJyZW1vdmVFdmVudExpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oYUV2ZW50VHlwZSxhRnVuY3Rpb24pe251bGwhPT10aGlzLl9ldmVudExpc3RlbmVycyYmdm9pZCAwIT09dGhpcy5fZXZlbnRMaXN0ZW5lcnN8fCh0aGlzLl9ldmVudExpc3RlbmVycz17fSk7dmFyIGN1cnJlbnRBcnJheT10aGlzLl9ldmVudExpc3RlbmVyc1thRXZlbnRUeXBlXTtpZih2b2lkIDA9PT1jdXJyZW50QXJyYXkpcmV0dXJuIHRoaXM7Zm9yKHZhciBjdXJyZW50QXJyYXlMZW5ndGg9Y3VycmVudEFycmF5Lmxlbmd0aCxpPTA7aTxjdXJyZW50QXJyYXlMZW5ndGg7aSsrKWN1cnJlbnRBcnJheVtpXT09PWFGdW5jdGlvbiYmKGN1cnJlbnRBcnJheS5zcGxpY2UoaSwxKSxpLS0sY3VycmVudEFycmF5TGVuZ3RoLS0pO3JldHVybiB0aGlzfX0se2tleTpcIm9mZlwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudFR5cGUsYUZ1bmN0aW9uKXtyZXR1cm4gdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGFFdmVudFR5cGUsYUZ1bmN0aW9uKX19LHtrZXk6XCJkaXNwYXRjaEV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oYUV2ZW50KXtudWxsIT09dGhpcy5fZXZlbnRMaXN0ZW5lcnMmJnZvaWQgMCE9PXRoaXMuX2V2ZW50TGlzdGVuZXJzfHwodGhpcy5fZXZlbnRMaXN0ZW5lcnM9e30pO3ZhciBldmVudFR5cGU9YUV2ZW50LnR5cGU7dHJ5e251bGw9PT1hRXZlbnQudGFyZ2V0JiYoYUV2ZW50LnRhcmdldD10aGlzKSxhRXZlbnQuY3VycmVudFRhcmdldD10aGlzfWNhdGNoKHRoZUVycm9yKXt2YXIgbmV3RXZlbnQ9e3R5cGU6ZXZlbnRUeXBlLGRldGFpbDphRXZlbnQuZGV0YWlsLGRpc3BhdGNoZXI6dGhpc307cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCl9dmFyIGN1cnJlbnRFdmVudExpc3RlbmVycz10aGlzLl9ldmVudExpc3RlbmVyc1tldmVudFR5cGVdO2lmKG51bGwhPT1jdXJyZW50RXZlbnRMaXN0ZW5lcnMmJnZvaWQgMCE9PWN1cnJlbnRFdmVudExpc3RlbmVycylmb3IodmFyIGN1cnJlbnRBcnJheT10aGlzLl9jb3B5QXJyYXkoY3VycmVudEV2ZW50TGlzdGVuZXJzKSxjdXJyZW50QXJyYXlMZW5ndGg9Y3VycmVudEFycmF5Lmxlbmd0aCxpPTA7aTxjdXJyZW50QXJyYXlMZW5ndGg7aSsrKXt2YXIgY3VycmVudEZ1bmN0aW9uPWN1cnJlbnRBcnJheVtpXTtjdXJyZW50RnVuY3Rpb24uY2FsbCh0aGlzLGFFdmVudCl9cmV0dXJuIHRoaXN9fSx7a2V5OlwiZGlzcGF0Y2hDdXN0b21FdmVudFwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudFR5cGUsYURldGFpbCl7dmFyIG5ld0V2ZW50PXZvaWQgMDtyZXR1cm4gc3VwcG9ydHNDdXN0b21FdmVudHM/KG5ld0V2ZW50PWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIiksbmV3RXZlbnQuZGlzcGF0Y2hlcj10aGlzLG5ld0V2ZW50LmluaXRDdXN0b21FdmVudChhRXZlbnRUeXBlLCExLCExLGFEZXRhaWwpKTpuZXdFdmVudD17dHlwZTphRXZlbnRUeXBlLGRldGFpbDphRGV0YWlsLGRpc3BhdGNoZXI6dGhpc30sdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KX19LHtrZXk6XCJ0cmlnZ2VyXCIsdmFsdWU6ZnVuY3Rpb24oYUV2ZW50VHlwZSxhRGV0YWlsKXtyZXR1cm4gdGhpcy5kaXNwYXRjaEN1c3RvbUV2ZW50KGFFdmVudFR5cGUsYURldGFpbCl9fSx7a2V5OlwiX2Rlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLl9ldmVudExpc3RlbmVycyl7Zm9yKHZhciBvYmplY3ROYW1lIGluIHRoaXMuX2V2ZW50TGlzdGVuZXJzKWlmKHRoaXMuX2V2ZW50TGlzdGVuZXJzLmhhc093blByb3BlcnR5KG9iamVjdE5hbWUpKXtmb3IodmFyIGN1cnJlbnRBcnJheT10aGlzLl9ldmVudExpc3RlbmVyc1tvYmplY3ROYW1lXSxjdXJyZW50QXJyYXlMZW5ndGg9Y3VycmVudEFycmF5Lmxlbmd0aCxpPTA7aTxjdXJyZW50QXJyYXlMZW5ndGg7aSsrKWN1cnJlbnRBcnJheVtpXT1udWxsO2RlbGV0ZSB0aGlzLl9ldmVudExpc3RlbmVyc1tvYmplY3ROYW1lXX10aGlzLl9ldmVudExpc3RlbmVycz1udWxsfX19LHtrZXk6XCJfY29weUFycmF5XCIsdmFsdWU6ZnVuY3Rpb24oYUFycmF5KXtmb3IodmFyIGN1cnJlbnRBcnJheT1uZXcgQXJyYXkoYUFycmF5Lmxlbmd0aCksY3VycmVudEFycmF5TGVuZ3RoPWN1cnJlbnRBcnJheS5sZW5ndGgsaT0wO2k8Y3VycmVudEFycmF5TGVuZ3RoO2krKyljdXJyZW50QXJyYXlbaV09YUFycmF5W2ldO3JldHVybiBjdXJyZW50QXJyYXl9fV0pLEV2ZW50RGlzcGF0Y2hlcn0oKTtleHBvcnRzLmRlZmF1bHQ9RXZlbnREaXNwYXRjaGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0Vhc2VOdW1iZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMyksX0Vhc2VOdW1iZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Vhc2VOdW1iZXIpLF9zY2hlZHVsaW5nPV9fd2VicGFja19yZXF1aXJlX18oNiksX3NjaGVkdWxpbmcyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NjaGVkdWxpbmcpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLGdldE1vdXNlPWZ1bmN0aW9uKG1FdmVudCxtVGFyZ2V0KXt2YXIgbz1tVGFyZ2V0fHx7fTtyZXR1cm4gbUV2ZW50LnRvdWNoZXM/KG8ueD1tRXZlbnQudG91Y2hlc1swXS5wYWdlWCxvLnk9bUV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpOihvLng9bUV2ZW50LmNsaWVudFgsby55PW1FdmVudC5jbGllbnRZKSxvfSxPcmJpdGFsQ29udHJvbD1mdW5jdGlvbigpe2Z1bmN0aW9uIE9yYml0YWxDb250cm9sKG1UYXJnZXQpe3ZhciBfdGhpcz10aGlzLG1MaXN0ZW5lclRhcmdldD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06d2luZG93LG1SYWRpdXM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjUwMDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxPcmJpdGFsQ29udHJvbCksdGhpcy5fdGFyZ2V0PW1UYXJnZXQsdGhpcy5fbGlzdGVuZXJUYXJnZXQ9bUxpc3RlbmVyVGFyZ2V0LHRoaXMuX21vdXNlPXt9LHRoaXMuX3ByZU1vdXNlPXt9LHRoaXMuY2VudGVyPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLHRoaXMuX3VwPV9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwxLDApLHRoaXMucmFkaXVzPW5ldyBfRWFzZU51bWJlcjIuZGVmYXVsdChtUmFkaXVzKSx0aGlzLnBvc2l0aW9uPV9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLHRoaXMucmFkaXVzLnZhbHVlKSx0aGlzLnBvc2l0aW9uT2Zmc2V0PV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLHRoaXMuX3J4PW5ldyBfRWFzZU51bWJlcjIuZGVmYXVsdCgwKSx0aGlzLl9yeC5saW1pdCgtTWF0aC5QSS8yLE1hdGguUEkvMiksdGhpcy5fcnk9bmV3IF9FYXNlTnVtYmVyMi5kZWZhdWx0KDApLHRoaXMuX3ByZVJYPTAsdGhpcy5fcHJlUlk9MCx0aGlzLl9pc0xvY2tab29tPSExLHRoaXMuX2lzTG9ja1JvdGF0aW9uPSExLHRoaXMuX2lzSW52ZXJ0PSExLHRoaXMuc2Vuc2l0aXZpdHk9MSx0aGlzLl93aGVlbEJpbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbldoZWVsKGUpfSx0aGlzLl9kb3duQmluZD1mdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uRG93bihlKX0sdGhpcy5fbW92ZUJpbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbk1vdmUoZSl9LHRoaXMuX3VwQmluZD1mdW5jdGlvbigpe3JldHVybiBfdGhpcy5fb25VcCgpfSx0aGlzLmNvbm5lY3QoKSxfc2NoZWR1bGluZzIuZGVmYXVsdC5hZGRFRihmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fbG9vcCgpfSl9cmV0dXJuIF9jcmVhdGVDbGFzcyhPcmJpdGFsQ29udHJvbCxbe2tleTpcImNvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGlzY29ubmVjdCgpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsdGhpcy5fd2hlZWxCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIix0aGlzLl93aGVlbEJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9kb3duQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9kb3duQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdmVCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fbW92ZUJpbmQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLl91cEJpbmQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX3VwQmluZCl9fSx7a2V5OlwiZGlzY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIix0aGlzLl93aGVlbEJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLHRoaXMuX3doZWVsQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX2Rvd25CaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuX2Rvd25CaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5fbW92ZUJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLl9tb3ZlQmluZCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuX3VwQmluZCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fdXBCaW5kKX19LHtrZXk6XCJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbVZhbHVlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07dGhpcy5faXNMb2NrWm9vbT1tVmFsdWUsdGhpcy5faXNMb2NrUm90YXRpb249bVZhbHVlLHRoaXMuX2lzTW91c2VEb3duPSExfX0se2tleTpcImxvY2tab29tXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbVZhbHVlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07dGhpcy5faXNMb2NrWm9vbT1tVmFsdWV9fSx7a2V5OlwibG9ja1JvdGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbVZhbHVlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07dGhpcy5faXNMb2NrUm90YXRpb249bVZhbHVlfX0se2tleTpcImludmVyc2VDb250cm9sXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgaXNJbnZlcnQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTt0aGlzLl9pc0ludmVydD1pc0ludmVydH19LHtrZXk6XCJfb25Eb3duXCIsdmFsdWU6ZnVuY3Rpb24obUV2ZW50KXt0aGlzLl9pc0xvY2tSb3RhdGlvbnx8KHRoaXMuX2lzTW91c2VEb3duPSEwLGdldE1vdXNlKG1FdmVudCx0aGlzLl9tb3VzZSksZ2V0TW91c2UobUV2ZW50LHRoaXMuX3ByZU1vdXNlKSx0aGlzLl9wcmVSWD10aGlzLl9yeC50YXJnZXRWYWx1ZSx0aGlzLl9wcmVSWT10aGlzLl9yeS50YXJnZXRWYWx1ZSl9fSx7a2V5OlwiX29uTW92ZVwiLHZhbHVlOmZ1bmN0aW9uKG1FdmVudCl7aWYoIXRoaXMuX2lzTG9ja1JvdGF0aW9uJiYoZ2V0TW91c2UobUV2ZW50LHRoaXMuX21vdXNlKSxtRXZlbnQudG91Y2hlcyYmbUV2ZW50LnByZXZlbnREZWZhdWx0KCksdGhpcy5faXNNb3VzZURvd24pKXt2YXIgZGlmZlg9LSh0aGlzLl9tb3VzZS54LXRoaXMuX3ByZU1vdXNlLngpO3RoaXMuX2lzSW52ZXJ0JiYoZGlmZlgqPS0xKSx0aGlzLl9yeS52YWx1ZT10aGlzLl9wcmVSWS0uMDEqZGlmZlgqdGhpcy5zZW5zaXRpdml0eTt2YXIgZGlmZlk9LSh0aGlzLl9tb3VzZS55LXRoaXMuX3ByZU1vdXNlLnkpO3RoaXMuX2lzSW52ZXJ0JiYoZGlmZlkqPS0xKSx0aGlzLl9yeC52YWx1ZT10aGlzLl9wcmVSWC0uMDEqZGlmZlkqdGhpcy5zZW5zaXRpdml0eX19fSx7a2V5OlwiX29uVXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lzTG9ja1JvdGF0aW9ufHwodGhpcy5faXNNb3VzZURvd249ITEpfX0se2tleTpcIl9vbldoZWVsXCIsdmFsdWU6ZnVuY3Rpb24obUV2ZW50KXtpZighdGhpcy5faXNMb2NrWm9vbSl7dmFyIHc9bUV2ZW50LndoZWVsRGVsdGEsZD1tRXZlbnQuZGV0YWlsLHZhbHVlPTA7dmFsdWU9ZD93P3cvZC80MCpkPjA/MTotMTotZC8zOncvMTIwLHRoaXMucmFkaXVzLmFkZCgyKi12YWx1ZSl9fX0se2tleTpcIl9sb29wXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVQb3NpdGlvbigpLHRoaXMuX3RhcmdldCYmdGhpcy5fdXBkYXRlQ2FtZXJhKCl9fSx7a2V5OlwiX3VwZGF0ZVBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBvc2l0aW9uWzFdPU1hdGguc2luKHRoaXMuX3J4LnZhbHVlKSp0aGlzLnJhZGl1cy52YWx1ZTt2YXIgdHI9TWF0aC5jb3ModGhpcy5fcngudmFsdWUpKnRoaXMucmFkaXVzLnZhbHVlO3RoaXMucG9zaXRpb25bMF09TWF0aC5jb3ModGhpcy5fcnkudmFsdWUrLjUqTWF0aC5QSSkqdHIsdGhpcy5wb3NpdGlvblsyXT1NYXRoLnNpbih0aGlzLl9yeS52YWx1ZSsuNSpNYXRoLlBJKSp0cixfZ2xNYXRyaXgudmVjMy5hZGQodGhpcy5wb3NpdGlvbix0aGlzLnBvc2l0aW9uLHRoaXMucG9zaXRpb25PZmZzZXQpfX0se2tleTpcIl91cGRhdGVDYW1lcmFcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3RhcmdldC5sb29rQXQodGhpcy5wb3NpdGlvbix0aGlzLmNlbnRlcix0aGlzLl91cCl9fSx7a2V5OlwicnhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnh9fSx7a2V5OlwicnlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnl9fV0pLE9yYml0YWxDb250cm9sfSgpO2V4cG9ydHMuZGVmYXVsdD1PcmJpdGFsQ29udHJvbH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9DYW1lcmEyPV9fd2VicGFja19yZXF1aXJlX18oMTUpLF9DYW1lcmEzPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9DYW1lcmEyKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxDYW1lcmFPcnRobz1mdW5jdGlvbihfQ2FtZXJhKXtmdW5jdGlvbiBDYW1lcmFPcnRobygpe19jbGFzc0NhbGxDaGVjayh0aGlzLENhbWVyYU9ydGhvKTt2YXIgX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQ2FtZXJhT3J0aG8uX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2FtZXJhT3J0aG8pKS5jYWxsKHRoaXMpKSxleWU9X2dsTWF0cml4LnZlYzMuY2xvbmUoWzAsMCwxNV0pLGNlbnRlcj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx1cD1fZ2xNYXRyaXgudmVjMy5jbG9uZShbMCwtMSwwXSk7cmV0dXJuIF90aGlzLmxvb2tBdChleWUsY2VudGVyLHVwKSxfdGhpcy5vcnRobygxLC0xLDEsLTEpLF90aGlzfXJldHVybiBfaW5oZXJpdHMoQ2FtZXJhT3J0aG8sX0NhbWVyYSksX2NyZWF0ZUNsYXNzKENhbWVyYU9ydGhvLFt7a2V5Olwic2V0Qm91bmRhcnlcIix2YWx1ZTpmdW5jdGlvbihsZWZ0LHJpZ2h0LHRvcCxib3R0b20pe3ZhciBuZWFyPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTouMSxmYXI9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjEwMDt0aGlzLm9ydGhvKGxlZnQscmlnaHQsdG9wLGJvdHRvbSxuZWFyLGZhcil9fSx7a2V5Olwib3J0aG9cIix2YWx1ZTpmdW5jdGlvbihsZWZ0LHJpZ2h0LHRvcCxib3R0b20pe3ZhciBuZWFyPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTouMSxmYXI9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjEwMDt0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PXJpZ2h0LHRoaXMudG9wPXRvcCx0aGlzLmJvdHRvbT1ib3R0b20sbWF0NC5vcnRobyh0aGlzLl9wcm9qZWN0aW9uLGxlZnQscmlnaHQsdG9wLGJvdHRvbSxuZWFyLGZhcil9fV0pLENhbWVyYU9ydGhvfShfQ2FtZXJhMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9Q2FtZXJhT3J0aG99LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLE9iamVjdDNEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gT2JqZWN0M0QoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxPYmplY3QzRCksdGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl94PTAsdGhpcy5feT0wLHRoaXMuX3o9MCx0aGlzLl9zeD0xLHRoaXMuX3N5PTEsdGhpcy5fc3o9MSx0aGlzLl9yeD0wLHRoaXMuX3J5PTAsdGhpcy5fcno9MCx0aGlzLl9wb3NpdGlvbj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLl9zY2FsZT1fZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDEsMSwxKSx0aGlzLl9yb3RhdGlvbj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLl9tYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbWF0cml4Um90YXRpb249X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbWF0cml4U2NhbGU9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbWF0cml4VHJhbnNsYXRpb249X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbWF0cml4UXVhdGVybmlvbj1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0aGlzLl9xdWF0PV9nbE1hdHJpeC5xdWF0LmNyZWF0ZSgpfXJldHVybiBfY3JlYXRlQ2xhc3MoT2JqZWN0M0QsW3trZXk6XCJfdXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtfZ2xNYXRyaXgudmVjMy5zZXQodGhpcy5fc2NhbGUsdGhpcy5fc3gsdGhpcy5fc3ksdGhpcy5fc3opLF9nbE1hdHJpeC52ZWMzLnNldCh0aGlzLl9yb3RhdGlvbix0aGlzLl9yeCx0aGlzLl9yeSx0aGlzLl9yeiksX2dsTWF0cml4LnZlYzMuc2V0KHRoaXMuX3Bvc2l0aW9uLHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KSxfZ2xNYXRyaXgubWF0NC5pZGVudGl0eSh0aGlzLl9tYXRyaXhUcmFuc2xhdGlvbix0aGlzLl9tYXRyaXhUcmFuc2xhdGlvbiksX2dsTWF0cml4Lm1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4U2NhbGUsdGhpcy5fbWF0cml4U2NhbGUpLF9nbE1hdHJpeC5tYXQ0LmlkZW50aXR5KHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uKSxfZ2xNYXRyaXgubWF0NC5yb3RhdGVYKHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX3J4KSxfZ2xNYXRyaXgubWF0NC5yb3RhdGVZKHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX3J5KSxfZ2xNYXRyaXgubWF0NC5yb3RhdGVaKHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uLHRoaXMuX3J6KSxfZ2xNYXRyaXgubWF0NC5mcm9tUXVhdCh0aGlzLl9tYXRyaXhRdWF0ZXJuaW9uLHRoaXMuX3F1YXQpLF9nbE1hdHJpeC5tYXQ0Lm11bCh0aGlzLl9tYXRyaXhSb3RhdGlvbix0aGlzLl9tYXRyaXhRdWF0ZXJuaW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uKSxfZ2xNYXRyaXgubWF0NC5zY2FsZSh0aGlzLl9tYXRyaXhTY2FsZSx0aGlzLl9tYXRyaXhTY2FsZSx0aGlzLl9zY2FsZSksX2dsTWF0cml4Lm1hdDQudHJhbnNsYXRlKHRoaXMuX21hdHJpeFRyYW5zbGF0aW9uLHRoaXMuX21hdHJpeFRyYW5zbGF0aW9uLHRoaXMuX3Bvc2l0aW9uKSxfZ2xNYXRyaXgubWF0NC5tdWwodGhpcy5fbWF0cml4LHRoaXMuX21hdHJpeFRyYW5zbGF0aW9uLHRoaXMuX21hdHJpeFJvdGF0aW9uKSxfZ2xNYXRyaXgubWF0NC5tdWwodGhpcy5fbWF0cml4LHRoaXMuX21hdHJpeCx0aGlzLl9tYXRyaXhTY2FsZSksdGhpcy5fbmVlZFVwZGF0ZT0hMX19LHtrZXk6XCJzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uXCIsdmFsdWU6ZnVuY3Rpb24obVF1YXQpe19nbE1hdHJpeC5xdWF0LmNvcHkodGhpcy5fcXVhdCxtUXVhdCksdGhpcy5fbmVlZFVwZGF0ZT0hMH19LHtrZXk6XCJtYXRyaXhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmVlZFVwZGF0ZSYmdGhpcy5fdXBkYXRlKCksdGhpcy5fbWF0cml4fX0se2tleTpcInhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl94PW1WYWx1ZX19LHtrZXk6XCJ5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX25lZWRVcGRhdGU9ITAsdGhpcy5feT1tVmFsdWV9fSx7a2V5OlwielwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96fSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3o9bVZhbHVlfX0se2tleTpcInNjYWxlWFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeH0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl9zeD1tVmFsdWV9fSx7a2V5Olwic2NhbGVZXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5fSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3N5PW1WYWx1ZX19LHtrZXk6XCJzY2FsZVpcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3p9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX25lZWRVcGRhdGU9ITAsdGhpcy5fc3o9bVZhbHVlfX0se2tleTpcInJvdGF0aW9uWFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yeH0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl9yeD1tVmFsdWV9fSx7a2V5Olwicm90YXRpb25ZXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J5fSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3J5PW1WYWx1ZX19LHtrZXk6XCJyb3RhdGlvblpcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnp9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX25lZWRVcGRhdGU9ITAsdGhpcy5fcno9bVZhbHVlfX1dKSxPYmplY3QzRH0oKTtleHBvcnRzLmRlZmF1bHQ9T2JqZWN0M0R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX3NpbXBsZUNvbG9yPV9fd2VicGFja19yZXF1aXJlX18oMTApLF9zaW1wbGVDb2xvcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2ltcGxlQ29sb3IpLF9iaWdUcmlhbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxfYmlnVHJpYW5nbGUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpZ1RyaWFuZ2xlKSxfZ2VuZXJhbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDMzKSxfZ2VuZXJhbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhbCksX2NvcHk9X193ZWJwYWNrX3JlcXVpcmVfXygxOSksX2NvcHkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvcHkpLF9iYXNpYz1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxfYmFzaWMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jhc2ljKSxfc2t5Ym94PV9fd2VicGFja19yZXF1aXJlX18oMzQpLF9za3lib3gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NreWJveCksX3NreWJveDM9X193ZWJwYWNrX3JlcXVpcmVfXygzNSksX3NreWJveDQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2t5Ym94MyksU2hhZGVyTGlicz17c2ltcGxlQ29sb3JGcmFnOl9zaW1wbGVDb2xvcjIuZGVmYXVsdCxiaWdUcmlhbmdsZVZlcnQ6X2JpZ1RyaWFuZ2xlMi5kZWZhdWx0LGdlbmVyYWxWZXJ0Ol9nZW5lcmFsMi5kZWZhdWx0LGNvcHlGcmFnOl9jb3B5Mi5kZWZhdWx0LGJhc2ljVmVydDpfYmFzaWMyLmRlZmF1bHQsc2t5Ym94VmVydDpfc2t5Ym94Mi5kZWZhdWx0LHNreWJveEZyYWc6X3NreWJveDQuZGVmYXVsdH07ZXhwb3J0cy5kZWZhdWx0PVNoYWRlckxpYnN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGdlbmVyYWxXaXRoTm9ybWFsLnZlcnRcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIEdFTkVSQUxfVkVSVEVYXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVOb3JtYWxNYXRyaXg7XFxuXFxudW5pZm9ybSB2ZWMzIHBvc2l0aW9uO1xcbnVuaWZvcm0gdmVjMyBzY2FsZTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdHZlYzMgcG9zICAgICAgPSBhVmVydGV4UG9zaXRpb24gKiBzY2FsZTtcXG5cXHRwb3MgICAgICAgICAgICs9IHBvc2l0aW9uO1xcblxcdGdsX1Bvc2l0aW9uICAgPSB1UHJvamVjdGlvbk1hdHJpeCAqIHVWaWV3TWF0cml4ICogdU1vZGVsTWF0cml4ICogdmVjNChwb3MsIDEuMCk7XFxuXFx0XFxuXFx0dlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuXFx0dk5vcm1hbCAgICAgICA9IG5vcm1hbGl6ZSh1Tm9ybWFsTWF0cml4ICogYU5vcm1hbCk7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBiYXNpYy52ZXJ0XFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBTS1lCT1hfVkVSVEVYXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMzIHZWZXJ0ZXg7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXHRtYXQ0IG1hdFZpZXcgPSB1Vmlld01hdHJpeDtcXG5cXHRtYXRWaWV3WzNdWzBdID0gMC4wO1xcblxcdG1hdFZpZXdbM11bMV0gPSAwLjA7XFxuXFx0bWF0Vmlld1szXVsyXSA9IDAuMDtcXG5cXHRcXG5cXHRnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogbWF0VmlldyAqIHVNb2RlbE1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xcblxcdHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcblxcdFxcblxcdHZWZXJ0ZXggPSBhVmVydGV4UG9zaXRpb247XFxuXFx0dk5vcm1hbCA9IGFOb3JtYWw7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBiYXNpYy5mcmFnXFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBTS1lCT1hfRlJBR01FTlRcXG5cXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbnVuaWZvcm0gc2FtcGxlckN1YmUgdGV4dHVyZTtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdlZlcnRleDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlQ3ViZSh0ZXh0dXJlLCB2VmVydGV4KTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLFBhc3NNYWNybz1mdW5jdGlvbigpe2Z1bmN0aW9uIFBhc3NNYWNybygpe19jbGFzc0NhbGxDaGVjayh0aGlzLFBhc3NNYWNybyksdGhpcy5fcGFzc2VzPVtdfXJldHVybiBfY3JlYXRlQ2xhc3MoUGFzc01hY3JvLFt7a2V5OlwiYWRkUGFzc1wiLHZhbHVlOmZ1bmN0aW9uKHBhc3Mpe3RoaXMuX3Bhc3Nlcy5wdXNoKHBhc3MpfX0se2tleTpcInBhc3Nlc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXNzZXN9fV0pLFBhc3NNYWNyb30oKTtleHBvcnRzLmRlZmF1bHQ9UGFzc01hY3JvfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9QYXNzQmx1ckJhc2UyPV9fd2VicGFja19yZXF1aXJlX18oMzgpLF9QYXNzQmx1ckJhc2UzPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9QYXNzQmx1ckJhc2UyKSxQYXNzVkJsdXI9ZnVuY3Rpb24oX1Bhc3NCbHVyQmFzZSl7ZnVuY3Rpb24gUGFzc1ZCbHVyKCl7dmFyIG1RdWFsaXR5PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTo5LG1XaWR0aD1hcmd1bWVudHNbMV0sbUhlaWdodD1hcmd1bWVudHNbMl0sbVBhcmFtcz1hcmd1bWVudHNbM107cmV0dXJuIF9jbGFzc0NhbGxDaGVjayh0aGlzLFBhc3NWQmx1ciksX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoUGFzc1ZCbHVyLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFBhc3NWQmx1cikpLmNhbGwodGhpcyxtUXVhbGl0eSxbMCwxXSxtV2lkdGgsbUhlaWdodCxtUGFyYW1zKSl9cmV0dXJuIF9pbmhlcml0cyhQYXNzVkJsdXIsX1Bhc3NCbHVyQmFzZSksUGFzc1ZCbHVyfShfUGFzc0JsdXJCYXNlMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9UGFzc1ZCbHVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfUGFzczI9X193ZWJwYWNrX3JlcXVpcmVfXyg5KSxfUGFzczM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFzczIpLGZzQmx1cjU9X193ZWJwYWNrX3JlcXVpcmVfXyg3MyksZnNCbHVyOT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc0KSxmc0JsdXIxMz1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1KSxQYXNzQmx1ckJhc2U9ZnVuY3Rpb24oX1Bhc3Mpe2Z1bmN0aW9uIFBhc3NCbHVyQmFzZSgpe3ZhciBtUXVhbGl0eT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06OSxtRGlyZWN0aW9uPWFyZ3VtZW50c1sxXSxtV2lkdGg9YXJndW1lbnRzWzJdLG1IZWlnaHQ9YXJndW1lbnRzWzNdLG1QYXJhbXM9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOnt9O19jbGFzc0NhbGxDaGVjayh0aGlzLFBhc3NCbHVyQmFzZSk7dmFyIGZzPXZvaWQgMDtzd2l0Y2gobVF1YWxpdHkpe2Nhc2UgNTpkZWZhdWx0OmZzPWZzQmx1cjU7YnJlYWs7Y2FzZSA5OmZzPWZzQmx1cjk7YnJlYWs7Y2FzZSAxMzpmcz1mc0JsdXIxM312YXIgX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoUGFzc0JsdXJCYXNlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFBhc3NCbHVyQmFzZSkpLmNhbGwodGhpcyxmcyxtV2lkdGgsbUhlaWdodCxtUGFyYW1zKSk7cmV0dXJuIF90aGlzLnVuaWZvcm0oXCJ1RGlyZWN0aW9uXCIsbURpcmVjdGlvbiksX3RoaXMudW5pZm9ybShcInVSZXNvbHV0aW9uXCIsW19HTFRvb2wyLmRlZmF1bHQud2lkdGgsX0dMVG9vbDIuZGVmYXVsdC5oZWlnaHRdKSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKFBhc3NCbHVyQmFzZSxfUGFzcyksUGFzc0JsdXJCYXNlfShfUGFzczMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PVBhc3NCbHVyQmFzZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfUGFzc0JsdXJCYXNlMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM4KSxfUGFzc0JsdXJCYXNlMz1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfUGFzc0JsdXJCYXNlMiksUGFzc0hCbHVyPWZ1bmN0aW9uKF9QYXNzQmx1ckJhc2Upe2Z1bmN0aW9uIFBhc3NIQmx1cigpe3ZhciBtUXVhbGl0eT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06OSxtV2lkdGg9YXJndW1lbnRzWzFdLG1IZWlnaHQ9YXJndW1lbnRzWzJdLG1QYXJhbXM9YXJndW1lbnRzWzNdO3JldHVybiBfY2xhc3NDYWxsQ2hlY2sodGhpcyxQYXNzSEJsdXIpLF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKFBhc3NIQmx1ci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihQYXNzSEJsdXIpKS5jYWxsKHRoaXMsbVF1YWxpdHksWzEsMF0sbVdpZHRoLG1IZWlnaHQsbVBhcmFtcykpfXJldHVybiBfaW5oZXJpdHMoUGFzc0hCbHVyLF9QYXNzQmx1ckJhc2UpLFBhc3NIQmx1cn0oX1Bhc3NCbHVyQmFzZTMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PVBhc3NIQmx1cn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gZnhhYS5mcmFnXFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBGWEFBXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XFxuXFxuXFxuZmxvYXQgRlhBQV9TVUJQSVhfU0hJRlQgPSAxLjAvNC4wO1xcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NVUwgICAoMS4wIC8gOC4wKVxcbiNkZWZpbmUgRlhBQV9TUEFOX01BWCAgICAgOC4wXFxuXFxuXFxudmVjNCBhcHBseUZYQUEoc2FtcGxlcjJEIHRleCkge1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICB2ZWMyIGZyYWdDb29yZCA9IGdsX0ZyYWdDb29yZC54eTtcXG4gICAgdmVjMyByZ2JOVyA9IHRleHR1cmUyRCh0ZXgsIChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIC0xLjApKSAqIHVSZXNvbHV0aW9uKS54eXo7XFxuICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlMkQodGV4LCAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIC0xLjApKSAqIHVSZXNvbHV0aW9uKS54eXo7XFxuICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAxLjApKSAqIHVSZXNvbHV0aW9uKS54eXo7XFxuICAgIHZlYzMgcmdiU0UgPSB0ZXh0dXJlMkQodGV4LCAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIDEuMCkpICogdVJlc29sdXRpb24pLnh5ejtcXG4gICAgdmVjMyByZ2JNICA9IHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAgKiB1UmVzb2x1dGlvbikueHl6O1xcbiAgICB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpO1xcbiAgICBmbG9hdCBsdW1hTlcgPSBkb3QocmdiTlcsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU0UgPSBkb3QocmdiU0UsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTSAgPSBkb3QocmdiTSwgIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTWluID0gbWluKGx1bWFNLCBtaW4obWluKGx1bWFOVywgbHVtYU5FKSwgbWluKGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBmbG9hdCBsdW1hTWF4ID0gbWF4KGx1bWFNLCBtYXgobWF4KGx1bWFOVywgbHVtYU5FKSwgbWF4KGx1bWFTVywgbHVtYVNFKSkpO1xcblxcbiAgICB2ZWMyIGRpcjtcXG4gICAgZGlyLnggPSAtKChsdW1hTlcgKyBsdW1hTkUpIC0gKGx1bWFTVyArIGx1bWFTRSkpO1xcbiAgICBkaXIueSA9ICAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7XFxuXFxuICAgIGZsb2F0IGRpclJlZHVjZSA9IG1heCgobHVtYU5XICsgbHVtYU5FICsgbHVtYVNXICsgbHVtYVNFKSAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMC4yNSAqIEZYQUFfUkVEVUNFX01VTCksIEZYQUFfUkVEVUNFX01JTik7XFxuXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICBkaXIgKiByY3BEaXJNaW4pKSAqIHVSZXNvbHV0aW9uO1xcblxcbiAgICB2ZWMzIHJnYkEgPSAwLjUgKiAoXFxuICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiB1UmVzb2x1dGlvbiArIGRpciAqICgxLjAgLyAzLjAgLSAwLjUpKS54eXogK1xcbiAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogdVJlc29sdXRpb24gKyBkaXIgKiAoMi4wIC8gMy4wIC0gMC41KSkueHl6KTtcXG4gICAgdmVjMyByZ2JCID0gcmdiQSAqIDAuNSArIDAuMjUgKiAoXFxuICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiB1UmVzb2x1dGlvbiArIGRpciAqIC0wLjUpLnh5eiArXFxuICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiB1UmVzb2x1dGlvbiArIGRpciAqIDAuNSkueHl6KTtcXG5cXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCAxLjApO1xcbiAgICBlbHNlXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQiwgMS4wKTtcXG4gICAgcmV0dXJuIGNvbG9yO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiBcXHR2ZWM0IGNvbG9yID0gYXBwbHlGWEFBKHRleHR1cmUpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlNoYWRlckxpYnM9ZXhwb3J0cy5WaWV3M0Q9ZXhwb3J0cy5WaWV3PWV4cG9ydHMuU2NlbmU9ZXhwb3J0cy5CYXRjaEZYQUE9ZXhwb3J0cy5CYXRjaFNreT1leHBvcnRzLkJhdGNoU2t5Ym94PWV4cG9ydHMuQmF0Y2hMaW5lPWV4cG9ydHMuQmF0Y2hEb3RzUGxhbmU9ZXhwb3J0cy5CYXRjaEJhbGw9ZXhwb3J0cy5CYXRjaEF4aXM9ZXhwb3J0cy5CYXRjaENvcHk9ZXhwb3J0cy5QYXNzRnhhYT1leHBvcnRzLlBhc3NIQmx1cj1leHBvcnRzLlBhc3NWQmx1cj1leHBvcnRzLlBhc3NCbHVyPWV4cG9ydHMuUGFzc01hY3JvPWV4cG9ydHMuUGFzcz1leHBvcnRzLkVmZmVjdENvbXBvc2VyPWV4cG9ydHMuQ29sbGFkYVBhcnNlcj1leHBvcnRzLkhEUkxvYWRlcj1leHBvcnRzLk9iakxvYWRlcj1leHBvcnRzLkJpbmFyeUxvYWRlcj1leHBvcnRzLk9iamVjdDNEPWV4cG9ydHMuUmF5PWV4cG9ydHMuQ2FtZXJhQ3ViZT1leHBvcnRzLkNhbWVyYVBlcnNwZWN0aXZlPWV4cG9ydHMuQ2FtZXJhT3J0aG89ZXhwb3J0cy5DYW1lcmE9ZXhwb3J0cy5Ub3VjaERldGVjdG9yPWV4cG9ydHMuUXVhdFJvdGF0aW9uPWV4cG9ydHMuV2ViZ2xOdW1iZXI9ZXhwb3J0cy5PcmJpdGFsQ29udHJvbD1leHBvcnRzLlR3ZWVuTnVtYmVyPWV4cG9ydHMuRWFzZU51bWJlcj1leHBvcnRzLkV2ZW50RGlzcGF0Y2hlcj1leHBvcnRzLlNjaGVkdWxlcj1leHBvcnRzLlRyYW5zZm9ybUZlZWRiYWNrT2JqZWN0PWV4cG9ydHMuTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlcj1leHBvcnRzLkN1YmVGcmFtZUJ1ZmZlcj1leHBvcnRzLkZyYW1lQnVmZmVyPWV4cG9ydHMuQmF0Y2g9ZXhwb3J0cy5HZW9tPWV4cG9ydHMuTWVzaD1leHBvcnRzLkdMQ3ViZVRleHR1cmU9ZXhwb3J0cy5HTFRleHR1cmVPbGQ9ZXhwb3J0cy5HTFRleHR1cmU9ZXhwb3J0cy5HTFNoYWRlcj1leHBvcnRzLkdMPXZvaWQgMDt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxHTE09ZnVuY3Rpb24ob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian0oX2dsTWF0cml4KSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfR0xUZXh0dXJlPV9fd2VicGFja19yZXF1aXJlX18oMjUpLF9HTFRleHR1cmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVGV4dHVyZSksX0dMVGV4dHVyZTM9X193ZWJwYWNrX3JlcXVpcmVfXygyNiksX0dMVGV4dHVyZTQ9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUZXh0dXJlMyksX0dMQ3ViZVRleHR1cmU9X193ZWJwYWNrX3JlcXVpcmVfXygyNyksX0dMQ3ViZVRleHR1cmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMQ3ViZVRleHR1cmUpLF9NZXNoPV9fd2VicGFja19yZXF1aXJlX18oNSksX01lc2gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLF9HZW9tPV9fd2VicGFja19yZXF1aXJlX18oNyksX0dlb20yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dlb20pLF9CYXRjaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9CYXRjaDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2gpLF9GcmFtZUJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSxfRnJhbWVCdWZmZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZyYW1lQnVmZmVyKSxfQ3ViZUZyYW1lQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oNTYpLF9DdWJlRnJhbWVCdWZmZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0N1YmVGcmFtZUJ1ZmZlciksX011bHRpc2FtcGxlRnJhbWVCdWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1NyksX011bHRpc2FtcGxlRnJhbWVCdWZmZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX011bHRpc2FtcGxlRnJhbWVCdWZmZXIpLF9UcmFuc2Zvcm1GZWVkYmFja09iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDU4KSxfVHJhbnNmb3JtRmVlZGJhY2tPYmplY3QyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybUZlZWRiYWNrT2JqZWN0KSxfc2NoZWR1bGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLF9zY2hlZHVsaW5nMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY2hlZHVsaW5nKSxfRXZlbnREaXNwYXRjaGVyPV9fd2VicGFja19yZXF1aXJlX18oMjgpLF9FdmVudERpc3BhdGNoZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RGlzcGF0Y2hlciksX0Vhc2VOdW1iZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMyksX0Vhc2VOdW1iZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Vhc2VOdW1iZXIpLF9Ud2Vlbk51bWJlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU5KSxfVHdlZW5OdW1iZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R3ZWVuTnVtYmVyKSxfT3JiaXRhbENvbnRyb2w9X193ZWJwYWNrX3JlcXVpcmVfXygyOSksX09yYml0YWxDb250cm9sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcmJpdGFsQ29udHJvbCksX1F1YXRSb3RhdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYwKSxfUXVhdFJvdGF0aW9uMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWF0Um90YXRpb24pLF9Ub3VjaERldGVjdG9yPV9fd2VicGFja19yZXF1aXJlX18oNjEpLF9Ub3VjaERldGVjdG9yMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub3VjaERldGVjdG9yKSxfV2ViZ2xOdW1iZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxfV2ViZ2xOdW1iZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYmdsTnVtYmVyKSxfV2ViZ2xDb25zdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSxfQ2FtZXJhPShfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJnbENvbnN0KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSksX0NhbWVyYTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FtZXJhKSxfQ2FtZXJhT3J0aG89X193ZWJwYWNrX3JlcXVpcmVfXygzMCksX0NhbWVyYU9ydGhvMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW1lcmFPcnRobyksX0NhbWVyYVBlcnNwZWN0aXZlPV9fd2VicGFja19yZXF1aXJlX18oMTYpLF9DYW1lcmFQZXJzcGVjdGl2ZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FtZXJhUGVyc3BlY3RpdmUpLF9DYW1lcmFDdWJlPV9fd2VicGFja19yZXF1aXJlX18oNjMpLF9DYW1lcmFDdWJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW1lcmFDdWJlKSxfUmF5PV9fd2VicGFja19yZXF1aXJlX18oMTQpLF9SYXkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JheSksX09iamVjdDNEPV9fd2VicGFja19yZXF1aXJlX18oMzEpLF9PYmplY3QzRDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0M0QpLF9CaW5hcnlMb2FkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxNyksX0JpbmFyeUxvYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmluYXJ5TG9hZGVyKSxfT2JqTG9hZGVyPV9fd2VicGFja19yZXF1aXJlX18oNjQpLF9PYmpMb2FkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iakxvYWRlciksX0hEUkxvYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY1KSxfSERSTG9hZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IRFJMb2FkZXIpLF9Db2xsYWRhUGFyc2VyPV9fd2VicGFja19yZXF1aXJlX18oNjcpLF9Db2xsYWRhUGFyc2VyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2xsYWRhUGFyc2VyKSxfRWZmZWN0Q29tcG9zZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3MSksX0VmZmVjdENvbXBvc2VyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FZmZlY3RDb21wb3NlciksX1Bhc3M9X193ZWJwYWNrX3JlcXVpcmVfXyg5KSxfUGFzczI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFzcyksX1Bhc3NNYWNybz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSxfUGFzc01hY3JvMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXNzTWFjcm8pLF9QYXNzQmx1cj1fX3dlYnBhY2tfcmVxdWlyZV9fKDcyKSxfUGFzc0JsdXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3NCbHVyKSxfUGFzc1ZCbHVyPV9fd2VicGFja19yZXF1aXJlX18oMzcpLF9QYXNzVkJsdXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3NWQmx1ciksX1Bhc3NIQmx1cj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSxfUGFzc0hCbHVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXNzSEJsdXIpLF9QYXNzRnhhYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc2KSxfUGFzc0Z4YWEyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3NGeGFhKSxfQmF0Y2hDb3B5PV9fd2VicGFja19yZXF1aXJlX18oNzcpLF9CYXRjaENvcHkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoQ29weSksX0JhdGNoQXhpcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDc4KSxfQmF0Y2hBeGlzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaEF4aXMpLF9CYXRjaEJhbGw9X193ZWJwYWNrX3JlcXVpcmVfXyg4MSksX0JhdGNoQmFsbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hCYWxsKSxfQmF0Y2hEb3RzUGxhbmU9X193ZWJwYWNrX3JlcXVpcmVfXyg4MiksX0JhdGNoRG90c1BsYW5lMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaERvdHNQbGFuZSksX0JhdGNoTGluZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg0KSxfQmF0Y2hMaW5lMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaExpbmUpLF9CYXRjaFNreWJveD1fX3dlYnBhY2tfcmVxdWlyZV9fKDg1KSxfQmF0Y2hTa3lib3gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoU2t5Ym94KSxfQmF0Y2hTa3k9X193ZWJwYWNrX3JlcXVpcmVfXyg4NiksX0JhdGNoU2t5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaFNreSksX0JhdGNoRlhBQT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg4KSxfQmF0Y2hGWEFBMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaEZYQUEpLF9TY2VuZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg5KSxfU2NlbmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NjZW5lKSxfVmlldz1fX3dlYnBhY2tfcmVxdWlyZV9fKDkwKSxfVmlldzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmlldyksX1ZpZXczRD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkxKSxfVmlldzNEMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WaWV3M0QpLF9TaGFkZXJMaWJzPV9fd2VicGFja19yZXF1aXJlX18oMzIpLF9TaGFkZXJMaWJzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXJMaWJzKSxBbGZyaWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBbGZyaWQoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxBbGZyaWQpLHRoaXMuZ2xtPUdMTSx0aGlzLkdMPV9HTFRvb2wyLmRlZmF1bHQsdGhpcy5HTFRvb2w9X0dMVG9vbDIuZGVmYXVsdCx0aGlzLkdMU2hhZGVyPV9HTFNoYWRlcjIuZGVmYXVsdCx0aGlzLkdMVGV4dHVyZT1fR0xUZXh0dXJlNC5kZWZhdWx0LHRoaXMuR0xUZXh0dXJlT2xkPV9HTFRleHR1cmUyLmRlZmF1bHQsdGhpcy5HTEN1YmVUZXh0dXJlPV9HTEN1YmVUZXh0dXJlMi5kZWZhdWx0LHRoaXMuTWVzaD1fTWVzaDIuZGVmYXVsdCx0aGlzLkdlb209X0dlb20yLmRlZmF1bHQsdGhpcy5CYXRjaD1fQmF0Y2gyLmRlZmF1bHQsdGhpcy5GcmFtZUJ1ZmZlcj1fRnJhbWVCdWZmZXIyLmRlZmF1bHQsdGhpcy5DdWJlRnJhbWVCdWZmZXI9X0N1YmVGcmFtZUJ1ZmZlcjIuZGVmYXVsdCx0aGlzLlNjaGVkdWxlcj1fc2NoZWR1bGluZzIuZGVmYXVsdCx0aGlzLkV2ZW50RGlzcGF0Y2hlcj1fRXZlbnREaXNwYXRjaGVyMi5kZWZhdWx0LHRoaXMuRWFzZU51bWJlcj1fRWFzZU51bWJlcjIuZGVmYXVsdCx0aGlzLlR3ZWVuTnVtYmVyPV9Ud2Vlbk51bWJlcjIuZGVmYXVsdCx0aGlzLkNhbWVyYT1fQ2FtZXJhMi5kZWZhdWx0LHRoaXMuQ2FtZXJhT3J0aG89X0NhbWVyYU9ydGhvMi5kZWZhdWx0LHRoaXMuQ2FtZXJhUGVyc3BlY3RpdmU9X0NhbWVyYVBlcnNwZWN0aXZlMi5kZWZhdWx0LHRoaXMuUmF5PV9SYXkyLmRlZmF1bHQsdGhpcy5DYW1lcmFDdWJlPV9DYW1lcmFDdWJlMi5kZWZhdWx0LHRoaXMuT3JiaXRhbENvbnRyb2w9X09yYml0YWxDb250cm9sMi5kZWZhdWx0LHRoaXMuUXVhdFJvdGF0aW9uPV9RdWF0Um90YXRpb24yLmRlZmF1bHQsdGhpcy5CaW5hcnlMb2FkZXI9X0JpbmFyeUxvYWRlcjIuZGVmYXVsdCx0aGlzLk9iakxvYWRlcj1fT2JqTG9hZGVyMi5kZWZhdWx0LHRoaXMuQ29sbGFkYVBhcnNlcj1fQ29sbGFkYVBhcnNlcjIuZGVmYXVsdCx0aGlzLkhEUkxvYWRlcj1fSERSTG9hZGVyMi5kZWZhdWx0LHRoaXMuQmF0Y2hDb3B5PV9CYXRjaENvcHkyLmRlZmF1bHQsdGhpcy5CYXRjaEF4aXM9X0JhdGNoQXhpczIuZGVmYXVsdCx0aGlzLkJhdGNoQmFsbD1fQmF0Y2hCYWxsMi5kZWZhdWx0LHRoaXMuQmF0Y2hCYWxsPV9CYXRjaEJhbGwyLmRlZmF1bHQsdGhpcy5CYXRjaExpbmU9X0JhdGNoTGluZTIuZGVmYXVsdCx0aGlzLkJhdGNoU2t5Ym94PV9CYXRjaFNreWJveDIuZGVmYXVsdCx0aGlzLkJhdGNoU2t5PV9CYXRjaFNreTIuZGVmYXVsdCx0aGlzLkJhdGNoRlhBQT1fQmF0Y2hGWEFBMi5kZWZhdWx0LHRoaXMuQmF0Y2hEb3RzUGxhbmU9X0JhdGNoRG90c1BsYW5lMi5kZWZhdWx0LHRoaXMuU2NlbmU9X1NjZW5lMi5kZWZhdWx0LHRoaXMuVmlldz1fVmlldzIuZGVmYXVsdCx0aGlzLlZpZXczRD1fVmlldzNEMi5kZWZhdWx0LHRoaXMuT2JqZWN0M0Q9X09iamVjdDNEMi5kZWZhdWx0LHRoaXMuU2hhZGVyTGlicz1fU2hhZGVyTGliczIuZGVmYXVsdCx0aGlzLldlYmdsTnVtYmVyPV9XZWJnbE51bWJlcjIuZGVmYXVsdCx0aGlzLkVmZmVjdENvbXBvc2VyPV9FZmZlY3RDb21wb3NlcjIuZGVmYXVsdCx0aGlzLlBhc3M9X1Bhc3MyLmRlZmF1bHQsdGhpcy5QYXNzTWFjcm89X1Bhc3NNYWNybzIuZGVmYXVsdCx0aGlzLlBhc3NCbHVyPV9QYXNzQmx1cjIuZGVmYXVsdCx0aGlzLlBhc3NWQmx1cj1fUGFzc1ZCbHVyMi5kZWZhdWx0LHRoaXMuUGFzc0hCbHVyPV9QYXNzSEJsdXIyLmRlZmF1bHQsdGhpcy5QYXNzRnhhYT1fUGFzc0Z4YWEyLmRlZmF1bHQsdGhpcy5NdWx0aXNhbXBsZUZyYW1lQnVmZmVyPV9NdWx0aXNhbXBsZUZyYW1lQnVmZmVyMi5kZWZhdWx0LHRoaXMuVHJhbnNmb3JtRmVlZGJhY2tPYmplY3Q9X1RyYW5zZm9ybUZlZWRiYWNrT2JqZWN0Mi5kZWZhdWx0O2Zvcih2YXIgcyBpbiBHTE0pR0xNW3NdJiYod2luZG93W3NdPUdMTVtzXSl9cmV0dXJuIF9jcmVhdGVDbGFzcyhBbGZyaWQsW3trZXk6XCJsb2dcIix2YWx1ZTpmdW5jdGlvbigpe25hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkNocm9tZVwiKT4tMT9jb25zb2xlLmxvZyhcIiVjbGliIGFsZnJpZCA6IFZFUlNJT04gMC4yLjBcIixcImJhY2tncm91bmQ6ICMxOTM0NDE7IGNvbG9yOiAjRkNGRkY1XCIpOmNvbnNvbGUubG9nKFwibGliIGFsZnJpZCA6IFZFUlNJT04gXCIsXCIwLjIuMFwiKSxjb25zb2xlLmxvZyhcIiVjQ2xhc3NlcyA6IFwiLFwiY29sb3I6ICMxOTM0NDFcIik7Zm9yKHZhciBzIGluIHRoaXMpdGhpc1tzXSYmY29uc29sZS5sb2coXCIlYyAtIFwiK3MsXCJjb2xvcjogIzNFNjA2RlwiKX19XSksQWxmcmlkfSgpLGFsPW5ldyBBbGZyaWQ7ZXhwb3J0cy5kZWZhdWx0PWFsLGV4cG9ydHMuR0w9X0dMVG9vbDIuZGVmYXVsdCxleHBvcnRzLkdMU2hhZGVyPV9HTFNoYWRlcjIuZGVmYXVsdCxleHBvcnRzLkdMVGV4dHVyZT1fR0xUZXh0dXJlNC5kZWZhdWx0LGV4cG9ydHMuR0xUZXh0dXJlT2xkPV9HTFRleHR1cmUyLmRlZmF1bHQsZXhwb3J0cy5HTEN1YmVUZXh0dXJlPV9HTEN1YmVUZXh0dXJlMi5kZWZhdWx0LGV4cG9ydHMuTWVzaD1fTWVzaDIuZGVmYXVsdCxleHBvcnRzLkdlb209X0dlb20yLmRlZmF1bHQsZXhwb3J0cy5CYXRjaD1fQmF0Y2gyLmRlZmF1bHQsZXhwb3J0cy5GcmFtZUJ1ZmZlcj1fRnJhbWVCdWZmZXIyLmRlZmF1bHQsZXhwb3J0cy5DdWJlRnJhbWVCdWZmZXI9X0N1YmVGcmFtZUJ1ZmZlcjIuZGVmYXVsdCxleHBvcnRzLk11bHRpc2FtcGxlRnJhbWVCdWZmZXI9X011bHRpc2FtcGxlRnJhbWVCdWZmZXIyLmRlZmF1bHQsZXhwb3J0cy5UcmFuc2Zvcm1GZWVkYmFja09iamVjdD1fVHJhbnNmb3JtRmVlZGJhY2tPYmplY3QyLmRlZmF1bHQsZXhwb3J0cy5TY2hlZHVsZXI9X3NjaGVkdWxpbmcyLmRlZmF1bHQsZXhwb3J0cy5FdmVudERpc3BhdGNoZXI9X0V2ZW50RGlzcGF0Y2hlcjIuZGVmYXVsdCxleHBvcnRzLkVhc2VOdW1iZXI9X0Vhc2VOdW1iZXIyLmRlZmF1bHQsZXhwb3J0cy5Ud2Vlbk51bWJlcj1fVHdlZW5OdW1iZXIyLmRlZmF1bHQsZXhwb3J0cy5PcmJpdGFsQ29udHJvbD1fT3JiaXRhbENvbnRyb2wyLmRlZmF1bHQsZXhwb3J0cy5XZWJnbE51bWJlcj1fV2ViZ2xOdW1iZXIyLmRlZmF1bHQsZXhwb3J0cy5RdWF0Um90YXRpb249X1F1YXRSb3RhdGlvbjIuZGVmYXVsdCxleHBvcnRzLlRvdWNoRGV0ZWN0b3I9X1RvdWNoRGV0ZWN0b3IyLmRlZmF1bHQsZXhwb3J0cy5DYW1lcmE9X0NhbWVyYTIuZGVmYXVsdCxleHBvcnRzLkNhbWVyYU9ydGhvPV9DYW1lcmFPcnRobzIuZGVmYXVsdCxleHBvcnRzLkNhbWVyYVBlcnNwZWN0aXZlPV9DYW1lcmFQZXJzcGVjdGl2ZTIuZGVmYXVsdCxleHBvcnRzLkNhbWVyYUN1YmU9X0NhbWVyYUN1YmUyLmRlZmF1bHQsZXhwb3J0cy5SYXk9X1JheTIuZGVmYXVsdCxleHBvcnRzLk9iamVjdDNEPV9PYmplY3QzRDIuZGVmYXVsdCxleHBvcnRzLkJpbmFyeUxvYWRlcj1fQmluYXJ5TG9hZGVyMi5kZWZhdWx0LGV4cG9ydHMuT2JqTG9hZGVyPV9PYmpMb2FkZXIyLmRlZmF1bHQsZXhwb3J0cy5IRFJMb2FkZXI9X0hEUkxvYWRlcjIuZGVmYXVsdCxleHBvcnRzLkNvbGxhZGFQYXJzZXI9X0NvbGxhZGFQYXJzZXIyLmRlZmF1bHQsZXhwb3J0cy5FZmZlY3RDb21wb3Nlcj1fRWZmZWN0Q29tcG9zZXIyLmRlZmF1bHQsZXhwb3J0cy5QYXNzPV9QYXNzMi5kZWZhdWx0LGV4cG9ydHMuUGFzc01hY3JvPV9QYXNzTWFjcm8yLmRlZmF1bHQsZXhwb3J0cy5QYXNzQmx1cj1fUGFzc0JsdXIyLmRlZmF1bHQsZXhwb3J0cy5QYXNzVkJsdXI9X1Bhc3NWQmx1cjIuZGVmYXVsdCxleHBvcnRzLlBhc3NIQmx1cj1fUGFzc0hCbHVyMi5kZWZhdWx0LGV4cG9ydHMuUGFzc0Z4YWE9X1Bhc3NGeGFhMi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2hDb3B5PV9CYXRjaENvcHkyLmRlZmF1bHQsZXhwb3J0cy5CYXRjaEF4aXM9X0JhdGNoQXhpczIuZGVmYXVsdCxleHBvcnRzLkJhdGNoQmFsbD1fQmF0Y2hCYWxsMi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2hEb3RzUGxhbmU9X0JhdGNoRG90c1BsYW5lMi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2hMaW5lPV9CYXRjaExpbmUyLmRlZmF1bHQsZXhwb3J0cy5CYXRjaFNreWJveD1fQmF0Y2hTa3lib3gyLmRlZmF1bHQsZXhwb3J0cy5CYXRjaFNreT1fQmF0Y2hTa3kyLmRlZmF1bHQsZXhwb3J0cy5CYXRjaEZYQUE9X0JhdGNoRlhBQTIuZGVmYXVsdCxleHBvcnRzLlNjZW5lPV9TY2VuZTIuZGVmYXVsdCxleHBvcnRzLlZpZXc9X1ZpZXcyLmRlZmF1bHQsZXhwb3J0cy5WaWV3M0Q9X1ZpZXczRDIuZGVmYXVsdCxleHBvcnRzLlNoYWRlckxpYnM9X1NoYWRlckxpYnMyLmRlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7cmV0dXJuIG91dFswXT0xLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0xLG91dH1mdW5jdGlvbiBjbG9uZShhKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXR9ZnVuY3Rpb24gY29weShvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dH1mdW5jdGlvbiBpZGVudGl0eShvdXQpe3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MSxvdXR9ZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsbTAxLG0xMCxtMTEpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7cmV0dXJuIG91dFswXT1tMDAsb3V0WzFdPW0wMSxvdXRbMl09bTEwLG91dFszXT1tMTEsb3V0fWZ1bmN0aW9uIHNldChvdXQsbTAwLG0wMSxtMTAsbTExKXtyZXR1cm4gb3V0WzBdPW0wMCxvdXRbMV09bTAxLG91dFsyXT1tMTAsb3V0WzNdPW0xMSxvdXR9ZnVuY3Rpb24gdHJhbnNwb3NlKG91dCxhKXtpZihvdXQ9PT1hKXt2YXIgYTE9YVsxXTtvdXRbMV09YVsyXSxvdXRbMl09YTF9ZWxzZSBvdXRbMF09YVswXSxvdXRbMV09YVsyXSxvdXRbMl09YVsxXSxvdXRbM109YVszXTtyZXR1cm4gb3V0fWZ1bmN0aW9uIGludmVydChvdXQsYSl7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sZGV0PWEwKmEzLWEyKmExO3JldHVybiBkZXQ/KGRldD0xL2RldCxvdXRbMF09YTMqZGV0LG91dFsxXT0tYTEqZGV0LG91dFsyXT0tYTIqZGV0LG91dFszXT1hMCpkZXQsb3V0KTpudWxsfWZ1bmN0aW9uIGFkam9pbnQob3V0LGEpe3ZhciBhMD1hWzBdO3JldHVybiBvdXRbMF09YVszXSxvdXRbMV09LWFbMV0sb3V0WzJdPS1hWzJdLG91dFszXT1hMCxvdXR9ZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSl7cmV0dXJuIGFbMF0qYVszXS1hWzJdKmFbMV19ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sYjA9YlswXSxiMT1iWzFdLGIyPWJbMl0sYjM9YlszXTtyZXR1cm4gb3V0WzBdPWEwKmIwK2EyKmIxLG91dFsxXT1hMSpiMCthMypiMSxvdXRbMl09YTAqYjIrYTIqYjMsb3V0WzNdPWExKmIyK2EzKmIzLG91dH1mdW5jdGlvbiByb3RhdGUob3V0LGEscmFkKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YTAqYythMipzLG91dFsxXT1hMSpjK2EzKnMsb3V0WzJdPWEwKi1zK2EyKmMsb3V0WzNdPWExKi1zK2EzKmMsb3V0fWZ1bmN0aW9uIHNjYWxlKG91dCxhLHYpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLHYwPXZbMF0sdjE9dlsxXTtyZXR1cm4gb3V0WzBdPWEwKnYwLG91dFsxXT1hMSp2MCxvdXRbMl09YTIqdjEsb3V0WzNdPWEzKnYxLG91dH1mdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LHJhZCl7dmFyIHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1jLG91dFsxXT1zLG91dFsyXT0tcyxvdXRbM109YyxvdXR9ZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LHYpe3JldHVybiBvdXRbMF09dlswXSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109dlsxXSxvdXR9ZnVuY3Rpb24gc3RyKGEpe3JldHVyblwibWF0MihcIithWzBdK1wiLCBcIithWzFdK1wiLCBcIithWzJdK1wiLCBcIithWzNdK1wiKVwifWZ1bmN0aW9uIGZyb2IoYSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhWzBdLDIpK01hdGgucG93KGFbMV0sMikrTWF0aC5wb3coYVsyXSwyKStNYXRoLnBvdyhhWzNdLDIpKX1mdW5jdGlvbiBMRFUoTCxELFUsYSl7cmV0dXJuIExbMl09YVsyXS9hWzBdLFVbMF09YVswXSxVWzFdPWFbMV0sVVszXT1hWzNdLUxbMl0qVVsxXSxbTCxELFVdfWZ1bmN0aW9uIGFkZChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSxvdXRbMV09YVsxXStiWzFdLG91dFsyXT1hWzJdK2JbMl0sb3V0WzNdPWFbM10rYlszXSxvdXR9ZnVuY3Rpb24gc3VidHJhY3Qob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdLWJbMF0sb3V0WzFdPWFbMV0tYlsxXSxvdXRbMl09YVsyXS1iWzJdLG91dFszXT1hWzNdLWJbM10sb3V0fWZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsYil7cmV0dXJuIGFbMF09PT1iWzBdJiZhWzFdPT09YlsxXSYmYVsyXT09PWJbMl0mJmFbM109PT1iWzNdfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdLGIzPWJbM107cmV0dXJuIE1hdGguYWJzKGEwLWIwKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEwKSxNYXRoLmFicyhiMCkpJiZNYXRoLmFicyhhMS1iMSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMSksTWF0aC5hYnMoYjEpKSYmTWF0aC5hYnMoYTItYjIpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTIpLE1hdGguYWJzKGIyKSkmJk1hdGguYWJzKGEzLWIzKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEzKSxNYXRoLmFicyhiMykpfWZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiLG91dFsxXT1hWzFdKmIsb3V0WzJdPWFbMl0qYixvdXRbM109YVszXSpiLG91dH1mdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsYSxiLHNjYWxlKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSpzY2FsZSxvdXRbMV09YVsxXStiWzFdKnNjYWxlLG91dFsyXT1hWzJdK2JbMl0qc2NhbGUsb3V0WzNdPWFbM10rYlszXSpzY2FsZSxvdXR9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zdWI9ZXhwb3J0cy5tdWw9dm9pZCAwLGV4cG9ydHMuY3JlYXRlPWNyZWF0ZSxleHBvcnRzLmNsb25lPWNsb25lLGV4cG9ydHMuY29weT1jb3B5LGV4cG9ydHMuaWRlbnRpdHk9aWRlbnRpdHksZXhwb3J0cy5mcm9tVmFsdWVzPWZyb21WYWx1ZXMsZXhwb3J0cy5zZXQ9c2V0LGV4cG9ydHMudHJhbnNwb3NlPXRyYW5zcG9zZSxleHBvcnRzLmludmVydD1pbnZlcnQsZXhwb3J0cy5hZGpvaW50PWFkam9pbnQsZXhwb3J0cy5kZXRlcm1pbmFudD1kZXRlcm1pbmFudCxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMucm90YXRlPXJvdGF0ZSxleHBvcnRzLnNjYWxlPXNjYWxlLGV4cG9ydHMuZnJvbVJvdGF0aW9uPWZyb21Sb3RhdGlvbixleHBvcnRzLmZyb21TY2FsaW5nPWZyb21TY2FsaW5nLGV4cG9ydHMuc3RyPXN0cixleHBvcnRzLmZyb2I9ZnJvYixleHBvcnRzLkxEVT1MRFUsZXhwb3J0cy5hZGQ9YWRkLGV4cG9ydHMuc3VidHJhY3Q9c3VidHJhY3QsZXhwb3J0cy5leGFjdEVxdWFscz1leGFjdEVxdWFscyxleHBvcnRzLmVxdWFscz1lcXVhbHMsZXhwb3J0cy5tdWx0aXBseVNjYWxhcj1tdWx0aXBseVNjYWxhcixleHBvcnRzLm11bHRpcGx5U2NhbGFyQW5kQWRkPW11bHRpcGx5U2NhbGFyQW5kQWRkO3ZhciBfY29tbW9uPV9fd2VicGFja19yZXF1aXJlX18oMyksZ2xNYXRyaXg9ZnVuY3Rpb24ob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian0oX2NvbW1vbik7ZXhwb3J0cy5tdWw9bXVsdGlwbHksZXhwb3J0cy5zdWI9c3VidHJhY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNik7cmV0dXJuIG91dFswXT0xLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0xLG91dFs0XT0wLG91dFs1XT0wLG91dH1mdW5jdGlvbiBjbG9uZShhKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDYpO3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXRbNF09YVs0XSxvdXRbNV09YVs1XSxvdXR9ZnVuY3Rpb24gY29weShvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dFs0XT1hWzRdLG91dFs1XT1hWzVdLG91dH1mdW5jdGlvbiBpZGVudGl0eShvdXQpe3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MSxvdXRbNF09MCxvdXRbNV09MCxvdXR9ZnVuY3Rpb24gZnJvbVZhbHVlcyhhLGIsYyxkLHR4LHR5KXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDYpO3JldHVybiBvdXRbMF09YSxvdXRbMV09YixvdXRbMl09YyxvdXRbM109ZCxvdXRbNF09dHgsb3V0WzVdPXR5LG91dH1mdW5jdGlvbiBzZXQob3V0LGEsYixjLGQsdHgsdHkpe3JldHVybiBvdXRbMF09YSxvdXRbMV09YixvdXRbMl09YyxvdXRbM109ZCxvdXRbNF09dHgsb3V0WzVdPXR5LG91dH1mdW5jdGlvbiBpbnZlcnQob3V0LGEpe3ZhciBhYT1hWzBdLGFiPWFbMV0sYWM9YVsyXSxhZD1hWzNdLGF0eD1hWzRdLGF0eT1hWzVdLGRldD1hYSphZC1hYiphYztyZXR1cm4gZGV0PyhkZXQ9MS9kZXQsb3V0WzBdPWFkKmRldCxvdXRbMV09LWFiKmRldCxvdXRbMl09LWFjKmRldCxvdXRbM109YWEqZGV0LG91dFs0XT0oYWMqYXR5LWFkKmF0eCkqZGV0LG91dFs1XT0oYWIqYXR4LWFhKmF0eSkqZGV0LG91dCk6bnVsbH1mdW5jdGlvbiBkZXRlcm1pbmFudChhKXtyZXR1cm4gYVswXSphWzNdLWFbMV0qYVsyXX1mdW5jdGlvbiBtdWx0aXBseShvdXQsYSxiKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxhND1hWzRdLGE1PWFbNV0sYjA9YlswXSxiMT1iWzFdLGIyPWJbMl0sYjM9YlszXSxiND1iWzRdLGI1PWJbNV07cmV0dXJuIG91dFswXT1hMCpiMCthMipiMSxvdXRbMV09YTEqYjArYTMqYjEsb3V0WzJdPWEwKmIyK2EyKmIzLG91dFszXT1hMSpiMithMypiMyxvdXRbNF09YTAqYjQrYTIqYjUrYTQsb3V0WzVdPWExKmI0K2EzKmI1K2E1LG91dH1mdW5jdGlvbiByb3RhdGUob3V0LGEscmFkKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxhND1hWzRdLGE1PWFbNV0scz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWEwKmMrYTIqcyxvdXRbMV09YTEqYythMypzLG91dFsyXT1hMCotcythMipjLG91dFszXT1hMSotcythMypjLG91dFs0XT1hNCxvdXRbNV09YTUsb3V0fWZ1bmN0aW9uIHNjYWxlKG91dCxhLHYpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGE0PWFbNF0sYTU9YVs1XSx2MD12WzBdLHYxPXZbMV07cmV0dXJuIG91dFswXT1hMCp2MCxvdXRbMV09YTEqdjAsb3V0WzJdPWEyKnYxLG91dFszXT1hMyp2MSxvdXRbNF09YTQsb3V0WzVdPWE1LG91dH1mdW5jdGlvbiB0cmFuc2xhdGUob3V0LGEsdil7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sYTQ9YVs0XSxhNT1hWzVdLHYwPXZbMF0sdjE9dlsxXTtyZXR1cm4gb3V0WzBdPWEwLG91dFsxXT1hMSxvdXRbMl09YTIsb3V0WzNdPWEzLG91dFs0XT1hMCp2MCthMip2MSthNCxvdXRbNV09YTEqdjArYTMqdjErYTUsb3V0fWZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQscmFkKXt2YXIgcz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWMsb3V0WzFdPXMsb3V0WzJdPS1zLG91dFszXT1jLG91dFs0XT0wLG91dFs1XT0wLG91dH1mdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsdil7cmV0dXJuIG91dFswXT12WzBdLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT12WzFdLG91dFs0XT0wLG91dFs1XT0wLG91dH1mdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LHYpe3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MSxvdXRbNF09dlswXSxvdXRbNV09dlsxXSxvdXR9ZnVuY3Rpb24gc3RyKGEpe3JldHVyblwibWF0MmQoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIiwgXCIrYVszXStcIiwgXCIrYVs0XStcIiwgXCIrYVs1XStcIilcIn1mdW5jdGlvbiBmcm9iKGEpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYVswXSwyKStNYXRoLnBvdyhhWzFdLDIpK01hdGgucG93KGFbMl0sMikrTWF0aC5wb3coYVszXSwyKStNYXRoLnBvdyhhWzRdLDIpK01hdGgucG93KGFbNV0sMikrMSl9ZnVuY3Rpb24gYWRkKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXStiWzBdLG91dFsxXT1hWzFdK2JbMV0sb3V0WzJdPWFbMl0rYlsyXSxvdXRbM109YVszXStiWzNdLG91dFs0XT1hWzRdK2JbNF0sb3V0WzVdPWFbNV0rYls1XSxvdXR9ZnVuY3Rpb24gc3VidHJhY3Qob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdLWJbMF0sb3V0WzFdPWFbMV0tYlsxXSxvdXRbMl09YVsyXS1iWzJdLG91dFszXT1hWzNdLWJbM10sb3V0WzRdPWFbNF0tYls0XSxvdXRbNV09YVs1XS1iWzVdLG91dH1mdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0WzNdPWFbM10qYixvdXRbNF09YVs0XSpiLG91dFs1XT1hWzVdKmIsb3V0fWZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCxhLGIsc2NhbGUpe3JldHVybiBvdXRbMF09YVswXStiWzBdKnNjYWxlLG91dFsxXT1hWzFdK2JbMV0qc2NhbGUsb3V0WzJdPWFbMl0rYlsyXSpzY2FsZSxvdXRbM109YVszXStiWzNdKnNjYWxlLG91dFs0XT1hWzRdK2JbNF0qc2NhbGUsb3V0WzVdPWFbNV0rYls1XSpzY2FsZSxvdXR9ZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSxiKXtyZXR1cm4gYVswXT09PWJbMF0mJmFbMV09PT1iWzFdJiZhWzJdPT09YlsyXSYmYVszXT09PWJbM10mJmFbNF09PT1iWzRdJiZhWzVdPT09Yls1XX1mdW5jdGlvbiBlcXVhbHMoYSxiKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxhND1hWzRdLGE1PWFbNV0sYjA9YlswXSxiMT1iWzFdLGIyPWJbMl0sYjM9YlszXSxiND1iWzRdLGI1PWJbNV07cmV0dXJuIE1hdGguYWJzKGEwLWIwKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEwKSxNYXRoLmFicyhiMCkpJiZNYXRoLmFicyhhMS1iMSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMSksTWF0aC5hYnMoYjEpKSYmTWF0aC5hYnMoYTItYjIpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTIpLE1hdGguYWJzKGIyKSkmJk1hdGguYWJzKGEzLWIzKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEzKSxNYXRoLmFicyhiMykpJiZNYXRoLmFicyhhNC1iNCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNCksTWF0aC5hYnMoYjQpKSYmTWF0aC5hYnMoYTUtYjUpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTUpLE1hdGguYWJzKGI1KSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zdWI9ZXhwb3J0cy5tdWw9dm9pZCAwLGV4cG9ydHMuY3JlYXRlPWNyZWF0ZSxleHBvcnRzLmNsb25lPWNsb25lLGV4cG9ydHMuY29weT1jb3B5LGV4cG9ydHMuaWRlbnRpdHk9aWRlbnRpdHksZXhwb3J0cy5mcm9tVmFsdWVzPWZyb21WYWx1ZXMsZXhwb3J0cy5zZXQ9c2V0LGV4cG9ydHMuaW52ZXJ0PWludmVydCxleHBvcnRzLmRldGVybWluYW50PWRldGVybWluYW50LGV4cG9ydHMubXVsdGlwbHk9bXVsdGlwbHksZXhwb3J0cy5yb3RhdGU9cm90YXRlLGV4cG9ydHMuc2NhbGU9c2NhbGUsZXhwb3J0cy50cmFuc2xhdGU9dHJhbnNsYXRlLGV4cG9ydHMuZnJvbVJvdGF0aW9uPWZyb21Sb3RhdGlvbixleHBvcnRzLmZyb21TY2FsaW5nPWZyb21TY2FsaW5nLGV4cG9ydHMuZnJvbVRyYW5zbGF0aW9uPWZyb21UcmFuc2xhdGlvbixleHBvcnRzLnN0cj1zdHIsZXhwb3J0cy5mcm9iPWZyb2IsZXhwb3J0cy5hZGQ9YWRkLGV4cG9ydHMuc3VidHJhY3Q9c3VidHJhY3QsZXhwb3J0cy5tdWx0aXBseVNjYWxhcj1tdWx0aXBseVNjYWxhcixleHBvcnRzLm11bHRpcGx5U2NhbGFyQW5kQWRkPW11bHRpcGx5U2NhbGFyQW5kQWRkLGV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhhY3RFcXVhbHMsZXhwb3J0cy5lcXVhbHM9ZXF1YWxzO3ZhciBfY29tbW9uPV9fd2VicGFja19yZXF1aXJlX18oMyksZ2xNYXRyaXg9ZnVuY3Rpb24ob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian0oX2NvbW1vbik7ZXhwb3J0cy5tdWw9bXVsdGlwbHksZXhwb3J0cy5zdWI9c3VidHJhY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MCxvdXRbNV09MSxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09MCxvdXRbOV09MCxvdXRbMTBdPTEsb3V0WzExXT0wLG91dFsxMl09MCxvdXRbMTNdPTAsb3V0WzE0XT0wLG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dFs0XT1hWzRdLG91dFs1XT1hWzVdLG91dFs2XT1hWzZdLG91dFs3XT1hWzddLG91dFs4XT1hWzhdLG91dFs5XT1hWzldLG91dFsxMF09YVsxMF0sb3V0WzExXT1hWzExXSxvdXRbMTJdPWFbMTJdLG91dFsxM109YVsxM10sb3V0WzE0XT1hWzE0XSxvdXRbMTVdPWFbMTVdLG91dH1mdW5jdGlvbiBjb3B5KG91dCxhKXtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0WzRdPWFbNF0sb3V0WzVdPWFbNV0sb3V0WzZdPWFbNl0sb3V0WzddPWFbN10sb3V0WzhdPWFbOF0sb3V0WzldPWFbOV0sb3V0WzEwXT1hWzEwXSxvdXRbMTFdPWFbMTFdLG91dFsxMl09YVsxMl0sb3V0WzEzXT1hWzEzXSxvdXRbMTRdPWFbMTRdLG91dFsxNV09YVsxNV0sb3V0fWZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLG0wMSxtMDIsbTAzLG0xMCxtMTEsbTEyLG0xMyxtMjAsbTIxLG0yMixtMjMsbTMwLG0zMSxtMzIsbTMzKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtyZXR1cm4gb3V0WzBdPW0wMCxvdXRbMV09bTAxLG91dFsyXT1tMDIsb3V0WzNdPW0wMyxvdXRbNF09bTEwLG91dFs1XT1tMTEsb3V0WzZdPW0xMixvdXRbN109bTEzLG91dFs4XT1tMjAsb3V0WzldPW0yMSxvdXRbMTBdPW0yMixvdXRbMTFdPW0yMyxvdXRbMTJdPW0zMCxvdXRbMTNdPW0zMSxvdXRbMTRdPW0zMixvdXRbMTVdPW0zMyxvdXR9ZnVuY3Rpb24gc2V0KG91dCxtMDAsbTAxLG0wMixtMDMsbTEwLG0xMSxtMTIsbTEzLG0yMCxtMjEsbTIyLG0yMyxtMzAsbTMxLG0zMixtMzMpe3JldHVybiBvdXRbMF09bTAwLG91dFsxXT1tMDEsb3V0WzJdPW0wMixvdXRbM109bTAzLG91dFs0XT1tMTAsb3V0WzVdPW0xMSxvdXRbNl09bTEyLG91dFs3XT1tMTMsb3V0WzhdPW0yMCxvdXRbOV09bTIxLG91dFsxMF09bTIyLG91dFsxMV09bTIzLG91dFsxMl09bTMwLG91dFsxM109bTMxLG91dFsxNF09bTMyLG91dFsxNV09bTMzLG91dH1mdW5jdGlvbiBpZGVudGl0eShvdXQpe3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MCxvdXRbNV09MSxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09MCxvdXRbOV09MCxvdXRbMTBdPTEsb3V0WzExXT0wLG91dFsxMl09MCxvdXRbMTNdPTAsb3V0WzE0XT0wLG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gdHJhbnNwb3NlKG91dCxhKXtpZihvdXQ9PT1hKXt2YXIgYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTEyPWFbNl0sYTEzPWFbN10sYTIzPWFbMTFdO291dFsxXT1hWzRdLG91dFsyXT1hWzhdLG91dFszXT1hWzEyXSxvdXRbNF09YTAxLG91dFs2XT1hWzldLG91dFs3XT1hWzEzXSxvdXRbOF09YTAyLG91dFs5XT1hMTIsb3V0WzExXT1hWzE0XSxvdXRbMTJdPWEwMyxvdXRbMTNdPWExMyxvdXRbMTRdPWEyM31lbHNlIG91dFswXT1hWzBdLG91dFsxXT1hWzRdLG91dFsyXT1hWzhdLG91dFszXT1hWzEyXSxvdXRbNF09YVsxXSxvdXRbNV09YVs1XSxvdXRbNl09YVs5XSxvdXRbN109YVsxM10sb3V0WzhdPWFbMl0sb3V0WzldPWFbNl0sb3V0WzEwXT1hWzEwXSxvdXRbMTFdPWFbMTRdLG91dFsxMl09YVszXSxvdXRbMTNdPWFbN10sb3V0WzE0XT1hWzExXSxvdXRbMTVdPWFbMTVdO3JldHVybiBvdXR9ZnVuY3Rpb24gaW52ZXJ0KG91dCxhKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTEwPWFbNF0sYTExPWFbNV0sYTEyPWFbNl0sYTEzPWFbN10sYTIwPWFbOF0sYTIxPWFbOV0sYTIyPWFbMTBdLGEyMz1hWzExXSxhMzA9YVsxMl0sYTMxPWFbMTNdLGEzMj1hWzE0XSxhMzM9YVsxNV0sYjAwPWEwMCphMTEtYTAxKmExMCxiMDE9YTAwKmExMi1hMDIqYTEwLGIwMj1hMDAqYTEzLWEwMyphMTAsYjAzPWEwMSphMTItYTAyKmExMSxiMDQ9YTAxKmExMy1hMDMqYTExLGIwNT1hMDIqYTEzLWEwMyphMTIsYjA2PWEyMCphMzEtYTIxKmEzMCxiMDc9YTIwKmEzMi1hMjIqYTMwLGIwOD1hMjAqYTMzLWEyMyphMzAsYjA5PWEyMSphMzItYTIyKmEzMSxiMTA9YTIxKmEzMy1hMjMqYTMxLGIxMT1hMjIqYTMzLWEyMyphMzIsZGV0PWIwMCpiMTEtYjAxKmIxMCtiMDIqYjA5K2IwMypiMDgtYjA0KmIwNytiMDUqYjA2O3JldHVybiBkZXQ/KGRldD0xL2RldCxvdXRbMF09KGExMSpiMTEtYTEyKmIxMCthMTMqYjA5KSpkZXQsb3V0WzFdPShhMDIqYjEwLWEwMSpiMTEtYTAzKmIwOSkqZGV0LG91dFsyXT0oYTMxKmIwNS1hMzIqYjA0K2EzMypiMDMpKmRldCxvdXRbM109KGEyMipiMDQtYTIxKmIwNS1hMjMqYjAzKSpkZXQsb3V0WzRdPShhMTIqYjA4LWExMCpiMTEtYTEzKmIwNykqZGV0LG91dFs1XT0oYTAwKmIxMS1hMDIqYjA4K2EwMypiMDcpKmRldCxvdXRbNl09KGEzMipiMDItYTMwKmIwNS1hMzMqYjAxKSpkZXQsb3V0WzddPShhMjAqYjA1LWEyMipiMDIrYTIzKmIwMSkqZGV0LG91dFs4XT0oYTEwKmIxMC1hMTEqYjA4K2ExMypiMDYpKmRldCxvdXRbOV09KGEwMSpiMDgtYTAwKmIxMC1hMDMqYjA2KSpkZXQsb3V0WzEwXT0oYTMwKmIwNC1hMzEqYjAyK2EzMypiMDApKmRldCxvdXRbMTFdPShhMjEqYjAyLWEyMCpiMDQtYTIzKmIwMCkqZGV0LG91dFsxMl09KGExMSpiMDctYTEwKmIwOS1hMTIqYjA2KSpkZXQsb3V0WzEzXT0oYTAwKmIwOS1hMDEqYjA3K2EwMipiMDYpKmRldCxvdXRbMTRdPShhMzEqYjAxLWEzMCpiMDMtYTMyKmIwMCkqZGV0LG91dFsxNV09KGEyMCpiMDMtYTIxKmIwMSthMjIqYjAwKSpkZXQsb3V0KTpudWxsfWZ1bmN0aW9uIGFkam9pbnQob3V0LGEpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMTA9YVs0XSxhMTE9YVs1XSxhMTI9YVs2XSxhMTM9YVs3XSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdLGEzMD1hWzEyXSxhMzE9YVsxM10sYTMyPWFbMTRdLGEzMz1hWzE1XTtyZXR1cm4gb3V0WzBdPWExMSooYTIyKmEzMy1hMjMqYTMyKS1hMjEqKGExMiphMzMtYTEzKmEzMikrYTMxKihhMTIqYTIzLWExMyphMjIpLG91dFsxXT0tKGEwMSooYTIyKmEzMy1hMjMqYTMyKS1hMjEqKGEwMiphMzMtYTAzKmEzMikrYTMxKihhMDIqYTIzLWEwMyphMjIpKSxvdXRbMl09YTAxKihhMTIqYTMzLWExMyphMzIpLWExMSooYTAyKmEzMy1hMDMqYTMyKSthMzEqKGEwMiphMTMtYTAzKmExMiksb3V0WzNdPS0oYTAxKihhMTIqYTIzLWExMyphMjIpLWExMSooYTAyKmEyMy1hMDMqYTIyKSthMjEqKGEwMiphMTMtYTAzKmExMikpLG91dFs0XT0tKGExMCooYTIyKmEzMy1hMjMqYTMyKS1hMjAqKGExMiphMzMtYTEzKmEzMikrYTMwKihhMTIqYTIzLWExMyphMjIpKSxvdXRbNV09YTAwKihhMjIqYTMzLWEyMyphMzIpLWEyMCooYTAyKmEzMy1hMDMqYTMyKSthMzAqKGEwMiphMjMtYTAzKmEyMiksb3V0WzZdPS0oYTAwKihhMTIqYTMzLWExMyphMzIpLWExMCooYTAyKmEzMy1hMDMqYTMyKSthMzAqKGEwMiphMTMtYTAzKmExMikpLG91dFs3XT1hMDAqKGExMiphMjMtYTEzKmEyMiktYTEwKihhMDIqYTIzLWEwMyphMjIpK2EyMCooYTAyKmExMy1hMDMqYTEyKSxvdXRbOF09YTEwKihhMjEqYTMzLWEyMyphMzEpLWEyMCooYTExKmEzMy1hMTMqYTMxKSthMzAqKGExMSphMjMtYTEzKmEyMSksb3V0WzldPS0oYTAwKihhMjEqYTMzLWEyMyphMzEpLWEyMCooYTAxKmEzMy1hMDMqYTMxKSthMzAqKGEwMSphMjMtYTAzKmEyMSkpLG91dFsxMF09YTAwKihhMTEqYTMzLWExMyphMzEpLWExMCooYTAxKmEzMy1hMDMqYTMxKSthMzAqKGEwMSphMTMtYTAzKmExMSksb3V0WzExXT0tKGEwMCooYTExKmEyMy1hMTMqYTIxKS1hMTAqKGEwMSphMjMtYTAzKmEyMSkrYTIwKihhMDEqYTEzLWEwMyphMTEpKSxvdXRbMTJdPS0oYTEwKihhMjEqYTMyLWEyMiphMzEpLWEyMCooYTExKmEzMi1hMTIqYTMxKSthMzAqKGExMSphMjItYTEyKmEyMSkpLG91dFsxM109YTAwKihhMjEqYTMyLWEyMiphMzEpLWEyMCooYTAxKmEzMi1hMDIqYTMxKSthMzAqKGEwMSphMjItYTAyKmEyMSksb3V0WzE0XT0tKGEwMCooYTExKmEzMi1hMTIqYTMxKS1hMTAqKGEwMSphMzItYTAyKmEzMSkrYTMwKihhMDEqYTEyLWEwMiphMTEpKSxvdXRbMTVdPWEwMCooYTExKmEyMi1hMTIqYTIxKS1hMTAqKGEwMSphMjItYTAyKmEyMSkrYTIwKihhMDEqYTEyLWEwMiphMTEpLG91dH1mdW5jdGlvbiBkZXRlcm1pbmFudChhKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTEwPWFbNF0sYTExPWFbNV0sYTEyPWFbNl0sYTEzPWFbN10sYTIwPWFbOF0sYTIxPWFbOV0sYTIyPWFbMTBdLGEyMz1hWzExXSxhMzA9YVsxMl0sYTMxPWFbMTNdLGEzMj1hWzE0XSxhMzM9YVsxNV07cmV0dXJuKGEwMCphMTEtYTAxKmExMCkqKGEyMiphMzMtYTIzKmEzMiktKGEwMCphMTItYTAyKmExMCkqKGEyMSphMzMtYTIzKmEzMSkrKGEwMCphMTMtYTAzKmExMCkqKGEyMSphMzItYTIyKmEzMSkrKGEwMSphMTItYTAyKmExMSkqKGEyMCphMzMtYTIzKmEzMCktKGEwMSphMTMtYTAzKmExMSkqKGEyMCphMzItYTIyKmEzMCkrKGEwMiphMTMtYTAzKmExMikqKGEyMCphMzEtYTIxKmEzMCl9ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddLGEyMD1hWzhdLGEyMT1hWzldLGEyMj1hWzEwXSxhMjM9YVsxMV0sYTMwPWFbMTJdLGEzMT1hWzEzXSxhMzI9YVsxNF0sYTMzPWFbMTVdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdLGIzPWJbM107cmV0dXJuIG91dFswXT1iMCphMDArYjEqYTEwK2IyKmEyMCtiMyphMzAsb3V0WzFdPWIwKmEwMStiMSphMTErYjIqYTIxK2IzKmEzMSxvdXRbMl09YjAqYTAyK2IxKmExMitiMiphMjIrYjMqYTMyLG91dFszXT1iMCphMDMrYjEqYTEzK2IyKmEyMytiMyphMzMsYjA9Yls0XSxiMT1iWzVdLGIyPWJbNl0sYjM9Yls3XSxvdXRbNF09YjAqYTAwK2IxKmExMCtiMiphMjArYjMqYTMwLG91dFs1XT1iMCphMDErYjEqYTExK2IyKmEyMStiMyphMzEsb3V0WzZdPWIwKmEwMitiMSphMTIrYjIqYTIyK2IzKmEzMixvdXRbN109YjAqYTAzK2IxKmExMytiMiphMjMrYjMqYTMzLGIwPWJbOF0sYjE9Yls5XSxiMj1iWzEwXSxiMz1iWzExXSxvdXRbOF09YjAqYTAwK2IxKmExMCtiMiphMjArYjMqYTMwLG91dFs5XT1iMCphMDErYjEqYTExK2IyKmEyMStiMyphMzEsb3V0WzEwXT1iMCphMDIrYjEqYTEyK2IyKmEyMitiMyphMzIsb3V0WzExXT1iMCphMDMrYjEqYTEzK2IyKmEyMytiMyphMzMsYjA9YlsxMl0sYjE9YlsxM10sYjI9YlsxNF0sYjM9YlsxNV0sb3V0WzEyXT1iMCphMDArYjEqYTEwK2IyKmEyMCtiMyphMzAsb3V0WzEzXT1iMCphMDErYjEqYTExK2IyKmEyMStiMyphMzEsb3V0WzE0XT1iMCphMDIrYjEqYTEyK2IyKmEyMitiMyphMzIsb3V0WzE1XT1iMCphMDMrYjEqYTEzK2IyKmEyMytiMyphMzMsb3V0fWZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsYSx2KXt2YXIgeD12WzBdLHk9dlsxXSx6PXZbMl0sYTAwPXZvaWQgMCxhMDE9dm9pZCAwLGEwMj12b2lkIDAsYTAzPXZvaWQgMCxhMTA9dm9pZCAwLGExMT12b2lkIDAsYTEyPXZvaWQgMCxhMTM9dm9pZCAwLGEyMD12b2lkIDAsYTIxPXZvaWQgMCxhMjI9dm9pZCAwLGEyMz12b2lkIDA7cmV0dXJuIGE9PT1vdXQ/KG91dFsxMl09YVswXSp4K2FbNF0qeSthWzhdKnorYVsxMl0sb3V0WzEzXT1hWzFdKngrYVs1XSp5K2FbOV0qeithWzEzXSxvdXRbMTRdPWFbMl0qeCthWzZdKnkrYVsxMF0qeithWzE0XSxvdXRbMTVdPWFbM10qeCthWzddKnkrYVsxMV0qeithWzE1XSk6KGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddLGEyMD1hWzhdLGEyMT1hWzldLGEyMj1hWzEwXSxhMjM9YVsxMV0sb3V0WzBdPWEwMCxvdXRbMV09YTAxLG91dFsyXT1hMDIsb3V0WzNdPWEwMyxvdXRbNF09YTEwLG91dFs1XT1hMTEsb3V0WzZdPWExMixvdXRbN109YTEzLG91dFs4XT1hMjAsb3V0WzldPWEyMSxvdXRbMTBdPWEyMixvdXRbMTFdPWEyMyxvdXRbMTJdPWEwMCp4K2ExMCp5K2EyMCp6K2FbMTJdLG91dFsxM109YTAxKngrYTExKnkrYTIxKnorYVsxM10sb3V0WzE0XT1hMDIqeCthMTIqeSthMjIqeithWzE0XSxvdXRbMTVdPWEwMyp4K2ExMyp5K2EyMyp6K2FbMTVdKSxvdXR9ZnVuY3Rpb24gc2NhbGUob3V0LGEsdil7dmFyIHg9dlswXSx5PXZbMV0sej12WzJdO3JldHVybiBvdXRbMF09YVswXSp4LG91dFsxXT1hWzFdKngsb3V0WzJdPWFbMl0qeCxvdXRbM109YVszXSp4LG91dFs0XT1hWzRdKnksb3V0WzVdPWFbNV0qeSxvdXRbNl09YVs2XSp5LG91dFs3XT1hWzddKnksb3V0WzhdPWFbOF0qeixvdXRbOV09YVs5XSp6LG91dFsxMF09YVsxMF0qeixvdXRbMTFdPWFbMTFdKnosb3V0WzEyXT1hWzEyXSxvdXRbMTNdPWFbMTNdLG91dFsxNF09YVsxNF0sb3V0WzE1XT1hWzE1XSxvdXR9ZnVuY3Rpb24gcm90YXRlKG91dCxhLHJhZCxheGlzKXt2YXIgeD1heGlzWzBdLHk9YXhpc1sxXSx6PWF4aXNbMl0sbGVuPU1hdGguc3FydCh4KngreSp5K3oqeikscz12b2lkIDAsYz12b2lkIDAsdD12b2lkIDAsYTAwPXZvaWQgMCxhMDE9dm9pZCAwLGEwMj12b2lkIDAsYTAzPXZvaWQgMCxhMTA9dm9pZCAwLGExMT12b2lkIDAsYTEyPXZvaWQgMCxhMTM9dm9pZCAwLGEyMD12b2lkIDAsYTIxPXZvaWQgMCxhMjI9dm9pZCAwLGEyMz12b2lkIDAsYjAwPXZvaWQgMCxiMDE9dm9pZCAwLGIwMj12b2lkIDAsYjEwPXZvaWQgMCxiMTE9dm9pZCAwLGIxMj12b2lkIDAsYjIwPXZvaWQgMCxiMjE9dm9pZCAwLGIyMj12b2lkIDA7cmV0dXJuIE1hdGguYWJzKGxlbik8Z2xNYXRyaXguRVBTSUxPTj9udWxsOihsZW49MS9sZW4seCo9bGVuLHkqPWxlbix6Kj1sZW4scz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKSx0PTEtYyxhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMTA9YVs0XSxhMTE9YVs1XSxhMTI9YVs2XSxhMTM9YVs3XSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdLGIwMD14KngqdCtjLGIwMT15KngqdCt6KnMsYjAyPXoqeCp0LXkqcyxiMTA9eCp5KnQteipzLGIxMT15KnkqdCtjLGIxMj16KnkqdCt4KnMsYjIwPXgqeip0K3kqcyxiMjE9eSp6KnQteCpzLGIyMj16KnoqdCtjLG91dFswXT1hMDAqYjAwK2ExMCpiMDErYTIwKmIwMixvdXRbMV09YTAxKmIwMCthMTEqYjAxK2EyMSpiMDIsb3V0WzJdPWEwMipiMDArYTEyKmIwMSthMjIqYjAyLG91dFszXT1hMDMqYjAwK2ExMypiMDErYTIzKmIwMixvdXRbNF09YTAwKmIxMCthMTAqYjExK2EyMCpiMTIsb3V0WzVdPWEwMSpiMTArYTExKmIxMSthMjEqYjEyLG91dFs2XT1hMDIqYjEwK2ExMipiMTErYTIyKmIxMixvdXRbN109YTAzKmIxMCthMTMqYjExK2EyMypiMTIsb3V0WzhdPWEwMCpiMjArYTEwKmIyMSthMjAqYjIyLG91dFs5XT1hMDEqYjIwK2ExMSpiMjErYTIxKmIyMixvdXRbMTBdPWEwMipiMjArYTEyKmIyMSthMjIqYjIyLG91dFsxMV09YTAzKmIyMCthMTMqYjIxK2EyMypiMjIsYSE9PW91dCYmKG91dFsxMl09YVsxMl0sb3V0WzEzXT1hWzEzXSxvdXRbMTRdPWFbMTRdLG91dFsxNV09YVsxNV0pLG91dCl9ZnVuY3Rpb24gcm90YXRlWChvdXQsYSxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddLGEyMD1hWzhdLGEyMT1hWzldLGEyMj1hWzEwXSxhMjM9YVsxMV07cmV0dXJuIGEhPT1vdXQmJihvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXRbMTJdPWFbMTJdLG91dFsxM109YVsxM10sb3V0WzE0XT1hWzE0XSxvdXRbMTVdPWFbMTVdKSxvdXRbNF09YTEwKmMrYTIwKnMsb3V0WzVdPWExMSpjK2EyMSpzLG91dFs2XT1hMTIqYythMjIqcyxvdXRbN109YTEzKmMrYTIzKnMsb3V0WzhdPWEyMCpjLWExMCpzLG91dFs5XT1hMjEqYy1hMTEqcyxvdXRbMTBdPWEyMipjLWExMipzLG91dFsxMV09YTIzKmMtYTEzKnMsb3V0fWZ1bmN0aW9uIHJvdGF0ZVkob3V0LGEscmFkKXt2YXIgcz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKSxhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdO3JldHVybiBhIT09b3V0JiYob3V0WzRdPWFbNF0sb3V0WzVdPWFbNV0sb3V0WzZdPWFbNl0sb3V0WzddPWFbN10sb3V0WzEyXT1hWzEyXSxvdXRbMTNdPWFbMTNdLG91dFsxNF09YVsxNF0sb3V0WzE1XT1hWzE1XSksb3V0WzBdPWEwMCpjLWEyMCpzLG91dFsxXT1hMDEqYy1hMjEqcyxvdXRbMl09YTAyKmMtYTIyKnMsb3V0WzNdPWEwMypjLWEyMypzLG91dFs4XT1hMDAqcythMjAqYyxvdXRbOV09YTAxKnMrYTIxKmMsb3V0WzEwXT1hMDIqcythMjIqYyxvdXRbMTFdPWEwMypzK2EyMypjLG91dH1mdW5jdGlvbiByb3RhdGVaKG91dCxhLHJhZCl7dmFyIHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCksYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTEwPWFbNF0sYTExPWFbNV0sYTEyPWFbNl0sYTEzPWFbN107cmV0dXJuIGEhPT1vdXQmJihvdXRbOF09YVs4XSxvdXRbOV09YVs5XSxvdXRbMTBdPWFbMTBdLG91dFsxMV09YVsxMV0sb3V0WzEyXT1hWzEyXSxvdXRbMTNdPWFbMTNdLG91dFsxNF09YVsxNF0sb3V0WzE1XT1hWzE1XSksb3V0WzBdPWEwMCpjK2ExMCpzLG91dFsxXT1hMDEqYythMTEqcyxvdXRbMl09YTAyKmMrYTEyKnMsb3V0WzNdPWEwMypjK2ExMypzLG91dFs0XT1hMTAqYy1hMDAqcyxvdXRbNV09YTExKmMtYTAxKnMsb3V0WzZdPWExMipjLWEwMipzLG91dFs3XT1hMTMqYy1hMDMqcyxvdXR9ZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCx2KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPTEsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT0xLG91dFsxMV09MCxvdXRbMTJdPXZbMF0sb3V0WzEzXT12WzFdLG91dFsxNF09dlsyXSxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCx2KXtyZXR1cm4gb3V0WzBdPXZbMF0sb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPXZbMV0sb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT12WzJdLG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQscmFkLGF4aXMpe3ZhciB4PWF4aXNbMF0seT1heGlzWzFdLHo9YXhpc1syXSxsZW49TWF0aC5zcXJ0KHgqeCt5Knkreip6KSxzPXZvaWQgMCxjPXZvaWQgMCx0PXZvaWQgMDtyZXR1cm4gTWF0aC5hYnMobGVuKTxnbE1hdHJpeC5FUFNJTE9OP251bGw6KGxlbj0xL2xlbix4Kj1sZW4seSo9bGVuLHoqPWxlbixzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpLHQ9MS1jLG91dFswXT14KngqdCtjLG91dFsxXT15KngqdCt6KnMsb3V0WzJdPXoqeCp0LXkqcyxvdXRbM109MCxvdXRbNF09eCp5KnQteipzLG91dFs1XT15KnkqdCtjLG91dFs2XT16KnkqdCt4KnMsb3V0WzddPTAsb3V0WzhdPXgqeip0K3kqcyxvdXRbOV09eSp6KnQteCpzLG91dFsxMF09eip6KnQrYyxvdXRbMTFdPTAsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTRdPTAsb3V0WzE1XT0xLG91dCl9ZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQscmFkKXt2YXIgcz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPWMsb3V0WzZdPXMsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPS1zLG91dFsxMF09YyxvdXRbMTFdPTAsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTRdPTAsb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBmcm9tWVJvdGF0aW9uKG91dCxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YyxvdXRbMV09MCxvdXRbMl09LXMsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPTEsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPXMsb3V0WzldPTAsb3V0WzEwXT1jLG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LHJhZCl7dmFyIHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1jLG91dFsxXT1zLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0tcyxvdXRbNV09YyxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09MCxvdXRbOV09MCxvdXRbMTBdPTEsb3V0WzExXT0wLG91dFsxMl09MCxvdXRbMTNdPTAsb3V0WzE0XT0wLG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LHEsdil7dmFyIHg9cVswXSx5PXFbMV0sej1xWzJdLHc9cVszXSx4Mj14K3gseTI9eSt5LHoyPXoreix4eD14KngyLHh5PXgqeTIseHo9eCp6Mix5eT15KnkyLHl6PXkqejIseno9eip6Mix3eD13KngyLHd5PXcqeTIsd3o9dyp6MjtyZXR1cm4gb3V0WzBdPTEtKHl5K3p6KSxvdXRbMV09eHkrd3osb3V0WzJdPXh6LXd5LG91dFszXT0wLG91dFs0XT14eS13eixvdXRbNV09MS0oeHgrenopLG91dFs2XT15eit3eCxvdXRbN109MCxvdXRbOF09eHord3ksb3V0WzldPXl6LXd4LG91dFsxMF09MS0oeHgreXkpLG91dFsxMV09MCxvdXRbMTJdPXZbMF0sb3V0WzEzXT12WzFdLG91dFsxNF09dlsyXSxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCxtYXQpe3JldHVybiBvdXRbMF09bWF0WzEyXSxvdXRbMV09bWF0WzEzXSxvdXRbMl09bWF0WzE0XSxvdXR9ZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsbWF0KXt2YXIgbTExPW1hdFswXSxtMTI9bWF0WzFdLG0xMz1tYXRbMl0sbTIxPW1hdFs0XSxtMjI9bWF0WzVdLG0yMz1tYXRbNl0sbTMxPW1hdFs4XSxtMzI9bWF0WzldLG0zMz1tYXRbMTBdO3JldHVybiBvdXRbMF09TWF0aC5zcXJ0KG0xMSptMTErbTEyKm0xMittMTMqbTEzKSxvdXRbMV09TWF0aC5zcXJ0KG0yMSptMjErbTIyKm0yMittMjMqbTIzKSxvdXRbMl09TWF0aC5zcXJ0KG0zMSptMzErbTMyKm0zMittMzMqbTMzKSxvdXR9ZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LG1hdCl7dmFyIHRyYWNlPW1hdFswXSttYXRbNV0rbWF0WzEwXSxTPTA7cmV0dXJuIHRyYWNlPjA/KFM9MipNYXRoLnNxcnQodHJhY2UrMSksb3V0WzNdPS4yNSpTLG91dFswXT0obWF0WzZdLW1hdFs5XSkvUyxvdXRbMV09KG1hdFs4XS1tYXRbMl0pL1Msb3V0WzJdPShtYXRbMV0tbWF0WzRdKS9TKTptYXRbMF0+bWF0WzVdJm1hdFswXT5tYXRbMTBdPyhTPTIqTWF0aC5zcXJ0KDErbWF0WzBdLW1hdFs1XS1tYXRbMTBdKSxvdXRbM109KG1hdFs2XS1tYXRbOV0pL1Msb3V0WzBdPS4yNSpTLG91dFsxXT0obWF0WzFdK21hdFs0XSkvUyxvdXRbMl09KG1hdFs4XSttYXRbMl0pL1MpOm1hdFs1XT5tYXRbMTBdPyhTPTIqTWF0aC5zcXJ0KDErbWF0WzVdLW1hdFswXS1tYXRbMTBdKSxvdXRbM109KG1hdFs4XS1tYXRbMl0pL1Msb3V0WzBdPShtYXRbMV0rbWF0WzRdKS9TLG91dFsxXT0uMjUqUyxvdXRbMl09KG1hdFs2XSttYXRbOV0pL1MpOihTPTIqTWF0aC5zcXJ0KDErbWF0WzEwXS1tYXRbMF0tbWF0WzVdKSxvdXRbM109KG1hdFsxXS1tYXRbNF0pL1Msb3V0WzBdPShtYXRbOF0rbWF0WzJdKS9TLG91dFsxXT0obWF0WzZdK21hdFs5XSkvUyxvdXRbMl09LjI1KlMpLG91dH1mdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCxxLHYscyl7dmFyIHg9cVswXSx5PXFbMV0sej1xWzJdLHc9cVszXSx4Mj14K3gseTI9eSt5LHoyPXoreix4eD14KngyLHh5PXgqeTIseHo9eCp6Mix5eT15KnkyLHl6PXkqejIseno9eip6Mix3eD13KngyLHd5PXcqeTIsd3o9dyp6MixzeD1zWzBdLHN5PXNbMV0sc3o9c1syXTtyZXR1cm4gb3V0WzBdPSgxLSh5eSt6eikpKnN4LG91dFsxXT0oeHkrd3opKnN4LG91dFsyXT0oeHotd3kpKnN4LG91dFszXT0wLG91dFs0XT0oeHktd3opKnN5LG91dFs1XT0oMS0oeHgrenopKSpzeSxvdXRbNl09KHl6K3d4KSpzeSxvdXRbN109MCxvdXRbOF09KHh6K3d5KSpzeixvdXRbOV09KHl6LXd4KSpzeixvdXRbMTBdPSgxLSh4eCt5eSkpKnN6LG91dFsxMV09MCxvdXRbMTJdPXZbMF0sb3V0WzEzXT12WzFdLG91dFsxNF09dlsyXSxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVPcmlnaW4ob3V0LHEsdixzLG8pe3ZhciB4PXFbMF0seT1xWzFdLHo9cVsyXSx3PXFbM10seDI9eCt4LHkyPXkreSx6Mj16K3oseHg9eCp4Mix4eT14KnkyLHh6PXgqejIseXk9eSp5Mix5ej15KnoyLHp6PXoqejIsd3g9dyp4Mix3eT13KnkyLHd6PXcqejIsc3g9c1swXSxzeT1zWzFdLHN6PXNbMl0sb3g9b1swXSxveT1vWzFdLG96PW9bMl07cmV0dXJuIG91dFswXT0oMS0oeXkrenopKSpzeCxvdXRbMV09KHh5K3d6KSpzeCxvdXRbMl09KHh6LXd5KSpzeCxvdXRbM109MCxvdXRbNF09KHh5LXd6KSpzeSxvdXRbNV09KDEtKHh4K3p6KSkqc3ksb3V0WzZdPSh5eit3eCkqc3ksb3V0WzddPTAsb3V0WzhdPSh4eit3eSkqc3osb3V0WzldPSh5ei13eCkqc3osb3V0WzEwXT0oMS0oeHgreXkpKSpzeixvdXRbMTFdPTAsb3V0WzEyXT12WzBdK294LShvdXRbMF0qb3grb3V0WzRdKm95K291dFs4XSpveiksb3V0WzEzXT12WzFdK295LShvdXRbMV0qb3grb3V0WzVdKm95K291dFs5XSpveiksb3V0WzE0XT12WzJdK296LShvdXRbMl0qb3grb3V0WzZdKm95K291dFsxMF0qb3opLG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gZnJvbVF1YXQob3V0LHEpe3ZhciB4PXFbMF0seT1xWzFdLHo9cVsyXSx3PXFbM10seDI9eCt4LHkyPXkreSx6Mj16K3oseHg9eCp4Mix5eD15KngyLHl5PXkqeTIseng9eip4Mix6eT16KnkyLHp6PXoqejIsd3g9dyp4Mix3eT13KnkyLHd6PXcqejI7cmV0dXJuIG91dFswXT0xLXl5LXp6LG91dFsxXT15eCt3eixvdXRbMl09engtd3ksb3V0WzNdPTAsb3V0WzRdPXl4LXd6LG91dFs1XT0xLXh4LXp6LG91dFs2XT16eSt3eCxvdXRbN109MCxvdXRbOF09engrd3ksb3V0WzldPXp5LXd4LG91dFsxMF09MS14eC15eSxvdXRbMTFdPTAsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTRdPTAsb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBmcnVzdHVtKG91dCxsZWZ0LHJpZ2h0LGJvdHRvbSx0b3AsbmVhcixmYXIpe3ZhciBybD0xLyhyaWdodC1sZWZ0KSx0Yj0xLyh0b3AtYm90dG9tKSxuZj0xLyhuZWFyLWZhcik7cmV0dXJuIG91dFswXT0yKm5lYXIqcmwsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPTIqbmVhcip0YixvdXRbNl09MCxvdXRbN109MCxvdXRbOF09KHJpZ2h0K2xlZnQpKnJsLG91dFs5XT0odG9wK2JvdHRvbSkqdGIsb3V0WzEwXT0oZmFyK25lYXIpKm5mLG91dFsxMV09LTEsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTRdPWZhcipuZWFyKjIqbmYsb3V0WzE1XT0wLG91dH1mdW5jdGlvbiBwZXJzcGVjdGl2ZShvdXQsZm92eSxhc3BlY3QsbmVhcixmYXIpe3ZhciBmPTEvTWF0aC50YW4oZm92eS8yKSxuZj0xLyhuZWFyLWZhcik7cmV0dXJuIG91dFswXT1mL2FzcGVjdCxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MCxvdXRbNV09ZixvdXRbNl09MCxvdXRbN109MCxvdXRbOF09MCxvdXRbOV09MCxvdXRbMTBdPShmYXIrbmVhcikqbmYsb3V0WzExXT0tMSxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MipmYXIqbmVhcipuZixvdXRbMTVdPTAsb3V0fWZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCxmb3YsbmVhcixmYXIpe3ZhciB1cFRhbj1NYXRoLnRhbihmb3YudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxkb3duVGFuPU1hdGgudGFuKGZvdi5kb3duRGVncmVlcypNYXRoLlBJLzE4MCksbGVmdFRhbj1NYXRoLnRhbihmb3YubGVmdERlZ3JlZXMqTWF0aC5QSS8xODApLHJpZ2h0VGFuPU1hdGgudGFuKGZvdi5yaWdodERlZ3JlZXMqTWF0aC5QSS8xODApLHhTY2FsZT0yLyhsZWZ0VGFuK3JpZ2h0VGFuKSx5U2NhbGU9Mi8odXBUYW4rZG93blRhbik7cmV0dXJuIG91dFswXT14U2NhbGUsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPXlTY2FsZSxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09LShsZWZ0VGFuLXJpZ2h0VGFuKSp4U2NhbGUqLjUsb3V0WzldPSh1cFRhbi1kb3duVGFuKSp5U2NhbGUqLjUsb3V0WzEwXT1mYXIvKG5lYXItZmFyKSxvdXRbMTFdPS0xLG91dFsxMl09MCxvdXRbMTNdPTAsb3V0WzE0XT1mYXIqbmVhci8obmVhci1mYXIpLG91dFsxNV09MCxvdXR9ZnVuY3Rpb24gb3J0aG8ob3V0LGxlZnQscmlnaHQsYm90dG9tLHRvcCxuZWFyLGZhcil7dmFyIGxyPTEvKGxlZnQtcmlnaHQpLGJ0PTEvKGJvdHRvbS10b3ApLG5mPTEvKG5lYXItZmFyKTtyZXR1cm4gb3V0WzBdPS0yKmxyLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0wLG91dFs1XT0tMipidCxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09MCxvdXRbOV09MCxvdXRbMTBdPTIqbmYsb3V0WzExXT0wLG91dFsxMl09KGxlZnQrcmlnaHQpKmxyLG91dFsxM109KHRvcCtib3R0b20pKmJ0LG91dFsxNF09KGZhcituZWFyKSpuZixvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGxvb2tBdChvdXQsZXllLGNlbnRlcix1cCl7dmFyIHgwPXZvaWQgMCx4MT12b2lkIDAseDI9dm9pZCAwLHkwPXZvaWQgMCx5MT12b2lkIDAseTI9dm9pZCAwLHowPXZvaWQgMCx6MT12b2lkIDAsejI9dm9pZCAwLGxlbj12b2lkIDAsZXlleD1leWVbMF0sZXlleT1leWVbMV0sZXllej1leWVbMl0sdXB4PXVwWzBdLHVweT11cFsxXSx1cHo9dXBbMl0sY2VudGVyeD1jZW50ZXJbMF0sY2VudGVyeT1jZW50ZXJbMV0sY2VudGVyej1jZW50ZXJbMl07cmV0dXJuIE1hdGguYWJzKGV5ZXgtY2VudGVyeCk8Z2xNYXRyaXguRVBTSUxPTiYmTWF0aC5hYnMoZXlleS1jZW50ZXJ5KTxnbE1hdHJpeC5FUFNJTE9OJiZNYXRoLmFicyhleWV6LWNlbnRlcnopPGdsTWF0cml4LkVQU0lMT04/bWF0NC5pZGVudGl0eShvdXQpOih6MD1leWV4LWNlbnRlcngsejE9ZXlleS1jZW50ZXJ5LHoyPWV5ZXotY2VudGVyeixsZW49MS9NYXRoLnNxcnQoejAqejArejEqejErejIqejIpLHowKj1sZW4sejEqPWxlbix6Mio9bGVuLHgwPXVweSp6Mi11cHoqejEseDE9dXB6KnowLXVweCp6Mix4Mj11cHgqejEtdXB5KnowLGxlbj1NYXRoLnNxcnQoeDAqeDAreDEqeDEreDIqeDIpLGxlbj8obGVuPTEvbGVuLHgwKj1sZW4seDEqPWxlbix4Mio9bGVuKTooeDA9MCx4MT0wLHgyPTApLHkwPXoxKngyLXoyKngxLHkxPXoyKngwLXowKngyLHkyPXowKngxLXoxKngwLGxlbj1NYXRoLnNxcnQoeTAqeTAreTEqeTEreTIqeTIpLGxlbj8obGVuPTEvbGVuLHkwKj1sZW4seTEqPWxlbix5Mio9bGVuKTooeTA9MCx5MT0wLHkyPTApLG91dFswXT14MCxvdXRbMV09eTAsb3V0WzJdPXowLG91dFszXT0wLG91dFs0XT14MSxvdXRbNV09eTEsb3V0WzZdPXoxLG91dFs3XT0wLG91dFs4XT14MixvdXRbOV09eTIsb3V0WzEwXT16MixvdXRbMTFdPTAsb3V0WzEyXT0tKHgwKmV5ZXgreDEqZXlleSt4MipleWV6KSxvdXRbMTNdPS0oeTAqZXlleCt5MSpleWV5K3kyKmV5ZXopLG91dFsxNF09LSh6MCpleWV4K3oxKmV5ZXkrejIqZXlleiksb3V0WzE1XT0xLG91dCl9ZnVuY3Rpb24gdGFyZ2V0VG8ob3V0LGV5ZSx0YXJnZXQsdXApe3ZhciBleWV4PWV5ZVswXSxleWV5PWV5ZVsxXSxleWV6PWV5ZVsyXSx1cHg9dXBbMF0sdXB5PXVwWzFdLHVwej11cFsyXSx6MD1leWV4LXRhcmdldFswXSx6MT1leWV5LXRhcmdldFsxXSx6Mj1leWV6LXRhcmdldFsyXSxsZW49ejAqejArejEqejErejIqejI7bGVuPjAmJihsZW49MS9NYXRoLnNxcnQobGVuKSx6MCo9bGVuLHoxKj1sZW4sejIqPWxlbik7dmFyIHgwPXVweSp6Mi11cHoqejEseDE9dXB6KnowLXVweCp6Mix4Mj11cHgqejEtdXB5KnowO3JldHVybiBvdXRbMF09eDAsb3V0WzFdPXgxLG91dFsyXT14MixvdXRbM109MCxvdXRbNF09ejEqeDItejIqeDEsb3V0WzVdPXoyKngwLXowKngyLG91dFs2XT16MCp4MS16MSp4MCxvdXRbN109MCxvdXRbOF09ejAsb3V0WzldPXoxLG91dFsxMF09ejIsb3V0WzExXT0wLG91dFsxMl09ZXlleCxvdXRbMTNdPWV5ZXksb3V0WzE0XT1leWV6LG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gc3RyKGEpe3JldHVyblwibWF0NChcIithWzBdK1wiLCBcIithWzFdK1wiLCBcIithWzJdK1wiLCBcIithWzNdK1wiLCBcIithWzRdK1wiLCBcIithWzVdK1wiLCBcIithWzZdK1wiLCBcIithWzddK1wiLCBcIithWzhdK1wiLCBcIithWzldK1wiLCBcIithWzEwXStcIiwgXCIrYVsxMV0rXCIsIFwiK2FbMTJdK1wiLCBcIithWzEzXStcIiwgXCIrYVsxNF0rXCIsIFwiK2FbMTVdK1wiKVwifWZ1bmN0aW9uIGZyb2IoYSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhWzBdLDIpK01hdGgucG93KGFbMV0sMikrTWF0aC5wb3coYVsyXSwyKStNYXRoLnBvdyhhWzNdLDIpK01hdGgucG93KGFbNF0sMikrTWF0aC5wb3coYVs1XSwyKStNYXRoLnBvdyhhWzZdLDIpK01hdGgucG93KGFbN10sMikrTWF0aC5wb3coYVs4XSwyKStNYXRoLnBvdyhhWzldLDIpK01hdGgucG93KGFbMTBdLDIpK01hdGgucG93KGFbMTFdLDIpK01hdGgucG93KGFbMTJdLDIpK01hdGgucG93KGFbMTNdLDIpK01hdGgucG93KGFbMTRdLDIpK01hdGgucG93KGFbMTVdLDIpKX1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dFszXT1hWzNdK2JbM10sb3V0WzRdPWFbNF0rYls0XSxvdXRbNV09YVs1XStiWzVdLG91dFs2XT1hWzZdK2JbNl0sb3V0WzddPWFbN10rYls3XSxvdXRbOF09YVs4XStiWzhdLG91dFs5XT1hWzldK2JbOV0sb3V0WzEwXT1hWzEwXStiWzEwXSxvdXRbMTFdPWFbMTFdK2JbMTFdLG91dFsxMl09YVsxMl0rYlsxMl0sb3V0WzEzXT1hWzEzXStiWzEzXSxvdXRbMTRdPWFbMTRdK2JbMTRdLG91dFsxNV09YVsxNV0rYlsxNV0sb3V0fWZ1bmN0aW9uIHN1YnRyYWN0KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS1iWzBdLG91dFsxXT1hWzFdLWJbMV0sb3V0WzJdPWFbMl0tYlsyXSxvdXRbM109YVszXS1iWzNdLG91dFs0XT1hWzRdLWJbNF0sb3V0WzVdPWFbNV0tYls1XSxvdXRbNl09YVs2XS1iWzZdLG91dFs3XT1hWzddLWJbN10sb3V0WzhdPWFbOF0tYls4XSxvdXRbOV09YVs5XS1iWzldLG91dFsxMF09YVsxMF0tYlsxMF0sb3V0WzExXT1hWzExXS1iWzExXSxvdXRbMTJdPWFbMTJdLWJbMTJdLG91dFsxM109YVsxM10tYlsxM10sb3V0WzE0XT1hWzE0XS1iWzE0XSxvdXRbMTVdPWFbMTVdLWJbMTVdLG91dH1mdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0WzNdPWFbM10qYixvdXRbNF09YVs0XSpiLG91dFs1XT1hWzVdKmIsb3V0WzZdPWFbNl0qYixvdXRbN109YVs3XSpiLG91dFs4XT1hWzhdKmIsb3V0WzldPWFbOV0qYixvdXRbMTBdPWFbMTBdKmIsb3V0WzExXT1hWzExXSpiLG91dFsxMl09YVsxMl0qYixvdXRbMTNdPWFbMTNdKmIsb3V0WzE0XT1hWzE0XSpiLG91dFsxNV09YVsxNV0qYixvdXR9ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LGEsYixzY2FsZSl7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0qc2NhbGUsb3V0WzFdPWFbMV0rYlsxXSpzY2FsZSxvdXRbMl09YVsyXStiWzJdKnNjYWxlLG91dFszXT1hWzNdK2JbM10qc2NhbGUsb3V0WzRdPWFbNF0rYls0XSpzY2FsZSxvdXRbNV09YVs1XStiWzVdKnNjYWxlLG91dFs2XT1hWzZdK2JbNl0qc2NhbGUsb3V0WzddPWFbN10rYls3XSpzY2FsZSxvdXRbOF09YVs4XStiWzhdKnNjYWxlLG91dFs5XT1hWzldK2JbOV0qc2NhbGUsb3V0WzEwXT1hWzEwXStiWzEwXSpzY2FsZSxvdXRbMTFdPWFbMTFdK2JbMTFdKnNjYWxlLG91dFsxMl09YVsxMl0rYlsxMl0qc2NhbGUsb3V0WzEzXT1hWzEzXStiWzEzXSpzY2FsZSxvdXRbMTRdPWFbMTRdK2JbMTRdKnNjYWxlLG91dFsxNV09YVsxNV0rYlsxNV0qc2NhbGUsb3V0fWZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsYil7cmV0dXJuIGFbMF09PT1iWzBdJiZhWzFdPT09YlsxXSYmYVsyXT09PWJbMl0mJmFbM109PT1iWzNdJiZhWzRdPT09Yls0XSYmYVs1XT09PWJbNV0mJmFbNl09PT1iWzZdJiZhWzddPT09Yls3XSYmYVs4XT09PWJbOF0mJmFbOV09PT1iWzldJiZhWzEwXT09PWJbMTBdJiZhWzExXT09PWJbMTFdJiZhWzEyXT09PWJbMTJdJiZhWzEzXT09PWJbMTNdJiZhWzE0XT09PWJbMTRdJiZhWzE1XT09PWJbMTVdfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGE0PWFbNF0sYTU9YVs1XSxhNj1hWzZdLGE3PWFbN10sYTg9YVs4XSxhOT1hWzldLGExMD1hWzEwXSxhMTE9YVsxMV0sYTEyPWFbMTJdLGExMz1hWzEzXSxhMTQ9YVsxNF0sYTE1PWFbMTVdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdLGIzPWJbM10sYjQ9Yls0XSxiNT1iWzVdLGI2PWJbNl0sYjc9Yls3XSxiOD1iWzhdLGI5PWJbOV0sYjEwPWJbMTBdLGIxMT1iWzExXSxiMTI9YlsxMl0sYjEzPWJbMTNdLGIxND1iWzE0XSxiMTU9YlsxNV07cmV0dXJuIE1hdGguYWJzKGEwLWIwKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEwKSxNYXRoLmFicyhiMCkpJiZNYXRoLmFicyhhMS1iMSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMSksTWF0aC5hYnMoYjEpKSYmTWF0aC5hYnMoYTItYjIpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTIpLE1hdGguYWJzKGIyKSkmJk1hdGguYWJzKGEzLWIzKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEzKSxNYXRoLmFicyhiMykpJiZNYXRoLmFicyhhNC1iNCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNCksTWF0aC5hYnMoYjQpKSYmTWF0aC5hYnMoYTUtYjUpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTUpLE1hdGguYWJzKGI1KSkmJk1hdGguYWJzKGE2LWI2KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE2KSxNYXRoLmFicyhiNikpJiZNYXRoLmFicyhhNy1iNyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNyksTWF0aC5hYnMoYjcpKSYmTWF0aC5hYnMoYTgtYjgpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTgpLE1hdGguYWJzKGI4KSkmJk1hdGguYWJzKGE5LWI5KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE5KSxNYXRoLmFicyhiOSkpJiZNYXRoLmFicyhhMTAtYjEwKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExMCksTWF0aC5hYnMoYjEwKSkmJk1hdGguYWJzKGExMS1iMTEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTExKSxNYXRoLmFicyhiMTEpKSYmTWF0aC5hYnMoYTEyLWIxMik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMTIpLE1hdGguYWJzKGIxMikpJiZNYXRoLmFicyhhMTMtYjEzKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExMyksTWF0aC5hYnMoYjEzKSkmJk1hdGguYWJzKGExNC1iMTQpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTE0KSxNYXRoLmFicyhiMTQpKSYmTWF0aC5hYnMoYTE1LWIxNSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMTUpLE1hdGguYWJzKGIxNSkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc3ViPWV4cG9ydHMubXVsPXZvaWQgMCxleHBvcnRzLmNyZWF0ZT1jcmVhdGUsZXhwb3J0cy5jbG9uZT1jbG9uZSxleHBvcnRzLmNvcHk9Y29weSxleHBvcnRzLmZyb21WYWx1ZXM9ZnJvbVZhbHVlcyxleHBvcnRzLnNldD1zZXQsZXhwb3J0cy5pZGVudGl0eT1pZGVudGl0eSxleHBvcnRzLnRyYW5zcG9zZT10cmFuc3Bvc2UsZXhwb3J0cy5pbnZlcnQ9aW52ZXJ0LGV4cG9ydHMuYWRqb2ludD1hZGpvaW50LGV4cG9ydHMuZGV0ZXJtaW5hbnQ9ZGV0ZXJtaW5hbnQsZXhwb3J0cy5tdWx0aXBseT1tdWx0aXBseSxleHBvcnRzLnRyYW5zbGF0ZT10cmFuc2xhdGUsZXhwb3J0cy5zY2FsZT1zY2FsZSxleHBvcnRzLnJvdGF0ZT1yb3RhdGUsZXhwb3J0cy5yb3RhdGVYPXJvdGF0ZVgsZXhwb3J0cy5yb3RhdGVZPXJvdGF0ZVksZXhwb3J0cy5yb3RhdGVaPXJvdGF0ZVosZXhwb3J0cy5mcm9tVHJhbnNsYXRpb249ZnJvbVRyYW5zbGF0aW9uLGV4cG9ydHMuZnJvbVNjYWxpbmc9ZnJvbVNjYWxpbmcsZXhwb3J0cy5mcm9tUm90YXRpb249ZnJvbVJvdGF0aW9uLGV4cG9ydHMuZnJvbVhSb3RhdGlvbj1mcm9tWFJvdGF0aW9uLGV4cG9ydHMuZnJvbVlSb3RhdGlvbj1mcm9tWVJvdGF0aW9uLGV4cG9ydHMuZnJvbVpSb3RhdGlvbj1mcm9tWlJvdGF0aW9uLGV4cG9ydHMuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb249ZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sZXhwb3J0cy5nZXRUcmFuc2xhdGlvbj1nZXRUcmFuc2xhdGlvbixleHBvcnRzLmdldFNjYWxpbmc9Z2V0U2NhbGluZyxleHBvcnRzLmdldFJvdGF0aW9uPWdldFJvdGF0aW9uLGV4cG9ydHMuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZT1mcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlLGV4cG9ydHMuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbj1mcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luLGV4cG9ydHMuZnJvbVF1YXQ9ZnJvbVF1YXQsZXhwb3J0cy5mcnVzdHVtPWZydXN0dW0sZXhwb3J0cy5wZXJzcGVjdGl2ZT1wZXJzcGVjdGl2ZSxleHBvcnRzLnBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3PXBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3LGV4cG9ydHMub3J0aG89b3J0aG8sZXhwb3J0cy5sb29rQXQ9bG9va0F0LGV4cG9ydHMudGFyZ2V0VG89dGFyZ2V0VG8sZXhwb3J0cy5zdHI9c3RyLGV4cG9ydHMuZnJvYj1mcm9iLGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLnN1YnRyYWN0PXN1YnRyYWN0LGV4cG9ydHMubXVsdGlwbHlTY2FsYXI9bXVsdGlwbHlTY2FsYXIsZXhwb3J0cy5tdWx0aXBseVNjYWxhckFuZEFkZD1tdWx0aXBseVNjYWxhckFuZEFkZCxleHBvcnRzLmV4YWN0RXF1YWxzPWV4YWN0RXF1YWxzLGV4cG9ydHMuZXF1YWxzPWVxdWFsczt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9jb21tb24pO2V4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuc3ViPXN1YnRyYWN0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmope2lmKG9iaiYmb2JqLl9fZXNNb2R1bGUpcmV0dXJuIG9iajt2YXIgbmV3T2JqPXt9O2lmKG51bGwhPW9iailmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiYobmV3T2JqW2tleV09b2JqW2tleV0pO3JldHVybiBuZXdPYmouZGVmYXVsdD1vYmosbmV3T2JqfWZ1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7cmV0dXJuIG91dFswXT0wLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0xLG91dH1mdW5jdGlvbiBpZGVudGl0eShvdXQpe3JldHVybiBvdXRbMF09MCxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MSxvdXR9ZnVuY3Rpb24gc2V0QXhpc0FuZ2xlKG91dCxheGlzLHJhZCl7cmFkKj0uNTt2YXIgcz1NYXRoLnNpbihyYWQpO3JldHVybiBvdXRbMF09cypheGlzWzBdLG91dFsxXT1zKmF4aXNbMV0sb3V0WzJdPXMqYXhpc1syXSxvdXRbM109TWF0aC5jb3MocmFkKSxvdXR9ZnVuY3Rpb24gZ2V0QXhpc0FuZ2xlKG91dF9heGlzLHEpe3ZhciByYWQ9MipNYXRoLmFjb3MocVszXSkscz1NYXRoLnNpbihyYWQvMik7cmV0dXJuIDAhPXM/KG91dF9heGlzWzBdPXFbMF0vcyxvdXRfYXhpc1sxXT1xWzFdL3Msb3V0X2F4aXNbMl09cVsyXS9zKToob3V0X2F4aXNbMF09MSxvdXRfYXhpc1sxXT0wLG91dF9heGlzWzJdPTApLHJhZH1mdW5jdGlvbiBtdWx0aXBseShvdXQsYSxiKXt2YXIgYXg9YVswXSxheT1hWzFdLGF6PWFbMl0sYXc9YVszXSxieD1iWzBdLGJ5PWJbMV0sYno9YlsyXSxidz1iWzNdO3JldHVybiBvdXRbMF09YXgqYncrYXcqYngrYXkqYnotYXoqYnksb3V0WzFdPWF5KmJ3K2F3KmJ5K2F6KmJ4LWF4KmJ6LG91dFsyXT1heipidythdypieitheCpieS1heSpieCxvdXRbM109YXcqYnctYXgqYngtYXkqYnktYXoqYnosb3V0fWZ1bmN0aW9uIHJvdGF0ZVgob3V0LGEscmFkKXtyYWQqPS41O3ZhciBheD1hWzBdLGF5PWFbMV0sYXo9YVsyXSxhdz1hWzNdLGJ4PU1hdGguc2luKHJhZCksYnc9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWF4KmJ3K2F3KmJ4LG91dFsxXT1heSpidytheipieCxvdXRbMl09YXoqYnctYXkqYngsb3V0WzNdPWF3KmJ3LWF4KmJ4LG91dH1mdW5jdGlvbiByb3RhdGVZKG91dCxhLHJhZCl7cmFkKj0uNTt2YXIgYXg9YVswXSxheT1hWzFdLGF6PWFbMl0sYXc9YVszXSxieT1NYXRoLnNpbihyYWQpLGJ3PU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1heCpidy1heipieSxvdXRbMV09YXkqYncrYXcqYnksb3V0WzJdPWF6KmJ3K2F4KmJ5LG91dFszXT1hdypidy1heSpieSxvdXR9ZnVuY3Rpb24gcm90YXRlWihvdXQsYSxyYWQpe3JhZCo9LjU7dmFyIGF4PWFbMF0sYXk9YVsxXSxhej1hWzJdLGF3PWFbM10sYno9TWF0aC5zaW4ocmFkKSxidz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YXgqYncrYXkqYnosb3V0WzFdPWF5KmJ3LWF4KmJ6LG91dFsyXT1heipidythdypieixvdXRbM109YXcqYnctYXoqYnosb3V0fWZ1bmN0aW9uIGNhbGN1bGF0ZVcob3V0LGEpe3ZhciB4PWFbMF0seT1hWzFdLHo9YVsyXTtyZXR1cm4gb3V0WzBdPXgsb3V0WzFdPXksb3V0WzJdPXosb3V0WzNdPU1hdGguc3FydChNYXRoLmFicygxLXgqeC15Knkteip6KSksb3V0fWZ1bmN0aW9uIHNsZXJwKG91dCxhLGIsdCl7dmFyIGF4PWFbMF0sYXk9YVsxXSxhej1hWzJdLGF3PWFbM10sYng9YlswXSxieT1iWzFdLGJ6PWJbMl0sYnc9YlszXSxvbWVnYT12b2lkIDAsY29zb209dm9pZCAwLHNpbm9tPXZvaWQgMCxzY2FsZTA9dm9pZCAwLHNjYWxlMT12b2lkIDA7cmV0dXJuIGNvc29tPWF4KmJ4K2F5KmJ5K2F6KmJ6K2F3KmJ3LGNvc29tPDAmJihjb3NvbT0tY29zb20sYng9LWJ4LGJ5PS1ieSxiej0tYnosYnc9LWJ3KSwxLWNvc29tPjFlLTY/KG9tZWdhPU1hdGguYWNvcyhjb3NvbSksc2lub209TWF0aC5zaW4ob21lZ2EpLHNjYWxlMD1NYXRoLnNpbigoMS10KSpvbWVnYSkvc2lub20sc2NhbGUxPU1hdGguc2luKHQqb21lZ2EpL3Npbm9tKTooc2NhbGUwPTEtdCxzY2FsZTE9dCksb3V0WzBdPXNjYWxlMCpheCtzY2FsZTEqYngsb3V0WzFdPXNjYWxlMCpheStzY2FsZTEqYnksb3V0WzJdPXNjYWxlMCpheitzY2FsZTEqYnosb3V0WzNdPXNjYWxlMCphdytzY2FsZTEqYncsb3V0fWZ1bmN0aW9uIGludmVydChvdXQsYSl7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sZG90PWEwKmEwK2ExKmExK2EyKmEyK2EzKmEzLGludkRvdD1kb3Q/MS9kb3Q6MDtyZXR1cm4gb3V0WzBdPS1hMCppbnZEb3Qsb3V0WzFdPS1hMSppbnZEb3Qsb3V0WzJdPS1hMippbnZEb3Qsb3V0WzNdPWEzKmludkRvdCxvdXR9ZnVuY3Rpb24gY29uanVnYXRlKG91dCxhKXtyZXR1cm4gb3V0WzBdPS1hWzBdLG91dFsxXT0tYVsxXSxvdXRbMl09LWFbMl0sb3V0WzNdPWFbM10sb3V0fWZ1bmN0aW9uIGZyb21NYXQzKG91dCxtKXt2YXIgZlRyYWNlPW1bMF0rbVs0XSttWzhdLGZSb290PXZvaWQgMDtpZihmVHJhY2U+MClmUm9vdD1NYXRoLnNxcnQoZlRyYWNlKzEpLG91dFszXT0uNSpmUm9vdCxmUm9vdD0uNS9mUm9vdCxvdXRbMF09KG1bNV0tbVs3XSkqZlJvb3Qsb3V0WzFdPShtWzZdLW1bMl0pKmZSb290LG91dFsyXT0obVsxXS1tWzNdKSpmUm9vdDtlbHNle3ZhciBpPTA7bVs0XT5tWzBdJiYoaT0xKSxtWzhdPm1bMyppK2ldJiYoaT0yKTt2YXIgaj0oaSsxKSUzLGs9KGkrMiklMztmUm9vdD1NYXRoLnNxcnQobVszKmkraV0tbVszKmoral0tbVszKmsra10rMSksb3V0W2ldPS41KmZSb290LGZSb290PS41L2ZSb290LG91dFszXT0obVszKmora10tbVszKmsral0pKmZSb290LG91dFtqXT0obVszKmoraV0rbVszKmkral0pKmZSb290LG91dFtrXT0obVszKmsraV0rbVszKmkra10pKmZSb290fXJldHVybiBvdXR9ZnVuY3Rpb24gZnJvbUV1bGVyKG91dCx4LHkseil7dmFyIGhhbGZUb1JhZD0uNSpNYXRoLlBJLzE4MDt4Kj1oYWxmVG9SYWQseSo9aGFsZlRvUmFkLHoqPWhhbGZUb1JhZDt2YXIgc3g9TWF0aC5zaW4oeCksY3g9TWF0aC5jb3MoeCksc3k9TWF0aC5zaW4oeSksY3k9TWF0aC5jb3MoeSksc3o9TWF0aC5zaW4oeiksY3o9TWF0aC5jb3Moeik7cmV0dXJuIG91dFswXT1zeCpjeSpjei1jeCpzeSpzeixvdXRbMV09Y3gqc3kqY3orc3gqY3kqc3osb3V0WzJdPWN4KmN5KnN6LXN4KnN5KmN6LG91dFszXT1jeCpjeSpjeitzeCpzeSpzeixvdXR9ZnVuY3Rpb24gc3RyKGEpe3JldHVyblwicXVhdChcIithWzBdK1wiLCBcIithWzFdK1wiLCBcIithWzJdK1wiLCBcIithWzNdK1wiKVwifU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc2V0QXhlcz1leHBvcnRzLnNxbGVycD1leHBvcnRzLnJvdGF0aW9uVG89ZXhwb3J0cy5lcXVhbHM9ZXhwb3J0cy5leGFjdEVxdWFscz1leHBvcnRzLm5vcm1hbGl6ZT1leHBvcnRzLnNxckxlbj1leHBvcnRzLnNxdWFyZWRMZW5ndGg9ZXhwb3J0cy5sZW49ZXhwb3J0cy5sZW5ndGg9ZXhwb3J0cy5sZXJwPWV4cG9ydHMuZG90PWV4cG9ydHMuc2NhbGU9ZXhwb3J0cy5tdWw9ZXhwb3J0cy5hZGQ9ZXhwb3J0cy5zZXQ9ZXhwb3J0cy5jb3B5PWV4cG9ydHMuZnJvbVZhbHVlcz1leHBvcnRzLmNsb25lPXZvaWQgMCxleHBvcnRzLmNyZWF0ZT1jcmVhdGUsZXhwb3J0cy5pZGVudGl0eT1pZGVudGl0eSxleHBvcnRzLnNldEF4aXNBbmdsZT1zZXRBeGlzQW5nbGUsZXhwb3J0cy5nZXRBeGlzQW5nbGU9Z2V0QXhpc0FuZ2xlLGV4cG9ydHMubXVsdGlwbHk9bXVsdGlwbHksZXhwb3J0cy5yb3RhdGVYPXJvdGF0ZVgsZXhwb3J0cy5yb3RhdGVZPXJvdGF0ZVksZXhwb3J0cy5yb3RhdGVaPXJvdGF0ZVosZXhwb3J0cy5jYWxjdWxhdGVXPWNhbGN1bGF0ZVcsZXhwb3J0cy5zbGVycD1zbGVycCxleHBvcnRzLmludmVydD1pbnZlcnQsZXhwb3J0cy5jb25qdWdhdGU9Y29uanVnYXRlLGV4cG9ydHMuZnJvbU1hdDM9ZnJvbU1hdDMsZXhwb3J0cy5mcm9tRXVsZXI9ZnJvbUV1bGVyLGV4cG9ydHMuc3RyPXN0cjt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb21tb24pLF9tYXQ9X193ZWJwYWNrX3JlcXVpcmVfXygyMCksbWF0Mz1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWF0KSxfdmVjPV9fd2VicGFja19yZXF1aXJlX18oMjEpLHZlYzM9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3ZlYyksX3ZlYzI9X193ZWJwYWNrX3JlcXVpcmVfXygyMiksdmVjND1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdmVjMiksbGVuZ3RoPShleHBvcnRzLmNsb25lPXZlYzQuY2xvbmUsZXhwb3J0cy5mcm9tVmFsdWVzPXZlYzQuZnJvbVZhbHVlcyxleHBvcnRzLmNvcHk9dmVjNC5jb3B5LGV4cG9ydHMuc2V0PXZlYzQuc2V0LGV4cG9ydHMuYWRkPXZlYzQuYWRkLGV4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuc2NhbGU9dmVjNC5zY2FsZSxleHBvcnRzLmRvdD12ZWM0LmRvdCxleHBvcnRzLmxlcnA9dmVjNC5sZXJwLGV4cG9ydHMubGVuZ3RoPXZlYzQubGVuZ3RoKSxzcXVhcmVkTGVuZ3RoPShleHBvcnRzLmxlbj1sZW5ndGgsZXhwb3J0cy5zcXVhcmVkTGVuZ3RoPXZlYzQuc3F1YXJlZExlbmd0aCksbm9ybWFsaXplPShleHBvcnRzLnNxckxlbj1zcXVhcmVkTGVuZ3RoLGV4cG9ydHMubm9ybWFsaXplPXZlYzQubm9ybWFsaXplKTtleHBvcnRzLmV4YWN0RXF1YWxzPXZlYzQuZXhhY3RFcXVhbHMsZXhwb3J0cy5lcXVhbHM9dmVjNC5lcXVhbHMsZXhwb3J0cy5yb3RhdGlvblRvPWZ1bmN0aW9uKCl7dmFyIHRtcHZlYzM9dmVjMy5jcmVhdGUoKSx4VW5pdFZlYzM9dmVjMy5mcm9tVmFsdWVzKDEsMCwwKSx5VW5pdFZlYzM9dmVjMy5mcm9tVmFsdWVzKDAsMSwwKTtyZXR1cm4gZnVuY3Rpb24ob3V0LGEsYil7dmFyIGRvdD12ZWMzLmRvdChhLGIpO3JldHVybiBkb3Q8LS45OTk5OTk/KHZlYzMuY3Jvc3ModG1wdmVjMyx4VW5pdFZlYzMsYSksdmVjMy5sZW4odG1wdmVjMyk8MWUtNiYmdmVjMy5jcm9zcyh0bXB2ZWMzLHlVbml0VmVjMyxhKSx2ZWMzLm5vcm1hbGl6ZSh0bXB2ZWMzLHRtcHZlYzMpLHNldEF4aXNBbmdsZShvdXQsdG1wdmVjMyxNYXRoLlBJKSxvdXQpOmRvdD4uOTk5OTk5PyhvdXRbMF09MCxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MSxvdXQpOih2ZWMzLmNyb3NzKHRtcHZlYzMsYSxiKSxvdXRbMF09dG1wdmVjM1swXSxvdXRbMV09dG1wdmVjM1sxXSxvdXRbMl09dG1wdmVjM1syXSxvdXRbM109MStkb3Qsbm9ybWFsaXplKG91dCxvdXQpKX19KCksZXhwb3J0cy5zcWxlcnA9ZnVuY3Rpb24oKXt2YXIgdGVtcDE9Y3JlYXRlKCksdGVtcDI9Y3JlYXRlKCk7cmV0dXJuIGZ1bmN0aW9uKG91dCxhLGIsYyxkLHQpe3JldHVybiBzbGVycCh0ZW1wMSxhLGQsdCksc2xlcnAodGVtcDIsYixjLHQpLHNsZXJwKG91dCx0ZW1wMSx0ZW1wMiwyKnQqKDEtdCkpLG91dH19KCksZXhwb3J0cy5zZXRBeGVzPWZ1bmN0aW9uKCl7dmFyIG1hdHI9bWF0My5jcmVhdGUoKTtyZXR1cm4gZnVuY3Rpb24ob3V0LHZpZXcscmlnaHQsdXApe3JldHVybiBtYXRyWzBdPXJpZ2h0WzBdLG1hdHJbM109cmlnaHRbMV0sbWF0cls2XT1yaWdodFsyXSxtYXRyWzFdPXVwWzBdLG1hdHJbNF09dXBbMV0sbWF0cls3XT11cFsyXSxtYXRyWzJdPS12aWV3WzBdLG1hdHJbNV09LXZpZXdbMV0sbWF0cls4XT0tdmlld1syXSxub3JtYWxpemUob3V0LGZyb21NYXQzKG91dCxtYXRyKSl9fSgpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDIpO3JldHVybiBvdXRbMF09MCxvdXRbMV09MCxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0fWZ1bmN0aW9uIGZyb21WYWx1ZXMoeCx5KXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDIpO3JldHVybiBvdXRbMF09eCxvdXRbMV09eSxvdXR9ZnVuY3Rpb24gY29weShvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dH1mdW5jdGlvbiBzZXQob3V0LHgseSl7cmV0dXJuIG91dFswXT14LG91dFsxXT15LG91dH1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXR9ZnVuY3Rpb24gc3VidHJhY3Qob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdLWJbMF0sb3V0WzFdPWFbMV0tYlsxXSxvdXR9ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdKmJbMF0sb3V0WzFdPWFbMV0qYlsxXSxvdXR9ZnVuY3Rpb24gZGl2aWRlKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS9iWzBdLG91dFsxXT1hWzFdL2JbMV0sb3V0fWZ1bmN0aW9uIGNlaWwob3V0LGEpe3JldHVybiBvdXRbMF09TWF0aC5jZWlsKGFbMF0pLG91dFsxXT1NYXRoLmNlaWwoYVsxXSksb3V0fWZ1bmN0aW9uIGZsb29yKG91dCxhKXtyZXR1cm4gb3V0WzBdPU1hdGguZmxvb3IoYVswXSksb3V0WzFdPU1hdGguZmxvb3IoYVsxXSksb3V0fWZ1bmN0aW9uIG1pbihvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPU1hdGgubWluKGFbMF0sYlswXSksb3V0WzFdPU1hdGgubWluKGFbMV0sYlsxXSksb3V0fWZ1bmN0aW9uIG1heChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPU1hdGgubWF4KGFbMF0sYlswXSksb3V0WzFdPU1hdGgubWF4KGFbMV0sYlsxXSksb3V0fWZ1bmN0aW9uIHJvdW5kKG91dCxhKXtyZXR1cm4gb3V0WzBdPU1hdGgucm91bmQoYVswXSksb3V0WzFdPU1hdGgucm91bmQoYVsxXSksb3V0fWZ1bmN0aW9uIHNjYWxlKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiLG91dFsxXT1hWzFdKmIsb3V0fWZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCxhLGIsc2NhbGUpe3JldHVybiBvdXRbMF09YVswXStiWzBdKnNjYWxlLG91dFsxXT1hWzFdK2JbMV0qc2NhbGUsb3V0fWZ1bmN0aW9uIGRpc3RhbmNlKGEsYil7dmFyIHg9YlswXS1hWzBdLHk9YlsxXS1hWzFdO3JldHVybiBNYXRoLnNxcnQoeCp4K3kqeSl9ZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsYil7dmFyIHg9YlswXS1hWzBdLHk9YlsxXS1hWzFdO3JldHVybiB4KngreSp5fWZ1bmN0aW9uIGxlbmd0aChhKXt2YXIgeD1hWzBdLHk9YVsxXTtyZXR1cm4gTWF0aC5zcXJ0KHgqeCt5KnkpfWZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSl7dmFyIHg9YVswXSx5PWFbMV07cmV0dXJuIHgqeCt5Knl9ZnVuY3Rpb24gbmVnYXRlKG91dCxhKXtyZXR1cm4gb3V0WzBdPS1hWzBdLG91dFsxXT0tYVsxXSxvdXR9ZnVuY3Rpb24gaW52ZXJzZShvdXQsYSl7cmV0dXJuIG91dFswXT0xL2FbMF0sb3V0WzFdPTEvYVsxXSxvdXR9ZnVuY3Rpb24gbm9ybWFsaXplKG91dCxhKXt2YXIgeD1hWzBdLHk9YVsxXSxsZW49eCp4K3kqeTtyZXR1cm4gbGVuPjAmJihsZW49MS9NYXRoLnNxcnQobGVuKSxvdXRbMF09YVswXSpsZW4sb3V0WzFdPWFbMV0qbGVuKSxvdXR9ZnVuY3Rpb24gZG90KGEsYil7cmV0dXJuIGFbMF0qYlswXSthWzFdKmJbMV19ZnVuY3Rpb24gY3Jvc3Mob3V0LGEsYil7dmFyIHo9YVswXSpiWzFdLWFbMV0qYlswXTtyZXR1cm4gb3V0WzBdPW91dFsxXT0wLG91dFsyXT16LG91dH1mdW5jdGlvbiBsZXJwKG91dCxhLGIsdCl7dmFyIGF4PWFbMF0sYXk9YVsxXTtyZXR1cm4gb3V0WzBdPWF4K3QqKGJbMF0tYXgpLG91dFsxXT1heSt0KihiWzFdLWF5KSxvdXR9ZnVuY3Rpb24gcmFuZG9tKG91dCxzY2FsZSl7c2NhbGU9c2NhbGV8fDE7dmFyIHI9MipnbE1hdHJpeC5SQU5ET00oKSpNYXRoLlBJO3JldHVybiBvdXRbMF09TWF0aC5jb3Mocikqc2NhbGUsb3V0WzFdPU1hdGguc2luKHIpKnNjYWxlLG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1NYXQyKG91dCxhLG0pe3ZhciB4PWFbMF0seT1hWzFdO3JldHVybiBvdXRbMF09bVswXSp4K21bMl0qeSxvdXRbMV09bVsxXSp4K21bM10qeSxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0MmQob3V0LGEsbSl7dmFyIHg9YVswXSx5PWFbMV07cmV0dXJuIG91dFswXT1tWzBdKngrbVsyXSp5K21bNF0sb3V0WzFdPW1bMV0qeCttWzNdKnkrbVs1XSxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsYSxtKXt2YXIgeD1hWzBdLHk9YVsxXTtyZXR1cm4gb3V0WzBdPW1bMF0qeCttWzNdKnkrbVs2XSxvdXRbMV09bVsxXSp4K21bNF0qeSttWzddLG91dH1mdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCxhLG0pe3ZhciB4PWFbMF0seT1hWzFdO3JldHVybiBvdXRbMF09bVswXSp4K21bNF0qeSttWzEyXSxvdXRbMV09bVsxXSp4K21bNV0qeSttWzEzXSxvdXR9ZnVuY3Rpb24gc3RyKGEpe3JldHVyblwidmVjMihcIithWzBdK1wiLCBcIithWzFdK1wiKVwifWZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsYil7cmV0dXJuIGFbMF09PT1iWzBdJiZhWzFdPT09YlsxXX1mdW5jdGlvbiBlcXVhbHMoYSxiKXt2YXIgYTA9YVswXSxhMT1hWzFdLGIwPWJbMF0sYjE9YlsxXTtyZXR1cm4gTWF0aC5hYnMoYTAtYjApPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTApLE1hdGguYWJzKGIwKSkmJk1hdGguYWJzKGExLWIxKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExKSxNYXRoLmFicyhiMSkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZm9yRWFjaD1leHBvcnRzLnNxckxlbj1leHBvcnRzLnNxckRpc3Q9ZXhwb3J0cy5kaXN0PWV4cG9ydHMuZGl2PWV4cG9ydHMubXVsPWV4cG9ydHMuc3ViPWV4cG9ydHMubGVuPXZvaWQgMCxleHBvcnRzLmNyZWF0ZT1jcmVhdGUsZXhwb3J0cy5jbG9uZT1jbG9uZSxleHBvcnRzLmZyb21WYWx1ZXM9ZnJvbVZhbHVlcyxleHBvcnRzLmNvcHk9Y29weSxleHBvcnRzLnNldD1zZXQsZXhwb3J0cy5hZGQ9YWRkLGV4cG9ydHMuc3VidHJhY3Q9c3VidHJhY3QsZXhwb3J0cy5tdWx0aXBseT1tdWx0aXBseSxleHBvcnRzLmRpdmlkZT1kaXZpZGUsZXhwb3J0cy5jZWlsPWNlaWwsZXhwb3J0cy5mbG9vcj1mbG9vcixleHBvcnRzLm1pbj1taW4sZXhwb3J0cy5tYXg9bWF4LGV4cG9ydHMucm91bmQ9cm91bmQsZXhwb3J0cy5zY2FsZT1zY2FsZSxleHBvcnRzLnNjYWxlQW5kQWRkPXNjYWxlQW5kQWRkLGV4cG9ydHMuZGlzdGFuY2U9ZGlzdGFuY2UsZXhwb3J0cy5zcXVhcmVkRGlzdGFuY2U9c3F1YXJlZERpc3RhbmNlLGV4cG9ydHMubGVuZ3RoPWxlbmd0aCxleHBvcnRzLnNxdWFyZWRMZW5ndGg9c3F1YXJlZExlbmd0aCxleHBvcnRzLm5lZ2F0ZT1uZWdhdGUsZXhwb3J0cy5pbnZlcnNlPWludmVyc2UsZXhwb3J0cy5ub3JtYWxpemU9bm9ybWFsaXplLGV4cG9ydHMuZG90PWRvdCxleHBvcnRzLmNyb3NzPWNyb3NzLGV4cG9ydHMubGVycD1sZXJwLGV4cG9ydHMucmFuZG9tPXJhbmRvbSxleHBvcnRzLnRyYW5zZm9ybU1hdDI9dHJhbnNmb3JtTWF0MixleHBvcnRzLnRyYW5zZm9ybU1hdDJkPXRyYW5zZm9ybU1hdDJkLGV4cG9ydHMudHJhbnNmb3JtTWF0Mz10cmFuc2Zvcm1NYXQzLGV4cG9ydHMudHJhbnNmb3JtTWF0ND10cmFuc2Zvcm1NYXQ0LGV4cG9ydHMuc3RyPXN0cixleHBvcnRzLmV4YWN0RXF1YWxzPWV4YWN0RXF1YWxzLGV4cG9ydHMuZXF1YWxzPWVxdWFsczt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9jb21tb24pO2V4cG9ydHMubGVuPWxlbmd0aCxleHBvcnRzLnN1Yj1zdWJ0cmFjdCxleHBvcnRzLm11bD1tdWx0aXBseSxleHBvcnRzLmRpdj1kaXZpZGUsZXhwb3J0cy5kaXN0PWRpc3RhbmNlLGV4cG9ydHMuc3FyRGlzdD1zcXVhcmVkRGlzdGFuY2UsZXhwb3J0cy5zcXJMZW49c3F1YXJlZExlbmd0aCxleHBvcnRzLmZvckVhY2g9ZnVuY3Rpb24oKXt2YXIgdmVjPWNyZWF0ZSgpO3JldHVybiBmdW5jdGlvbihhLHN0cmlkZSxvZmZzZXQsY291bnQsZm4sYXJnKXt2YXIgaT12b2lkIDAsbD12b2lkIDA7Zm9yKHN0cmlkZXx8KHN0cmlkZT0yKSxvZmZzZXR8fChvZmZzZXQ9MCksbD1jb3VudD9NYXRoLm1pbihjb3VudCpzdHJpZGUrb2Zmc2V0LGEubGVuZ3RoKTphLmxlbmd0aCxpPW9mZnNldDtpPGw7aSs9c3RyaWRlKXZlY1swXT1hW2ldLHZlY1sxXT1hW2krMV0sZm4odmVjLHZlYyxhcmcpLGFbaV09dmVjWzBdLGFbaSsxXT12ZWNbMV07cmV0dXJuIGF9fSgpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBnZXRBbmRBcHBseUV4dGVuc2lvbihnbCxuYW1lKXt2YXIgZXh0PWdsLmdldEV4dGVuc2lvbihuYW1lKTtpZighZXh0KXJldHVybiExO3ZhciBzdWZmaXg9bmFtZS5zcGxpdChcIl9cIilbMF0sc3VmZml4UkU9bmV3IFJlZ0V4cChzdWZmaXgrXCIkXCIpO2Zvcih2YXIga2V5IGluIGV4dCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZXh0W2tleV0pe3ZhciB1bnN1ZmZpeGVkS2V5PWtleS5yZXBsYWNlKHN1ZmZpeFJFLFwiXCIpO2tleS5zdWJzdHJpbmcmJihnbFt1bnN1ZmZpeGVkS2V5XT1leHRba2V5XS5iaW5kKGV4dCkpfX1yZXR1cm4hMH1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9Z2V0QW5kQXBwbHlFeHRlbnNpb259LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX1dlYmdsQ29uc3Q9X193ZWJwYWNrX3JlcXVpcmVfXygyMyksX1dlYmdsQ29uc3QyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYmdsQ29uc3QpLGV4cG9zZUF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHMgaW4gX1dlYmdsQ29uc3QyLmRlZmF1bHQpX0dMVG9vbDIuZGVmYXVsdFtzXT9jb25zb2xlLmxvZyhcImFscmVhZHkgZXhpc3QgOiBcIixzKTpfR0xUb29sMi5kZWZhdWx0W3NdPV9XZWJnbENvbnN0Mi5kZWZhdWx0W3NdfTtleHBvcnRzLmRlZmF1bHQ9ZXhwb3NlQXR0cmlidXRlc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY2hlY2tGbG9hdCgpe3JldHVybiBfR0xUb29sMi5kZWZhdWx0LndlYmdsMj9fR0xUb29sMi5kZWZhdWx0LmdsLkZMT0FUOl9HTFRvb2wyLmRlZmF1bHQuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfZmxvYXRcIik/X0dMVG9vbDIuZGVmYXVsdC5nbC5GTE9BVDooY29uc29sZS53YXJuKFwiVVNJTkcgRkxPQVQgQlVUIE9FU190ZXh0dXJlX2Zsb2F0IE5PVCBTVVBQT1JURURcIiksX0dMVG9vbDIuZGVmYXVsdC5nbC5VTlNJR05FRF9CWVRFKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gaGFzQ2hlY2tlZHx8KF9mbG9hdD1jaGVja0Zsb2F0KCkpLF9mbG9hdH07dmFyIF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfR0xUb29sKSxoYXNDaGVja2VkPSExLF9mbG9hdD12b2lkIDB9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNoZWNrSGFsZkZsb2F0KCl7aWYoX0dMVG9vbDIuZGVmYXVsdC53ZWJnbDIpcmV0dXJuIF9HTFRvb2wyLmRlZmF1bHQuZ2wuSEFMRl9GTE9BVDt2YXIgZXh0SGFsZkZsb2F0PV9HTFRvb2wyLmRlZmF1bHQuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKTtyZXR1cm4gZXh0SGFsZkZsb2F0P2V4dEhhbGZGbG9hdC5IQUxGX0ZMT0FUX09FUzooY29uc29sZS53YXJuKFwiVVNJTkcgSEFMRiBGTE9BVCBCVVQgT0VTX3RleHR1cmVfaGFsZl9mbG9hdCBOT1QgU1VQUE9SVEVEXCIpLF9HTFRvb2wyLmRlZmF1bHQuZ2wuVU5TSUdORURfQllURSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIGhhc0NoZWNrZWR8fChoYWxmRmxvYXQ9Y2hlY2tIYWxmRmxvYXQoKSksaGFsZkZsb2F0fTt2YXIgX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9HTFRvb2wpLGhhc0NoZWNrZWQ9ITEsaGFsZkZsb2F0PXZvaWQgMH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PVtcIkVYVF9zaGFkZXJfdGV4dHVyZV9sb2RcIixcIkVYVF9zUkdCXCIsXCJFWFRfZnJhZ19kZXB0aFwiLFwiT0VTX3RleHR1cmVfZmxvYXRcIixcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRcIixcIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhclwiLFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXJcIixcIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1wiLFwiV0VCR0xfZGVwdGhfdGV4dHVyZVwiLFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIsXCJPRVNfdmVydGV4X2FycmF5X29iamVjdFwiLFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiLFwiV0VCR0xfZHJhd19idWZmZXJzXCJdfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihzdHJpbmdzKXtcInN0cmluZ1wiPT10eXBlb2Ygc3RyaW5ncyYmKHN0cmluZ3M9W3N0cmluZ3NdKTtmb3IodmFyIGV4cHJzPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHBhcnRzPVtdLGk9MDtpPHN0cmluZ3MubGVuZ3RoLTE7aSsrKXBhcnRzLnB1c2goc3RyaW5nc1tpXSxleHByc1tpXXx8XCJcIik7cmV0dXJuIHBhcnRzLnB1c2goc3RyaW5nc1tpXSkscGFydHMuam9pbihcIlwiKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJhc2ljLmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIEJBU0lDX0ZSQUdNRU5UXFxuXFxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIGZsb2F0IHRpbWU7XFxuLy8gdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZUZXh0dXJlQ29vcmQsIHNpbih0aW1lKSAqIC41ICsgLjUsIDEuMCk7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpc1Bvd2VyT2ZUd28oeCl7cmV0dXJuIDAhPT14JiYhKHgmeC0xKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9HTFRvb2wpLGdldFRleHR1cmVQYXJhbWV0ZXJzPWZ1bmN0aW9uKG1QYXJhbXMsbVNvdXJjZSxtV2lkdGgsbUhlaWdodCl7aWYoIW1QYXJhbXMubWluRmlsdGVyKXt2YXIgbWluRmlsdGVyPV9HTFRvb2wyLmRlZmF1bHQuTElORUFSO21XaWR0aCYmbVdpZHRoJiZpc1Bvd2VyT2ZUd28obVdpZHRoKSYmaXNQb3dlck9mVHdvKG1IZWlnaHQpJiYobWluRmlsdGVyPV9HTFRvb2wyLmRlZmF1bHQuTkVBUkVTVF9NSVBNQVBfTElORUFSKSxtUGFyYW1zLm1pbkZpbHRlcj1taW5GaWx0ZXJ9cmV0dXJuIG1QYXJhbXMubWlwbWFwPW1QYXJhbXMubWlwbWFwfHwhMCxtUGFyYW1zLm1hZ0ZpbHRlcj1tUGFyYW1zLm1hZ0ZpbHRlcnx8X0dMVG9vbDIuZGVmYXVsdC5MSU5FQVIsbVBhcmFtcy53cmFwUz1tUGFyYW1zLndyYXBTfHxfR0xUb29sMi5kZWZhdWx0LkNMQU1QX1RPX0VER0UsbVBhcmFtcy53cmFwVD1tUGFyYW1zLndyYXBUfHxfR0xUb29sMi5kZWZhdWx0LkNMQU1QX1RPX0VER0UsbVBhcmFtcy5pbnRlcm5hbEZvcm1hdD1tUGFyYW1zLmludGVybmFsRm9ybWF0fHxfR0xUb29sMi5kZWZhdWx0LlJHQkEsbVBhcmFtcy5mb3JtYXQ9bVBhcmFtcy5mb3JtYXR8fF9HTFRvb2wyLmRlZmF1bHQuUkdCQSxtUGFyYW1zLnByZW11bHRpcGx5QWxwaGE9bVBhcmFtcy5wcmVtdWx0aXBseUFscGhhfHwhMSxtUGFyYW1zLmxldmVsPW1QYXJhbXMubGV2ZWx8fDAsbVBhcmFtcy5hbmlzb3Ryb3B5PW1QYXJhbXMuYW5pc290cm9weXx8MCxtUGFyYW1zfTtleHBvcnRzLmRlZmF1bHQ9Z2V0VGV4dHVyZVBhcmFtZXRlcnN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHBhcnNlSGVhZGVycyhhcnJheUJ1ZmZlcil7dmFyIGhlYWRlcj1uZXcgSW50MzJBcnJheShhcnJheUJ1ZmZlciwwLGhlYWRlckxlbmd0aEludCk7aWYoaGVhZGVyW29mZl9tYWdpY10hPT1ERFNfTUFHSUMpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBtYWdpYyBudW1iZXIgaW4gRERTIGhlYWRlclwiKTtpZighaGVhZGVyW29mZl9wZkZsYWdzXSZERFBGX0ZPVVJDQyl0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBmb3JtYXQsIG11c3QgY29udGFpbiBhIEZvdXJDQyBjb2RlXCIpO3ZhciBibG9ja0J5dGVzLGZvcm1hdCxmb3VyQ0M9aGVhZGVyW29mZl9wZkZvdXJDQ107c3dpdGNoKGZvdXJDQyl7Y2FzZSBGT1VSQ0NfRFhUMTpibG9ja0J5dGVzPTgsZm9ybWF0PVwiZHh0MVwiO2JyZWFrO2Nhc2UgRk9VUkNDX0RYVDM6YmxvY2tCeXRlcz0xNixmb3JtYXQ9XCJkeHQzXCI7YnJlYWs7Y2FzZSBGT1VSQ0NfRFhUNTpibG9ja0J5dGVzPTE2LGZvcm1hdD1cImR4dDVcIjticmVhaztjYXNlIEZPVVJDQ19GUDMyRjpmb3JtYXQ9XCJyZ2JhMzJmXCI7YnJlYWs7Y2FzZSBGT1VSQ0NfRFgxMDp2YXIgZHgxMEhlYWRlcj1uZXcgVWludDMyQXJyYXkoYXJyYXlCdWZmZXIuc2xpY2UoMTI4LDE0OCkpO2Zvcm1hdD1keDEwSGVhZGVyWzBdO3ZhciByZXNvdXJjZURpbWVuc2lvbj1keDEwSGVhZGVyWzFdO2R4MTBIZWFkZXJbMl0sZHgxMEhlYWRlclszXSxkeDEwSGVhZGVyWzRdO2lmKHJlc291cmNlRGltZW5zaW9uIT09RDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OX1RFWFRVUkUyRHx8Zm9ybWF0IT09RFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX0ZMT0FUKXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIERYMTAgdGV4dHVyZSBmb3JtYXQgXCIrZm9ybWF0KTtmb3JtYXQ9XCJyZ2JhMzJmXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBGb3VyQ0MgY29kZTogXCIraW50MzJUb0ZvdXJDQyhmb3VyQ0MpKX12YXIgZmxhZ3M9aGVhZGVyW29mZl9mbGFnc10sbWlwbWFwQ291bnQ9MTtmbGFncyZERFNEX01JUE1BUENPVU5UJiYobWlwbWFwQ291bnQ9TWF0aC5tYXgoMSxoZWFkZXJbb2ZmX21pcG1hcENvdW50XSkpO3ZhciBjdWJlbWFwPSExO2hlYWRlcltvZmZfY2FwczJdJkREU0NBUFMyX0NVQkVNQVAmJihjdWJlbWFwPSEwKTt2YXIgZGF0YUxlbmd0aCx3aWR0aD1oZWFkZXJbb2ZmX3dpZHRoXSxoZWlnaHQ9aGVhZGVyW29mZl9oZWlnaHRdLGRhdGFPZmZzZXQ9aGVhZGVyW29mZl9zaXplXSs0LHRleFdpZHRoPXdpZHRoLHRleEhlaWdodD1oZWlnaHQsaW1hZ2VzPVtdO2lmKGZvdXJDQz09PUZPVVJDQ19EWDEwJiYoZGF0YU9mZnNldCs9MjApLGN1YmVtYXApZm9yKHZhciBmPTA7Zjw2O2YrKyl7aWYoXCJyZ2JhMzJmXCIhPT1mb3JtYXQpdGhyb3cgbmV3IEVycm9yKFwiT25seSBSR0JBMzJmIGN1YmVtYXBzIGFyZSBzdXBwb3J0ZWRcIik7d2lkdGg9dGV4V2lkdGgsaGVpZ2h0PXRleEhlaWdodDtmb3IodmFyIHJlcXVpcmVkTWlwTGV2ZWxzPU1hdGgubG9nKHdpZHRoKS9NYXRoLmxvZygyKSsxLGk9MDtpPHJlcXVpcmVkTWlwTGV2ZWxzO2krKylkYXRhTGVuZ3RoPXdpZHRoKmhlaWdodCoxNixpbWFnZXMucHVzaCh7b2Zmc2V0OmRhdGFPZmZzZXQsbGVuZ3RoOmRhdGFMZW5ndGgsc2hhcGU6W3dpZHRoLGhlaWdodF19KSxpPG1pcG1hcENvdW50JiYoZGF0YU9mZnNldCs9ZGF0YUxlbmd0aCksd2lkdGg9TWF0aC5mbG9vcih3aWR0aC8yKSxoZWlnaHQ9TWF0aC5mbG9vcihoZWlnaHQvMil9ZWxzZSBmb3IodmFyIGk9MDtpPG1pcG1hcENvdW50O2krKylkYXRhTGVuZ3RoPU1hdGgubWF4KDQsd2lkdGgpLzQqTWF0aC5tYXgoNCxoZWlnaHQpLzQqYmxvY2tCeXRlcyxpbWFnZXMucHVzaCh7b2Zmc2V0OmRhdGFPZmZzZXQsbGVuZ3RoOmRhdGFMZW5ndGgsc2hhcGU6W3dpZHRoLGhlaWdodF19KSxkYXRhT2Zmc2V0Kz1kYXRhTGVuZ3RoLHdpZHRoPU1hdGguZmxvb3Iod2lkdGgvMiksaGVpZ2h0PU1hdGguZmxvb3IoaGVpZ2h0LzIpO3JldHVybntzaGFwZTpbdGV4V2lkdGgsdGV4SGVpZ2h0XSxpbWFnZXM6aW1hZ2VzLGZvcm1hdDpmb3JtYXQsZmxhZ3M6ZmxhZ3MsY3ViZW1hcDpjdWJlbWFwfX1mdW5jdGlvbiBmb3VyQ0NUb0ludDMyKHZhbHVlKXtyZXR1cm4gdmFsdWUuY2hhckNvZGVBdCgwKSsodmFsdWUuY2hhckNvZGVBdCgxKTw8OCkrKHZhbHVlLmNoYXJDb2RlQXQoMik8PDE2KSsodmFsdWUuY2hhckNvZGVBdCgzKTw8MjQpfWZ1bmN0aW9uIGludDMyVG9Gb3VyQ0ModmFsdWUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZ2YWx1ZSx2YWx1ZT4+OCYyNTUsdmFsdWU+PjE2JjI1NSx2YWx1ZT4+MjQmMjU1KX12YXIgRERTX01BR0lDPTU0MjMyNzg3NixERFNEX01JUE1BUENPVU5UPTEzMTA3MixERFBGX0ZPVVJDQz00LEZPVVJDQ19EWFQxPWZvdXJDQ1RvSW50MzIoXCJEWFQxXCIpLEZPVVJDQ19EWFQzPWZvdXJDQ1RvSW50MzIoXCJEWFQzXCIpLEZPVVJDQ19EWFQ1PWZvdXJDQ1RvSW50MzIoXCJEWFQ1XCIpLEZPVVJDQ19EWDEwPWZvdXJDQ1RvSW50MzIoXCJEWDEwXCIpLEZPVVJDQ19GUDMyRj0xMTYsRERTQ0FQUzJfQ1VCRU1BUD01MTIsRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OX1RFWFRVUkUyRD0zLERYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9GTE9BVD0yLGhlYWRlckxlbmd0aEludD0zMSxvZmZfbWFnaWM9MCxvZmZfc2l6ZT0xLG9mZl9mbGFncz0yLG9mZl9oZWlnaHQ9MyxvZmZfd2lkdGg9NCxvZmZfbWlwbWFwQ291bnQ9NyxvZmZfcGZGbGFncz0yMCxvZmZfcGZGb3VyQ0M9MjEsb2ZmX2NhcHMyPTI4O21vZHVsZS5leHBvcnRzPXBhcnNlSGVhZGVyc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9HTEN1YmVUZXh0dXJlPV9fd2VicGFja19yZXF1aXJlX18oMjcpLF9HTEN1YmVUZXh0dXJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTEN1YmVUZXh0dXJlKSxnbD12b2lkIDAsQ3ViZUZyYW1lQnVmZmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ3ViZUZyYW1lQnVmZmVyKHNpemUpe3ZhciBtUGFyYW1ldGVycz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ3ViZUZyYW1lQnVmZmVyKSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHRoaXMuX3NpemU9c2l6ZSx0aGlzLm1hZ0ZpbHRlcj1tUGFyYW1ldGVycy5tYWdGaWx0ZXJ8fGdsLkxJTkVBUix0aGlzLm1pbkZpbHRlcj1tUGFyYW1ldGVycy5taW5GaWx0ZXJ8fGdsLkxJTkVBUix0aGlzLndyYXBTPW1QYXJhbWV0ZXJzLndyYXBTfHxnbC5DTEFNUF9UT19FREdFLHRoaXMud3JhcFQ9bVBhcmFtZXRlcnMud3JhcFR8fGdsLkNMQU1QX1RPX0VER0UsdGhpcy5faW5pdCgpfXJldHVybiBfY3JlYXRlQ2xhc3MoQ3ViZUZyYW1lQnVmZmVyLFt7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudGV4dHVyZT1nbC5jcmVhdGVUZXh0dXJlKCksdGhpcy5nbFRleHR1cmU9bmV3IF9HTEN1YmVUZXh0dXJlMi5kZWZhdWx0KHRoaXMudGV4dHVyZSx7fSwhMCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCx0aGlzLnRleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5tYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5taW5GaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX1dSQVBfUyx0aGlzLndyYXBTKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy53cmFwVCk7Zm9yKHZhciB0YXJnZXRzPVtnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1gsZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YLGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWSxnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1ksZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aLGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWl0saT0wO2k8dGFyZ2V0cy5sZW5ndGg7aSsrKWdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsITEpLGdsLnRleEltYWdlMkQodGFyZ2V0c1tpXSwwLGdsLlJHQkEsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwwLGdsLlJHQkEsZ2wuRkxPQVQsbnVsbCk7dGhpcy5fZnJhbWVCdWZmZXJzPVtdO2Zvcih2YXIgX2k9MDtfaTx0YXJnZXRzLmxlbmd0aDtfaSsrKXt2YXIgZnJhbWVCdWZmZXI9Z2wuY3JlYXRlRnJhbWVidWZmZXIoKTtnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsZnJhbWVCdWZmZXIpLGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLGdsLkNPTE9SX0FUVEFDSE1FTlQwLHRhcmdldHNbX2ldLHRoaXMudGV4dHVyZSwwKTt2YXIgc3RhdHVzPWdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpO3N0YXR1cyE9PWdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFJiZjb25zb2xlLmxvZyhcIidnbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKCkgcmV0dXJuZWQgJ1wiK3N0YXR1cyksdGhpcy5fZnJhbWVCdWZmZXJzLnB1c2goZnJhbWVCdWZmZXIpfWdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUixudWxsKSxnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUixudWxsKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpfX0se2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbihtVGFyZ2V0SW5kZXgpe19HTFRvb2wyLmRlZmF1bHQudmlld3BvcnQoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLl9mcmFtZUJ1ZmZlcnNbbVRhcmdldEluZGV4XSl9fSx7a2V5OlwidW5iaW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXtnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsbnVsbCksX0dMVG9vbDIuZGVmYXVsdC52aWV3cG9ydCgwLDAsX0dMVG9vbDIuZGVmYXVsdC53aWR0aCxfR0xUb29sMi5kZWZhdWx0LmhlaWdodCl9fSx7a2V5OlwiZ2V0VGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2xUZXh0dXJlfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemV9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemV9fV0pLEN1YmVGcmFtZUJ1ZmZlcn0oKTtleHBvcnRzLmRlZmF1bHQ9Q3ViZUZyYW1lQnVmZmVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaXNQb3dlck9mVHdvKHgpe3JldHVybiAwIT09eCYmISh4JngtMSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX0dMVGV4dHVyZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSxfR0xUZXh0dXJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRleHR1cmUpLGdsPXZvaWQgMCxNdWx0aXNhbXBsZUZyYW1lQnVmZmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlcihtV2lkdGgsbUhlaWdodCl7dmFyIG1QYXJhbWV0ZXJzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxNdWx0aXNhbXBsZUZyYW1lQnVmZmVyKSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHRoaXMud2lkdGg9bVdpZHRoLHRoaXMuaGVpZ2h0PW1IZWlnaHQsdGhpcy5tYWdGaWx0ZXI9bVBhcmFtZXRlcnMubWFnRmlsdGVyfHxnbC5MSU5FQVIsdGhpcy5taW5GaWx0ZXI9bVBhcmFtZXRlcnMubWluRmlsdGVyfHxnbC5MSU5FQVIsdGhpcy53cmFwUz1tUGFyYW1ldGVycy53cmFwU3x8Z2wuQ0xBTVBfVE9fRURHRSx0aGlzLndyYXBUPW1QYXJhbWV0ZXJzLndyYXBUfHxnbC5DTEFNUF9UT19FREdFLHRoaXMudXNlRGVwdGg9bVBhcmFtZXRlcnMudXNlRGVwdGh8fCEwLHRoaXMudXNlU3RlbmNpbD1tUGFyYW1ldGVycy51c2VTdGVuY2lsfHwhMSx0aGlzLnRleGVsVHlwZT1tUGFyYW1ldGVycy50eXBlLHRoaXMuX251bVNhbXBsZT1tUGFyYW1ldGVycy5udW1TYW1wbGV8fDgsaXNQb3dlck9mVHdvKHRoaXMud2lkdGgpJiZpc1Bvd2VyT2ZUd28odGhpcy5oZWlnaHQpfHwodGhpcy53cmFwUz10aGlzLndyYXBUPWdsLkNMQU1QX1RPX0VER0UsdGhpcy5taW5GaWx0ZXI9PT1nbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QmJih0aGlzLm1pbkZpbHRlcj1nbC5MSU5FQVIpKSx0aGlzLl9pbml0KCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhNdWx0aXNhbXBsZUZyYW1lQnVmZmVyLFt7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0ZXhlbFR5cGU9Z2wuVU5TSUdORURfQllURTt0aGlzLnRleGVsVHlwZSYmKHRleGVsVHlwZT10aGlzLnRleGVsVHlwZSksdGhpcy50ZXhlbFR5cGU9dGV4ZWxUeXBlLHRoaXMuZnJhbWVCdWZmZXI9Z2wuY3JlYXRlRnJhbWVidWZmZXIoKSx0aGlzLmZyYW1lQnVmZmVyQ29sb3I9Z2wuY3JlYXRlRnJhbWVidWZmZXIoKSx0aGlzLnJlbmRlckJ1ZmZlckNvbG9yPWdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLHRoaXMucmVuZGVyQnVmZmVyRGVwdGg9Z2wuY3JlYXRlUmVuZGVyYnVmZmVyKCksdGhpcy5nbFRleHR1cmU9dGhpcy5fY3JlYXRlVGV4dHVyZSgpLHRoaXMuZ2xEZXB0aFRleHR1cmU9dGhpcy5fY3JlYXRlVGV4dHVyZShnbC5ERVBUSF9DT01QT05FTlQxNixnbC5VTlNJR05FRF9TSE9SVCxnbC5ERVBUSF9DT01QT05FTlQsITApLGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyQ29sb3IpLGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsdGhpcy5fbnVtU2FtcGxlLGdsLlJHQkE4LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyRGVwdGgpLGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsdGhpcy5fbnVtU2FtcGxlLGdsLkRFUFRIX0NPTVBPTkVOVDE2LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLmZyYW1lQnVmZmVyKSxnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUixnbC5DT0xPUl9BVFRBQ0hNRU5UMCxnbC5SRU5ERVJCVUZGRVIsdGhpcy5yZW5kZXJCdWZmZXJDb2xvciksZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsZ2wuREVQVEhfQVRUQUNITUVOVCxnbC5SRU5ERVJCVUZGRVIsdGhpcy5yZW5kZXJCdWZmZXJEZXB0aCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLmZyYW1lQnVmZmVyQ29sb3IpLGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLGdsLkNPTE9SX0FUVEFDSE1FTlQwLGdsLlRFWFRVUkVfMkQsdGhpcy5nbFRleHR1cmUudGV4dHVyZSwwKSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsbnVsbCl9fSx7a2V5OlwiX2NyZWF0ZVRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbihtSW50ZXJuYWxmb3JtYXQsbVRleGVsVHlwZSxtRm9ybWF0KXt2YXIgZm9yY2VOZWFyZXN0PWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107dm9pZCAwPT09bUludGVybmFsZm9ybWF0JiYobUludGVybmFsZm9ybWF0PWdsLlJHQkEpLHZvaWQgMD09PW1UZXhlbFR5cGUmJihtVGV4ZWxUeXBlPXRoaXMudGV4ZWxUeXBlKSxtRm9ybWF0fHwobUZvcm1hdD1tSW50ZXJuYWxmb3JtYXQpO3ZhciB0PWdsLmNyZWF0ZVRleHR1cmUoKSxnbHQ9bmV3IF9HTFRleHR1cmUyLmRlZmF1bHQodCwhMCksbWFnRmlsdGVyPWZvcmNlTmVhcmVzdD9fR0xUb29sMi5kZWZhdWx0Lk5FQVJFU1Q6dGhpcy5tYWdGaWx0ZXIsbWluRmlsdGVyPWZvcmNlTmVhcmVzdD9fR0xUb29sMi5kZWZhdWx0Lk5FQVJFU1Q6dGhpcy5taW5GaWx0ZXI7cmV0dXJuIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdCksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUFHX0ZJTFRFUixtYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsbWluRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy53cmFwUyksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMud3JhcFQpLGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwwLG1JbnRlcm5hbGZvcm1hdCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDAsbUZvcm1hdCxtVGV4ZWxUeXBlLG51bGwpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCksZ2x0fX0se2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbigpeyghKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdKSYmX0dMVG9vbDIuZGVmYXVsdC52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLHRoaXMuZnJhbWVCdWZmZXIpfX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKCl7KCEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0pJiZfR0xUb29sMi5kZWZhdWx0LnZpZXdwb3J0KDAsMCxfR0xUb29sMi5kZWZhdWx0LndpZHRoLF9HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0KTt2YXIgd2lkdGg9dGhpcy53aWR0aCxoZWlnaHQ9dGhpcy5oZWlnaHQ7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5SRUFEX0ZSQU1FQlVGRkVSLHRoaXMuZnJhbWVCdWZmZXIpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5EUkFXX0ZSQU1FQlVGRkVSLHRoaXMuZnJhbWVCdWZmZXJDb2xvciksZ2wuY2xlYXJCdWZmZXJmdihnbC5DT0xPUiwwLFswLDAsMCwwXSksZ2wuYmxpdEZyYW1lYnVmZmVyKDAsMCx3aWR0aCxoZWlnaHQsMCwwLHdpZHRoLGhlaWdodCxnbC5DT0xPUl9CVUZGRVJfQklULF9HTFRvb2wyLmRlZmF1bHQuTkVBUkVTVCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpfX0se2tleTpcImdldFRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZ2xUZXh0dXJlfX0se2tleTpcImdldERlcHRoVGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2xEZXB0aFRleHR1cmV9fV0pLE11bHRpc2FtcGxlRnJhbWVCdWZmZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PU11bHRpc2FtcGxlRnJhbWVCdWZmZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfTWVzaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLF9NZXNoMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKSxnbD12b2lkIDAsVHJhbnNmb3JtRmVlZGJhY2tPYmplY3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBUcmFuc2Zvcm1GZWVkYmFja09iamVjdChzdHJWZXJ0ZXhTaGFkZXIsc3RyRnJhZ21lbnRTaGFkZXIpe19jbGFzc0NhbGxDaGVjayh0aGlzLFRyYW5zZm9ybUZlZWRiYWNrT2JqZWN0KSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHRoaXMuX3ZzPXN0clZlcnRleFNoYWRlcix0aGlzLl9mcz1zdHJGcmFnbWVudFNoYWRlcix0aGlzLl9pbml0KCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm1GZWVkYmFja09iamVjdCxbe2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9tZXNoQ3VycmVudD1uZXcgX01lc2gyLmRlZmF1bHQsdGhpcy5fbWVzaFRhcmdldD1uZXcgX01lc2gyLmRlZmF1bHQsdGhpcy5fbnVtUG9pbnRzPS0xLHRoaXMuX3ZhcnlpbmdzPVtdLHRoaXMudHJhbnNmb3JtRmVlZGJhY2s9Z2wuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKX19LHtrZXk6XCJidWZmZXJEYXRhXCIsdmFsdWU6ZnVuY3Rpb24obURhdGEsbU5hbWUsbVZhcnlpbmdOYW1lKXt2YXIgaXNUcmFuc2Zvcm1GZWVkYmFjaz0hIW1WYXJ5aW5nTmFtZTtjb25zb2xlLmxvZyhcImlzIFRyYW5zZm9ybSBmZWVkYmFjayA/XCIsbU5hbWUsaXNUcmFuc2Zvcm1GZWVkYmFjayksdGhpcy5fbWVzaEN1cnJlbnQuYnVmZmVyRGF0YShtRGF0YSxtTmFtZSxudWxsLGdsLlNUUkVBTV9DT1BZLCExKSx0aGlzLl9tZXNoVGFyZ2V0LmJ1ZmZlckRhdGEobURhdGEsbU5hbWUsbnVsbCxnbC5TVFJFQU1fQ09QWSwhMSksaXNUcmFuc2Zvcm1GZWVkYmFjayYmKHRoaXMuX3ZhcnlpbmdzLnB1c2gobVZhcnlpbmdOYW1lKSx0aGlzLl9udW1Qb2ludHM8MCYmKHRoaXMuX251bVBvaW50cz1tRGF0YS5sZW5ndGgpKX19LHtrZXk6XCJidWZmZXJJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKG1BcnJheUluZGljZXMpe3RoaXMuX21lc2hDdXJyZW50LmJ1ZmZlckluZGV4KG1BcnJheUluZGljZXMpLHRoaXMuX21lc2hUYXJnZXQuYnVmZmVySW5kZXgobUFycmF5SW5kaWNlcyl9fSx7a2V5OlwidW5pZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKG1OYW1lLG1UeXBlLG1WYWx1ZSl7dGhpcy5zaGFkZXImJnRoaXMuc2hhZGVyLnVuaWZvcm0obU5hbWUsbVR5cGUsbVZhbHVlKX19LHtrZXk6XCJnZW5lcmF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdCh0aGlzLl92cyx0aGlzLl9mcyx0aGlzLl92YXJ5aW5ncyl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNoYWRlcnx8dGhpcy5nZW5lcmF0ZSgpLHRoaXMuc2hhZGVyLmJpbmQoKSxfR0xUb29sMi5kZWZhdWx0LmRyYXdUcmFuc2Zvcm1GZWVkYmFjayh0aGlzKSx0aGlzLl9zd2FwKCl9fSx7a2V5OlwiX3N3YXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0bXA9dGhpcy5fbWVzaEN1cnJlbnQ7dGhpcy5fbWVzaEN1cnJlbnQ9dGhpcy5fbWVzaFRhcmdldCx0aGlzLl9tZXNoVGFyZ2V0PXRtcH19LHtrZXk6XCJudW1Qb2ludHNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtUG9pbnRzfX0se2tleTpcIm1lc2hDdXJyZW50XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2hDdXJyZW50fX0se2tleTpcIm1lc2hUYXJnZXRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzaFRhcmdldH19LHtrZXk6XCJtZXNoU291cmNlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2hDdXJyZW50fX0se2tleTpcIm1lc2hEZXN0aW5hdGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNoVGFyZ2V0fX1dKSxUcmFuc2Zvcm1GZWVkYmFja09iamVjdH0oKTtleHBvcnRzLmRlZmF1bHQ9VHJhbnNmb3JtRmVlZGJhY2tPYmplY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGdldEZ1bmMobUVhc2luZyl7c3dpdGNoKG1FYXNpbmcpe2RlZmF1bHQ6Y2FzZVwibGluZWFyXCI6cmV0dXJuIEVhc2luZy5MaW5lYXIuTm9uZTtjYXNlXCJleHBJblwiOnJldHVybiBFYXNpbmcuRXhwb25lbnRpYWwuSW47Y2FzZVwiZXhwT3V0XCI6cmV0dXJuIEVhc2luZy5FeHBvbmVudGlhbC5PdXQ7Y2FzZVwiZXhwSW5PdXRcIjpyZXR1cm4gRWFzaW5nLkV4cG9uZW50aWFsLkluT3V0O2Nhc2VcImN1YmljSW5cIjpyZXR1cm4gRWFzaW5nLkN1YmljLkluO2Nhc2VcImN1YmljT3V0XCI6cmV0dXJuIEVhc2luZy5DdWJpYy5PdXQ7Y2FzZVwiY3ViaWNJbk91dFwiOnJldHVybiBFYXNpbmcuQ3ViaWMuSW5PdXQ7Y2FzZVwicXVhcnRpY0luXCI6cmV0dXJuIEVhc2luZy5RdWFydGljLkluO2Nhc2VcInF1YXJ0aWNPdXRcIjpyZXR1cm4gRWFzaW5nLlF1YXJ0aWMuT3V0O2Nhc2VcInF1YXJ0aWNJbk91dFwiOnJldHVybiBFYXNpbmcuUXVhcnRpYy5Jbk91dDtjYXNlXCJxdWludGljSW5cIjpyZXR1cm4gRWFzaW5nLlF1aW50aWMuSW47Y2FzZVwicXVpbnRpY091dFwiOnJldHVybiBFYXNpbmcuUXVpbnRpYy5PdXQ7Y2FzZVwicXVpbnRpY0luT3V0XCI6cmV0dXJuIEVhc2luZy5RdWludGljLkluT3V0O2Nhc2VcInNpbnVzb2lkYWxJblwiOnJldHVybiBFYXNpbmcuU2ludXNvaWRhbC5JbjtjYXNlXCJzaW51c29pZGFsT3V0XCI6cmV0dXJuIEVhc2luZy5TaW51c29pZGFsLk91dDtjYXNlXCJzaW51c29pZGFsSW5PdXRcIjpyZXR1cm4gRWFzaW5nLlNpbnVzb2lkYWwuSW5PdXQ7Y2FzZVwiY2lyY3VsYXJJblwiOnJldHVybiBFYXNpbmcuQ2lyY3VsYXIuSW47Y2FzZVwiY2lyY3VsYXJPdXRcIjpyZXR1cm4gRWFzaW5nLkNpcmN1bGFyLk91dDtjYXNlXCJjaXJjdWxhckluT3V0XCI6cmV0dXJuIEVhc2luZy5DaXJjdWxhci5Jbk91dDtjYXNlXCJlbGFzdGljSW5cIjpyZXR1cm4gRWFzaW5nLkVsYXN0aWMuSW47Y2FzZVwiZWxhc3RpY091dFwiOnJldHVybiBFYXNpbmcuRWxhc3RpYy5PdXQ7Y2FzZVwiZWxhc3RpY0luT3V0XCI6cmV0dXJuIEVhc2luZy5FbGFzdGljLkluT3V0O2Nhc2VcImJhY2tJblwiOnJldHVybiBFYXNpbmcuQmFjay5JbjtjYXNlXCJiYWNrT3V0XCI6cmV0dXJuIEVhc2luZy5CYWNrLk91dDtjYXNlXCJiYWNrSW5PdXRcIjpyZXR1cm4gRWFzaW5nLkJhY2suSW5PdXQ7Y2FzZVwiYm91bmNlSW5cIjpyZXR1cm4gRWFzaW5nLkJvdW5jZS5pbjtjYXNlXCJib3VuY2VPdXRcIjpyZXR1cm4gRWFzaW5nLkJvdW5jZS5vdXQ7Y2FzZVwiYm91bmNlSW5PdXRcIjpyZXR1cm4gRWFzaW5nLkJvdW5jZS5pbk91dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX3NjaGVkdWxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfc2NoZWR1bGluZzI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX3NjaGVkdWxpbmcpLEVhc2luZz17TGluZWFyOntOb25lOmZ1bmN0aW9uKGspe3JldHVybiBrfX0sUXVhZHJhdGljOntJbjpmdW5jdGlvbihrKXtyZXR1cm4gayprfSxPdXQ6ZnVuY3Rpb24oayl7cmV0dXJuIGsqKDItayl9LEluT3V0OmZ1bmN0aW9uKGspe3JldHVybihrKj0yKTwxPy41KmsqazotLjUqKC0tayooay0yKS0xKX19LEN1YmljOntJbjpmdW5jdGlvbihrKXtyZXR1cm4gayprKmt9LE91dDpmdW5jdGlvbihrKXtyZXR1cm4tLWsqayprKzF9LEluT3V0OmZ1bmN0aW9uKGspe3JldHVybihrKj0yKTwxPy41KmsqayprOi41Kigoay09MikqayprKzIpfX0sUXVhcnRpYzp7SW46ZnVuY3Rpb24oayl7cmV0dXJuIGsqayprKmt9LE91dDpmdW5jdGlvbihrKXtyZXR1cm4gMS0gLS1rKmsqayprfSxJbk91dDpmdW5jdGlvbihrKXtyZXR1cm4oayo9Mik8MT8uNSprKmsqayprOi0uNSooKGstPTIpKmsqayprLTIpfX0sUXVpbnRpYzp7SW46ZnVuY3Rpb24oayl7cmV0dXJuIGsqayprKmsqa30sT3V0OmZ1bmN0aW9uKGspe3JldHVybi0tayprKmsqayprKzF9LEluT3V0OmZ1bmN0aW9uKGspe3JldHVybihrKj0yKTwxPy41KmsqayprKmsqazouNSooKGstPTIpKmsqayprKmsrMil9fSxTaW51c29pZGFsOntJbjpmdW5jdGlvbihrKXtyZXR1cm4gMS1NYXRoLmNvcyhrKk1hdGguUEkvMil9LE91dDpmdW5jdGlvbihrKXtyZXR1cm4gTWF0aC5zaW4oaypNYXRoLlBJLzIpfSxJbk91dDpmdW5jdGlvbihrKXtyZXR1cm4uNSooMS1NYXRoLmNvcyhNYXRoLlBJKmspKX19LEV4cG9uZW50aWFsOntJbjpmdW5jdGlvbihrKXtyZXR1cm4gMD09PWs/MDpNYXRoLnBvdygxMDI0LGstMSl9LE91dDpmdW5jdGlvbihrKXtyZXR1cm4gMT09PWs/MToxLU1hdGgucG93KDIsLTEwKmspfSxJbk91dDpmdW5jdGlvbihrKXtyZXR1cm4gMD09PWs/MDoxPT09az8xOihrKj0yKTwxPy41Kk1hdGgucG93KDEwMjQsay0xKTouNSooMi1NYXRoLnBvdygyLC0xMCooay0xKSkpfX0sQ2lyY3VsYXI6e0luOmZ1bmN0aW9uKGspe3JldHVybiAxLU1hdGguc3FydCgxLWsqayl9LE91dDpmdW5jdGlvbihrKXtyZXR1cm4gTWF0aC5zcXJ0KDEtIC0tayprKX0sSW5PdXQ6ZnVuY3Rpb24oayl7cmV0dXJuKGsqPTIpPDE/LS41KihNYXRoLnNxcnQoMS1rKmspLTEpOi41KihNYXRoLnNxcnQoMS0oay09MikqaykrMSl9fSxFbGFzdGljOntJbjpmdW5jdGlvbihrKXt2YXIgcz12b2lkIDAsYT0uMTtyZXR1cm4gMD09PWs/MDoxPT09az8xOighYXx8YTwxPyhhPTEscz0uMSk6cz0uNCpNYXRoLmFzaW4oMS9hKS8oMipNYXRoLlBJKSwtYSpNYXRoLnBvdygyLDEwKihrLT0xKSkqTWF0aC5zaW4oKGstcykqKDIqTWF0aC5QSSkvLjQpKX0sT3V0OmZ1bmN0aW9uKGspe3ZhciBzPXZvaWQgMCxhPS4xO3JldHVybiAwPT09az8wOjE9PT1rPzE6KCFhfHxhPDE/KGE9MSxzPS4xKTpzPS40Kk1hdGguYXNpbigxL2EpLygyKk1hdGguUEkpLGEqTWF0aC5wb3coMiwtMTAqaykqTWF0aC5zaW4oKGstcykqKDIqTWF0aC5QSSkvLjQpKzEpfSxJbk91dDpmdW5jdGlvbihrKXt2YXIgcz12b2lkIDAsYT0uMTtyZXR1cm4gMD09PWs/MDoxPT09az8xOighYXx8YTwxPyhhPTEscz0uMSk6cz0uNCpNYXRoLmFzaW4oMS9hKS8oMipNYXRoLlBJKSwoayo9Mik8MT9hKk1hdGgucG93KDIsMTAqKGstPTEpKSpNYXRoLnNpbigoay1zKSooMipNYXRoLlBJKS8uNCkqLS41OmEqTWF0aC5wb3coMiwtMTAqKGstPTEpKSpNYXRoLnNpbigoay1zKSooMipNYXRoLlBJKS8uNCkqLjUrMSl9fSxCYWNrOntJbjpmdW5jdGlvbihrKXt2YXIgcz0xLjcwMTU4O3JldHVybiBrKmsqKChzKzEpKmstcyl9LE91dDpmdW5jdGlvbihrKXt2YXIgcz0xLjcwMTU4O3JldHVybi0tayprKigocysxKSprK3MpKzF9LEluT3V0OmZ1bmN0aW9uKGspe3ZhciBzPTIuNTk0OTA5NTtyZXR1cm4oayo9Mik8MT9rKmsqKChzKzEpKmstcykqLjU6LjUqKChrLT0yKSprKigocysxKSprK3MpKzIpfX0sQm91bmNlOntpbjpmdW5jdGlvbihrKXtyZXR1cm4gMS1FYXNpbmcuQm91bmNlLm91dCgxLWspfSxvdXQ6ZnVuY3Rpb24oayl7cmV0dXJuIGs8MS8yLjc1PzcuNTYyNSprKms6azwyLzIuNzU/Ny41NjI1KihrLT0xLjUvMi43NSkqaysuNzU6azwyLjUvMi43NT83LjU2MjUqKGstPTIuMjUvMi43NSkqaysuOTM3NTo3LjU2MjUqKGstPTIuNjI1LzIuNzUpKmsrLjk4NDM3NX0saW5PdXQ6ZnVuY3Rpb24oayl7cmV0dXJuIGs8LjU/LjUqRWFzaW5nLkJvdW5jZS5pbigyKmspOi41KkVhc2luZy5Cb3VuY2Uub3V0KDIqay0xKSsuNX19fSxUd2Vlbk51bWJlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIFR3ZWVuTnVtYmVyKG1WYWx1ZSl7dmFyIF90aGlzPXRoaXMsbUVhc2luZz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJleHBPdXRcIixtU3BlZWQ9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOi4wMTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxUd2Vlbk51bWJlciksdGhpcy5fdmFsdWU9bVZhbHVlLHRoaXMuX3N0YXJ0VmFsdWU9bVZhbHVlLHRoaXMuX3RhcmdldFZhbHVlPW1WYWx1ZSx0aGlzLl9jb3VudGVyPTEsdGhpcy5zcGVlZD1tU3BlZWQsdGhpcy5lYXNpbmc9bUVhc2luZyx0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX2VmSW5kZXg9X3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX3VwZGF0ZSgpfSl9cmV0dXJuIF9jcmVhdGVDbGFzcyhUd2Vlbk51bWJlcixbe2tleTpcIl91cGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBuZXdDb3VudGVyPXRoaXMuX2NvdW50ZXIrdGhpcy5zcGVlZDtpZihuZXdDb3VudGVyPjEmJihuZXdDb3VudGVyPTEpLHRoaXMuX2NvdW50ZXI9PT1uZXdDb3VudGVyKXJldHVybiB2b2lkKHRoaXMuX25lZWRVcGRhdGU9ITEpO3RoaXMuX2NvdW50ZXI9bmV3Q291bnRlcix0aGlzLl9uZWVkVXBkYXRlPSEwfX0se2tleTpcImxpbWl0XCIsdmFsdWU6ZnVuY3Rpb24obU1pbixtTWF4KXtpZihtTWluPm1NYXgpcmV0dXJuIHZvaWQgdGhpcy5saW1pdChtTWF4LG1NaW4pO3RoaXMuX21pbj1tTWluLHRoaXMuX21heD1tTWF4LHRoaXMuX2NoZWNrTGltaXQoKX19LHtrZXk6XCJzZXRUb1wiLHZhbHVlOmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fdmFsdWU9bVZhbHVlLHRoaXMuX3RhcmdldFZhbHVlPW1WYWx1ZSx0aGlzLl9jb3VudGVyPTF9fSx7a2V5OlwiX2NoZWNrTGltaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX21pbiYmdGhpcy5fdGFyZ2V0VmFsdWU8dGhpcy5fbWluJiYodGhpcy5fdGFyZ2V0VmFsdWU9dGhpcy5fbWluKSx2b2lkIDAhPT10aGlzLl9tYXgmJnRoaXMuX3RhcmdldFZhbHVlPnRoaXMuX21heCYmKHRoaXMuX3RhcmdldFZhbHVlPXRoaXMuX21heCl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7X3NjaGVkdWxpbmcyLmRlZmF1bHQucmVtb3ZlRUYodGhpcy5fZWZJbmRleCl9fSx7a2V5OlwidmFsdWVcIixzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9zdGFydFZhbHVlPXRoaXMuX3ZhbHVlLHRoaXMuX3RhcmdldFZhbHVlPW1WYWx1ZSx0aGlzLl9jaGVja0xpbWl0KCksdGhpcy5fY291bnRlcj0wfSxnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9uZWVkVXBkYXRlKXt2YXIgZj1nZXRGdW5jKHRoaXMuZWFzaW5nKSxwPWYodGhpcy5fY291bnRlcik7dGhpcy5fdmFsdWU9dGhpcy5fc3RhcnRWYWx1ZStwKih0aGlzLl90YXJnZXRWYWx1ZS10aGlzLl9zdGFydFZhbHVlKSx0aGlzLl9uZWVkVXBkYXRlPSExfXJldHVybiB0aGlzLl92YWx1ZX19LHtrZXk6XCJ0YXJnZXRWYWx1ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXRWYWx1ZX19XSksVHdlZW5OdW1iZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PVR3ZWVuTnVtYmVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMSksX2dsTWF0cml4Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbE1hdHJpeCksX0Vhc2VOdW1iZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMyksX0Vhc2VOdW1iZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Vhc2VOdW1iZXIpLF9zY2hlZHVsaW5nPV9fd2VicGFja19yZXF1aXJlX18oNiksX3NjaGVkdWxpbmcyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NjaGVkdWxpbmcpLGdldE1vdXNlPWZ1bmN0aW9uKG1FdmVudCxtVGFyZ2V0KXt2YXIgbz1tVGFyZ2V0fHx7fTtyZXR1cm4gbUV2ZW50LnRvdWNoZXM/KG8ueD1tRXZlbnQudG91Y2hlc1swXS5wYWdlWCxvLnk9bUV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpOihvLng9bUV2ZW50LmNsaWVudFgsby55PW1FdmVudC5jbGllbnRZKSxvfSxRdWF0Um90YXRpb249ZnVuY3Rpb24oKXtmdW5jdGlvbiBRdWF0Um90YXRpb24obVRhcmdldCl7dmFyIF90aGlzPXRoaXMsbUxpc3RlbmVyVGFyZ2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp3aW5kb3csbUVhc2luZz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06LjE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUXVhdFJvdGF0aW9uKSx0aGlzLl90YXJnZXQ9bVRhcmdldCx0aGlzLl9saXN0ZW5lclRhcmdldD1tTGlzdGVuZXJUYXJnZXQsdGhpcy5tYXRyaXg9X2dsTWF0cml4Mi5kZWZhdWx0Lm1hdDQuY3JlYXRlKCksdGhpcy5tPV9nbE1hdHJpeDIuZGVmYXVsdC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX3ZaYXhpcz1fZ2xNYXRyaXgyLmRlZmF1bHQudmVjMy5jbG9uZShbMCwwLDBdKSx0aGlzLl96QXhpcz1fZ2xNYXRyaXgyLmRlZmF1bHQudmVjMy5jbG9uZShbMCwwLDFdKSx0aGlzLnByZU1vdXNlPXt4OjAseTowfSx0aGlzLm1vdXNlPXt4OjAseTowfSx0aGlzLl9pc01vdXNlRG93bj0hMSx0aGlzLl9yb3RhdGlvbj1fZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5jcmVhdGUoKSx0aGlzLnRlbXBSb3RhdGlvbj1fZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5jcmVhdGUoKSx0aGlzLl9yb3RhdGVaTWFyZ2luPTAsdGhpcy5fb2Zmc2V0PS4wMDQsdGhpcy5fc2xlcnA9LTEsdGhpcy5faXNMb2NrZWQ9ITEsdGhpcy5fZGlmZlg9bmV3IF9FYXNlTnVtYmVyMi5kZWZhdWx0KDAsbUVhc2luZyksdGhpcy5fZGlmZlk9bmV3IF9FYXNlTnVtYmVyMi5kZWZhdWx0KDAsbUVhc2luZyksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25Eb3duKGUpfSksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixmdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uRG93bihlKX0pLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixmdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uTW92ZShlKX0pLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixmdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uTW92ZShlKX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fb25VcCgpfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX29uVXAoKX0pLF9zY2hlZHVsaW5nMi5kZWZhdWx0LmFkZEVGKGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzLl9sb29wKCl9KX1yZXR1cm4gX2NyZWF0ZUNsYXNzKFF1YXRSb3RhdGlvbixbe2tleTpcImludmVyc2VDb250cm9sXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgaXNJbnZlcnQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTt0aGlzLl9pc0ludmVydD1pc0ludmVydH19LHtrZXk6XCJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbVZhbHVlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07dGhpcy5faXNMb2NrZWQ9bVZhbHVlfX0se2tleTpcInNldENhbWVyYVBvc1wiLHZhbHVlOmZ1bmN0aW9uKG1RdWF0KXt2YXIgc3BlZWQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOi4xO2lmKHRoaXMuZWFzaW5nPXNwZWVkLCEodGhpcy5fc2xlcnA+MCkpe3ZhciB0ZW1wUm90YXRpb249X2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY2xvbmUodGhpcy5fcm90YXRpb24pO3RoaXMuX3VwZGF0ZVJvdGF0aW9uKHRlbXBSb3RhdGlvbiksdGhpcy5fcm90YXRpb249X2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY2xvbmUodGVtcFJvdGF0aW9uKSx0aGlzLl9jdXJyRGlmZlg9dGhpcy5kaWZmWD0wLHRoaXMuX2N1cnJEaWZmWT10aGlzLmRpZmZZPTAsdGhpcy5faXNNb3VzZURvd249ITEsdGhpcy5faXNSb3RhdGVaPTAsdGhpcy5fdGFyZ2V0UXVhdD1fZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5jbG9uZShtUXVhdCksdGhpcy5fc2xlcnA9MX19fSx7a2V5OlwicmVzZXRRdWF0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9yb3RhdGlvbj1fZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5jbG9uZShbMCwwLDEsMF0pLHRoaXMudGVtcFJvdGF0aW9uPV9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LmNsb25lKFswLDAsMCwwXSksdGhpcy5fdGFyZ2V0UXVhdD12b2lkIDAsdGhpcy5fc2xlcnA9LTF9fSx7a2V5OlwiX29uRG93blwiLHZhbHVlOmZ1bmN0aW9uKG1FdmVudCl7aWYoIXRoaXMuX2lzTG9ja2VkKXt2YXIgbW91c2U9Z2V0TW91c2UobUV2ZW50KSx0ZW1wUm90YXRpb249X2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY2xvbmUodGhpcy5fcm90YXRpb24pO3RoaXMuX3VwZGF0ZVJvdGF0aW9uKHRlbXBSb3RhdGlvbiksdGhpcy5fcm90YXRpb249dGVtcFJvdGF0aW9uLHRoaXMuX2lzTW91c2VEb3duPSEwLHRoaXMuX2lzUm90YXRlWj0wLHRoaXMucHJlTW91c2U9e3g6bW91c2UueCx5Om1vdXNlLnl9LG1vdXNlLnk8dGhpcy5fcm90YXRlWk1hcmdpbnx8bW91c2UueT53aW5kb3cuaW5uZXJIZWlnaHQtdGhpcy5fcm90YXRlWk1hcmdpbj90aGlzLl9pc1JvdGF0ZVo9MToobW91c2UueDx0aGlzLl9yb3RhdGVaTWFyZ2lufHxtb3VzZS54PndpbmRvdy5pbm5lcldpZHRoLXRoaXMuX3JvdGF0ZVpNYXJnaW4pJiYodGhpcy5faXNSb3RhdGVaPTIpLHRoaXMuX2RpZmZYLnNldFRvKDApLHRoaXMuX2RpZmZZLnNldFRvKDApfX19LHtrZXk6XCJfb25Nb3ZlXCIsdmFsdWU6ZnVuY3Rpb24obUV2ZW50KXt0aGlzLl9pc0xvY2tlZHx8Z2V0TW91c2UobUV2ZW50LHRoaXMubW91c2UpfX0se2tleTpcIl9vblVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pc0xvY2tlZHx8KHRoaXMuX2lzTW91c2VEb3duPSExKX19LHtrZXk6XCJfdXBkYXRlUm90YXRpb25cIix2YWx1ZTpmdW5jdGlvbihtVGVtcFJvdGF0aW9uKXt0aGlzLl9pc01vdXNlRG93biYmIXRoaXMuX2lzTG9ja2VkJiYodGhpcy5fZGlmZlgudmFsdWU9LSh0aGlzLm1vdXNlLngtdGhpcy5wcmVNb3VzZS54KSx0aGlzLl9kaWZmWS52YWx1ZT10aGlzLm1vdXNlLnktdGhpcy5wcmVNb3VzZS55LHRoaXMuX2lzSW52ZXJ0JiYodGhpcy5fZGlmZlgudmFsdWU9LXRoaXMuX2RpZmZYLnRhcmdldFZhbHVlLHRoaXMuX2RpZmZZLnZhbHVlPS10aGlzLl9kaWZmWS50YXJnZXRWYWx1ZSkpO3ZhciBhbmdsZT12b2lkIDAsX3F1YXQ9dm9pZCAwO2lmKHRoaXMuX2lzUm90YXRlWj4wKTE9PT10aGlzLl9pc1JvdGF0ZVo/KGFuZ2xlPS10aGlzLl9kaWZmWC52YWx1ZSp0aGlzLl9vZmZzZXQsYW5nbGUqPXRoaXMucHJlTW91c2UueTx0aGlzLl9yb3RhdGVaTWFyZ2luPy0xOjEsX3F1YXQ9X2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY2xvbmUoWzAsMCxNYXRoLnNpbihhbmdsZSksTWF0aC5jb3MoYW5nbGUpXSksX2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQubXVsdGlwbHkoX3F1YXQsbVRlbXBSb3RhdGlvbixfcXVhdCkpOihhbmdsZT0tdGhpcy5fZGlmZlkudmFsdWUqdGhpcy5fb2Zmc2V0LGFuZ2xlKj10aGlzLnByZU1vdXNlLng8dGhpcy5fcm90YXRlWk1hcmdpbj8xOi0xLF9xdWF0PV9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LmNsb25lKFswLDAsTWF0aC5zaW4oYW5nbGUpLE1hdGguY29zKGFuZ2xlKV0pLF9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0Lm11bHRpcGx5KF9xdWF0LG1UZW1wUm90YXRpb24sX3F1YXQpKTtlbHNle3ZhciB2PV9nbE1hdHJpeDIuZGVmYXVsdC52ZWMzLmNsb25lKFt0aGlzLl9kaWZmWC52YWx1ZSx0aGlzLl9kaWZmWS52YWx1ZSwwXSksYXhpcz1fZ2xNYXRyaXgyLmRlZmF1bHQudmVjMy5jcmVhdGUoKTtfZ2xNYXRyaXgyLmRlZmF1bHQudmVjMy5jcm9zcyhheGlzLHYsdGhpcy5fekF4aXMpLF9nbE1hdHJpeDIuZGVmYXVsdC52ZWMzLm5vcm1hbGl6ZShheGlzLGF4aXMpLGFuZ2xlPV9nbE1hdHJpeDIuZGVmYXVsdC52ZWMzLmxlbmd0aCh2KSp0aGlzLl9vZmZzZXQsX3F1YXQ9X2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY2xvbmUoW01hdGguc2luKGFuZ2xlKSpheGlzWzBdLE1hdGguc2luKGFuZ2xlKSpheGlzWzFdLE1hdGguc2luKGFuZ2xlKSpheGlzWzJdLE1hdGguY29zKGFuZ2xlKV0pLF9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0Lm11bHRpcGx5KG1UZW1wUm90YXRpb24sX3F1YXQsbVRlbXBSb3RhdGlvbil9fX0se2tleTpcIl9sb29wXCIsdmFsdWU6ZnVuY3Rpb24oKXtfZ2xNYXRyaXgyLmRlZmF1bHQubWF0NC5pZGVudGl0eSh0aGlzLm0pLHZvaWQgMD09PXRoaXMuX3RhcmdldFF1YXQ/KF9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LnNldCh0aGlzLnRlbXBSb3RhdGlvbix0aGlzLl9yb3RhdGlvblswXSx0aGlzLl9yb3RhdGlvblsxXSx0aGlzLl9yb3RhdGlvblsyXSx0aGlzLl9yb3RhdGlvblszXSksdGhpcy5fdXBkYXRlUm90YXRpb24odGhpcy50ZW1wUm90YXRpb24pKToodGhpcy5fc2xlcnArPS4xKigwLXRoaXMuX3NsZXJwKSx0aGlzLl9zbGVycDw1ZS00PyhfZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5jb3B5KHRoaXMuX3JvdGF0aW9uLHRoaXMuX3RhcmdldFF1YXQpLF9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LmNvcHkodGhpcy50ZW1wUm90YXRpb24sdGhpcy5fdGFyZ2V0UXVhdCksdGhpcy5fdGFyZ2V0UXVhdD12b2lkIDAsdGhpcy5fZGlmZlguc2V0VG8oMCksdGhpcy5fZGlmZlkuc2V0VG8oMCksdGhpcy5fc2xlcnA9LTEpOihfZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5zZXQodGhpcy50ZW1wUm90YXRpb24sMCwwLDAsMCksX2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuc2xlcnAodGhpcy50ZW1wUm90YXRpb24sdGhpcy5fdGFyZ2V0UXVhdCx0aGlzLl9yb3RhdGlvbix0aGlzLl9zbGVycCkpKSxfZ2xNYXRyaXgyLmRlZmF1bHQudmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuX3ZaYXhpcyx0aGlzLl92WmF4aXMsdGhpcy50ZW1wUm90YXRpb24pLF9nbE1hdHJpeDIuZGVmYXVsdC5tYXQ0LmZyb21RdWF0KHRoaXMubWF0cml4LHRoaXMudGVtcFJvdGF0aW9uKX19LHtrZXk6XCJlYXNpbmdcIixzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9kaWZmWC5lYXNpbmc9bVZhbHVlLHRoaXMuX2RpZmZZLmVhc2luZz1tVmFsdWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaWZmWC5lYXNpbmd9fV0pLFF1YXRSb3RhdGlvbn0oKTtleHBvcnRzLmRlZmF1bHQ9UXVhdFJvdGF0aW9ufSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfWZ1bmN0aW9uIGRpc3RhbmNlKGEsYil7dmFyIGR4PWEueC1iLngsZHk9YS55LWIueTtyZXR1cm4gTWF0aC5zcXJ0KGR4KmR4K2R5KmR5KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfRXZlbnREaXNwYXRjaGVyMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSxfRXZlbnREaXNwYXRjaGVyMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudERpc3BhdGNoZXIyKSxfUmF5PV9fd2VicGFja19yZXF1aXJlX18oMTQpLF9SYXkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JheSksX2dldE1vdXNlPV9fd2VicGFja19yZXF1aXJlX18oNjIpLF9nZXRNb3VzZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0TW91c2UpLFRvdWNoRGV0ZWN0b3I9ZnVuY3Rpb24oX0V2ZW50RGlzcGF0Y2hlcil7ZnVuY3Rpb24gVG91Y2hEZXRlY3RvcihtTWVzaCxtQ2FtZXJhKXt2YXIgbVNraXBNb3ZlQ2hlY2s9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxtTGlzdGVuZXJUYXJnZXQ9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOndpbmRvdztfY2xhc3NDYWxsQ2hlY2sodGhpcyxUb3VjaERldGVjdG9yKTt2YXIgX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoVG91Y2hEZXRlY3Rvci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihUb3VjaERldGVjdG9yKSkuY2FsbCh0aGlzKSk7cmV0dXJuIF90aGlzLl9tZXNoPW1NZXNoLF90aGlzLl9tZXNoLmdlbmVyYXRlRmFjZXMoKSxfdGhpcy5fY2FtZXJhPW1DYW1lcmEsX3RoaXMuZmFjZVZlcnRpY2VzPW1NZXNoLmZhY2VzLm1hcChmdW5jdGlvbihmYWNlKXtyZXR1cm4gZmFjZS52ZXJ0aWNlc30pLF90aGlzLmNsaWNrVG9sZXJhbmNlPTgsX3RoaXMuX3JheT1uZXcgX1JheTIuZGVmYXVsdChbMCwwLDBdLFswLDAsLTFdKSxfdGhpcy5faGl0PXZlYzMuZnJvbVZhbHVlcygtOTk5LC05OTksLTk5OSksX3RoaXMuX2xhc3RQb3MsX3RoaXMuX2ZpcnN0UG9zLF90aGlzLm10eE1vZGVsPW1hdDQuY3JlYXRlKCksX3RoaXMuX2xpc3RlbmVyVGFyZ2V0PW1MaXN0ZW5lclRhcmdldCxfdGhpcy5fc2tpcHBpbmdNb3ZlPW1Ta2lwTW92ZUNoZWNrLF90aGlzLl9vbk1vdmVCaW5kPWZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25Nb3ZlKGUpfSxfdGhpcy5fb25Eb3duQmluZD1mdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uRG93bihlKX0sX3RoaXMuX29uVXBCaW5kPWZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzLl9vblVwKCl9LF90aGlzLmNvbm5lY3QoKSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKFRvdWNoRGV0ZWN0b3IsX0V2ZW50RGlzcGF0Y2hlciksX2NyZWF0ZUNsYXNzKFRvdWNoRGV0ZWN0b3IsW3trZXk6XCJjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fb25Eb3duQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZUJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25VcEJpbmQpfX0se2tleTpcImRpc2Nvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vbkRvd25CaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9vblVwQmluZCl9fSx7a2V5OlwiX2NoZWNrSGl0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgX3RoaXMyPXRoaXMsbVR5cGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwib25IaXRcIixjYW1lcmE9dGhpcy5fY2FtZXJhO2lmKGNhbWVyYSl7dmFyIG14PXRoaXMuX2xhc3RQb3MueC9fR0xUb29sMi5kZWZhdWx0LndpZHRoKjItMSxteT0tdGhpcy5fbGFzdFBvcy55L19HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0KjIrMTtjYW1lcmEuZ2VuZXJhdGVSYXkoW214LG15LDBdLHRoaXMuX3JheSk7Zm9yKHZhciBoaXQ9dm9pZCAwLHYwPXZlYzMuY3JlYXRlKCksdjE9dmVjMy5jcmVhdGUoKSx2Mj12ZWMzLmNyZWF0ZSgpLGRpc3Q9MCxnZXRWZWN0b3I9ZnVuY3Rpb24odix0YXJnZXQpe3ZlYzMudHJhbnNmb3JtTWF0NCh0YXJnZXQsdixfdGhpczIubXR4TW9kZWwpfSxpPTA7aTx0aGlzLmZhY2VWZXJ0aWNlcy5sZW5ndGg7aSsrKXt2YXIgdmVydGljZXM9dGhpcy5mYWNlVmVydGljZXNbaV07Z2V0VmVjdG9yKHZlcnRpY2VzWzBdLHYwKSxnZXRWZWN0b3IodmVydGljZXNbMV0sdjEpLGdldFZlY3Rvcih2ZXJ0aWNlc1syXSx2Mik7dmFyIHQ9dGhpcy5fcmF5LmludGVyc2VjdFRyaWFuZ2xlKHYwLHYxLHYyKTtpZih0KWlmKGhpdCl7dmFyIGRpc3RUb0NhbT12ZWMzLmRpc3QodCxjYW1lcmEucG9zaXRpb24pO2Rpc3RUb0NhbTxkaXN0JiYoaGl0PXZlYzMuY2xvbmUodCksZGlzdD1kaXN0VG9DYW0pfWVsc2UgaGl0PXZlYzMuY2xvbmUodCksZGlzdD12ZWMzLmRpc3QoaGl0LGNhbWVyYS5wb3NpdGlvbil9aGl0Pyh0aGlzLl9oaXQ9dmVjMy5jbG9uZShoaXQpLHRoaXMuZGlzcGF0Y2hDdXN0b21FdmVudChtVHlwZSx7aGl0OmhpdH0pKTp0aGlzLmRpc3BhdGNoQ3VzdG9tRXZlbnQoXCJvblVwXCIpfX19LHtrZXk6XCJfb25Eb3duXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZmlyc3RQb3M9KDAsX2dldE1vdXNlMi5kZWZhdWx0KShlKSx0aGlzLl9sYXN0UG9zPSgwLF9nZXRNb3VzZTIuZGVmYXVsdCkoZSksdGhpcy5fY2hlY2tIaXQoXCJvbkRvd25cIil9fSx7a2V5OlwiX29uTW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2xhc3RQb3M9KDAsX2dldE1vdXNlMi5kZWZhdWx0KShlKSx0aGlzLl9za2lwcGluZ01vdmV8fHRoaXMuX2NoZWNrSGl0KCl9fSx7a2V5OlwiX29uVXBcIix2YWx1ZTpmdW5jdGlvbigpe2Rpc3RhbmNlKHRoaXMuX2ZpcnN0UG9zLHRoaXMuX2xhc3RQb3MpPHRoaXMuY2xpY2tUb2xlcmFuY2UmJnRoaXMuX2NoZWNrSGl0KCl9fV0pLFRvdWNoRGV0ZWN0b3J9KF9FdmVudERpc3BhdGNoZXIzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1Ub3VjaERldGVjdG9yfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHg9dm9pZCAwLHk9dm9pZCAwO3JldHVybiBlLnRvdWNoZXM/KHg9ZS50b3VjaGVzWzBdLnBhZ2VYLHk9ZS50b3VjaGVzWzBdLnBhZ2VZKTooeD1lLmNsaWVudFgseT1lLmNsaWVudFkpLHt4OngseTp5fX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfQ2FtZXJhUGVyc3BlY3RpdmUyPV9fd2VicGFja19yZXF1aXJlX18oMTYpLF9DYW1lcmFQZXJzcGVjdGl2ZTM9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX0NhbWVyYVBlcnNwZWN0aXZlMiksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMSksQ0FNRVJBX1NFVFRJTkdTPVtbX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygxLDAsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLC0xLDApXSxbX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygtMSwwLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwtMSwwKV0sW19nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwxLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLDEpXSxbX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLDAsMCksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLC0xLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLC0xKV0sW19nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLDEpLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwtMSwwKV0sW19nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLC0xKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsLTEsMCldXSxDYW1lcmFDdWJlPWZ1bmN0aW9uKF9DYW1lcmFQZXJzcGVjdGl2ZSl7ZnVuY3Rpb24gQ2FtZXJhQ3ViZSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLENhbWVyYUN1YmUpO3ZhciBfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChDYW1lcmFDdWJlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKENhbWVyYUN1YmUpKS5jYWxsKHRoaXMpKTtyZXR1cm4gX3RoaXMuc2V0UGVyc3BlY3RpdmUoTWF0aC5QSS8yLDEsLjEsMWUzKSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKENhbWVyYUN1YmUsX0NhbWVyYVBlcnNwZWN0aXZlKSxfY3JlYXRlQ2xhc3MoQ2FtZXJhQ3ViZSxbe2tleTpcImZhY2VcIix2YWx1ZTpmdW5jdGlvbihtSW5kZXgpe3ZhciBvPUNBTUVSQV9TRVRUSU5HU1ttSW5kZXhdO3RoaXMubG9va0F0KG9bMF0sb1sxXSxvWzJdKX19XSksQ2FtZXJhQ3ViZX0oX0NhbWVyYVBlcnNwZWN0aXZlMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9Q2FtZXJhQ3ViZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2V0PWZ1bmN0aW9uIGdldChvYmplY3QscHJvcGVydHkscmVjZWl2ZXIpe251bGw9PT1vYmplY3QmJihvYmplY3Q9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgZGVzYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxwcm9wZXJ0eSk7aWYodm9pZCAwPT09ZGVzYyl7dmFyIHBhcmVudD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtyZXR1cm4gbnVsbD09PXBhcmVudD92b2lkIDA6Z2V0KHBhcmVudCxwcm9wZXJ0eSxyZWNlaXZlcil9aWYoXCJ2YWx1ZVwiaW4gZGVzYylyZXR1cm4gZGVzYy52YWx1ZTt2YXIgZ2V0dGVyPWRlc2MuZ2V0O2lmKHZvaWQgMCE9PWdldHRlcilyZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpfSxfQmluYXJ5TG9hZGVyMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KSxfQmluYXJ5TG9hZGVyMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CaW5hcnlMb2FkZXIyKSxfTWVzaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLF9NZXNoMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKSxPYmpMb2FkZXI9ZnVuY3Rpb24oX0JpbmFyeUxvYWRlcil7ZnVuY3Rpb24gT2JqTG9hZGVyKCl7cmV0dXJuIF9jbGFzc0NhbGxDaGVjayh0aGlzLE9iakxvYWRlciksX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoT2JqTG9hZGVyLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKE9iakxvYWRlcikpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIF9pbmhlcml0cyhPYmpMb2FkZXIsX0JpbmFyeUxvYWRlciksX2NyZWF0ZUNsYXNzKE9iakxvYWRlcixbe2tleTpcImxvYWRcIix2YWx1ZTpmdW5jdGlvbih1cmwsY2FsbGJhY2spe3ZhciBkcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06NDt0aGlzLl9kcmF3VHlwZT1kcmF3VHlwZSxfZ2V0KE9iakxvYWRlci5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqTG9hZGVyLnByb3RvdHlwZSksXCJsb2FkXCIsdGhpcykuY2FsbCh0aGlzLHVybCxjYWxsYmFjayl9fSx7a2V5OlwiX29uTG9hZGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBhcnNlT2JqKHRoaXMuX3JlcS5yZXNwb25zZSl9fSx7a2V5OlwicGFyc2VPYmpcIix2YWx1ZTpmdW5jdGlvbihvYmpTdHIpe2Z1bmN0aW9uIHBhcnNlVmVydGV4SW5kZXgodmFsdWUpe3ZhciBpbmRleD1wYXJzZUludCh2YWx1ZSk7cmV0dXJuIDMqKGluZGV4Pj0wP2luZGV4LTE6aW5kZXgrdmVydGljZXMubGVuZ3RoLzMpfWZ1bmN0aW9uIHBhcnNlTm9ybWFsSW5kZXgodmFsdWUpe3ZhciBpbmRleD1wYXJzZUludCh2YWx1ZSk7cmV0dXJuIDMqKGluZGV4Pj0wP2luZGV4LTE6aW5kZXgrbm9ybWFscy5sZW5ndGgvMyl9ZnVuY3Rpb24gcGFyc2VVVkluZGV4KHZhbHVlKXt2YXIgaW5kZXg9cGFyc2VJbnQodmFsdWUpO3JldHVybiAyKihpbmRleD49MD9pbmRleC0xOmluZGV4K3V2cy5sZW5ndGgvMil9ZnVuY3Rpb24gYWRkVmVydGV4KGEsYixjKXtwb3NpdGlvbnMucHVzaChbdmVydGljZXNbYV0sdmVydGljZXNbYSsxXSx2ZXJ0aWNlc1thKzJdXSkscG9zaXRpb25zLnB1c2goW3ZlcnRpY2VzW2JdLHZlcnRpY2VzW2IrMV0sdmVydGljZXNbYisyXV0pLHBvc2l0aW9ucy5wdXNoKFt2ZXJ0aWNlc1tjXSx2ZXJ0aWNlc1tjKzFdLHZlcnRpY2VzW2MrMl1dKSxpbmRpY2VzLnB1c2goMypjb3VudCswKSxpbmRpY2VzLnB1c2goMypjb3VudCsxKSxpbmRpY2VzLnB1c2goMypjb3VudCsyKSxjb3VudCsrfWZ1bmN0aW9uIGFkZFVWKGEsYixjKXtjb29yZHMucHVzaChbdXZzW2FdLHV2c1thKzFdXSksY29vcmRzLnB1c2goW3V2c1tiXSx1dnNbYisxXV0pLGNvb3Jkcy5wdXNoKFt1dnNbY10sdXZzW2MrMV1dKX1mdW5jdGlvbiBhZGROb3JtYWwoYSxiLGMpe2ZpbmFsTm9ybWFscy5wdXNoKFtub3JtYWxzW2FdLG5vcm1hbHNbYSsxXSxub3JtYWxzW2ErMl1dKSxmaW5hbE5vcm1hbHMucHVzaChbbm9ybWFsc1tiXSxub3JtYWxzW2IrMV0sbm9ybWFsc1tiKzJdXSksZmluYWxOb3JtYWxzLnB1c2goW25vcm1hbHNbY10sbm9ybWFsc1tjKzFdLG5vcm1hbHNbYysyXV0pfWZ1bmN0aW9uIGFkZEZhY2UoYSxiLGMsZCx1YSx1Yix1Yyx1ZCxuYSxuYixuYyxuZCl7dmFyIGlhPXBhcnNlVmVydGV4SW5kZXgoYSksaWI9cGFyc2VWZXJ0ZXhJbmRleChiKSxpYz1wYXJzZVZlcnRleEluZGV4KGMpLGlkPXZvaWQgMDt2b2lkIDA9PT1kP2FkZFZlcnRleChpYSxpYixpYyk6KGlkPXBhcnNlVmVydGV4SW5kZXgoZCksYWRkVmVydGV4KGlhLGliLGlkKSxhZGRWZXJ0ZXgoaWIsaWMsaWQpKSx2b2lkIDAhPT11YSYmKGlhPXBhcnNlVVZJbmRleCh1YSksaWI9cGFyc2VVVkluZGV4KHViKSxpYz1wYXJzZVVWSW5kZXgodWMpLHZvaWQgMD09PWQ/YWRkVVYoaWEsaWIsaWMpOihpZD1wYXJzZVVWSW5kZXgodWQpLGFkZFVWKGlhLGliLGlkKSxhZGRVVihpYixpYyxpZCkpKSx2b2lkIDAhPT1uYSYmKGlhPXBhcnNlTm9ybWFsSW5kZXgobmEpLGliPXBhcnNlTm9ybWFsSW5kZXgobmIpLGljPXBhcnNlTm9ybWFsSW5kZXgobmMpLHZvaWQgMD09PWQ/YWRkTm9ybWFsKGlhLGliLGljKTooaWQ9cGFyc2VOb3JtYWxJbmRleChuZCksYWRkTm9ybWFsKGlhLGliLGlkKSxhZGROb3JtYWwoaWIsaWMsaWQpKSl9Zm9yKHZhciBsaW5lcz1vYmpTdHIuc3BsaXQoXCJcXG5cIikscG9zaXRpb25zPVtdLGNvb3Jkcz1bXSxmaW5hbE5vcm1hbHM9W10sdmVydGljZXM9W10sbm9ybWFscz1bXSx1dnM9W10saW5kaWNlcz1bXSxjb3VudD0wLHJlc3VsdD12b2lkIDAsdmVydGV4UGF0dGVybj0vdiggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspKCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykoICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKS8sbm9ybWFsUGF0dGVybj0vdm4oICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKSggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspKCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykvLHV2UGF0dGVybj0vdnQoICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKSggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspLyxmYWNlUGF0dGVybjE9L2YoICstP1xcZCspKCArLT9cXGQrKSggKy0/XFxkKykoICstP1xcZCspPy8sZmFjZVBhdHRlcm4yPS9mKCArKC0/XFxkKylcXC8oLT9cXGQrKSkoICsoLT9cXGQrKVxcLygtP1xcZCspKSggKygtP1xcZCspXFwvKC0/XFxkKykpKCArKC0/XFxkKylcXC8oLT9cXGQrKSk/LyxmYWNlUGF0dGVybjM9L2YoICsoLT9cXGQrKVxcLygtP1xcZCspXFwvKC0/XFxkKykpKCArKC0/XFxkKylcXC8oLT9cXGQrKVxcLygtP1xcZCspKSggKygtP1xcZCspXFwvKC0/XFxkKylcXC8oLT9cXGQrKSkoICsoLT9cXGQrKVxcLygtP1xcZCspXFwvKC0/XFxkKykpPy8sZmFjZVBhdHRlcm40PS9mKCArKC0/XFxkKylcXC9cXC8oLT9cXGQrKSkoICsoLT9cXGQrKVxcL1xcLygtP1xcZCspKSggKygtP1xcZCspXFwvXFwvKC0/XFxkKykpKCArKC0/XFxkKylcXC9cXC8oLT9cXGQrKSk/LyxpPTA7aTxsaW5lcy5sZW5ndGg7aSsrKXt2YXIgbGluZT1saW5lc1tpXTtsaW5lPWxpbmUudHJpbSgpLDAhPT1saW5lLmxlbmd0aCYmXCIjXCIhPT1saW5lLmNoYXJBdCgwKSYmKG51bGwhPT0ocmVzdWx0PXZlcnRleFBhdHRlcm4uZXhlYyhsaW5lKSk/dmVydGljZXMucHVzaChwYXJzZUZsb2F0KHJlc3VsdFsxXSkscGFyc2VGbG9hdChyZXN1bHRbMl0pLHBhcnNlRmxvYXQocmVzdWx0WzNdKSk6bnVsbCE9PShyZXN1bHQ9bm9ybWFsUGF0dGVybi5leGVjKGxpbmUpKT9ub3JtYWxzLnB1c2gocGFyc2VGbG9hdChyZXN1bHRbMV0pLHBhcnNlRmxvYXQocmVzdWx0WzJdKSxwYXJzZUZsb2F0KHJlc3VsdFszXSkpOm51bGwhPT0ocmVzdWx0PXV2UGF0dGVybi5leGVjKGxpbmUpKT91dnMucHVzaChwYXJzZUZsb2F0KHJlc3VsdFsxXSkscGFyc2VGbG9hdChyZXN1bHRbMl0pKTpudWxsIT09KHJlc3VsdD1mYWNlUGF0dGVybjEuZXhlYyhsaW5lKSk/YWRkRmFjZShyZXN1bHRbMV0scmVzdWx0WzJdLHJlc3VsdFszXSxyZXN1bHRbNF0pOm51bGwhPT0ocmVzdWx0PWZhY2VQYXR0ZXJuMi5leGVjKGxpbmUpKT9hZGRGYWNlKHJlc3VsdFsyXSxyZXN1bHRbNV0scmVzdWx0WzhdLHJlc3VsdFsxMV0scmVzdWx0WzNdLHJlc3VsdFs2XSxyZXN1bHRbOV0scmVzdWx0WzEyXSk6bnVsbCE9PShyZXN1bHQ9ZmFjZVBhdHRlcm4zLmV4ZWMobGluZSkpP2FkZEZhY2UocmVzdWx0WzJdLHJlc3VsdFs2XSxyZXN1bHRbMTBdLHJlc3VsdFsxNF0scmVzdWx0WzNdLHJlc3VsdFs3XSxyZXN1bHRbMTFdLHJlc3VsdFsxNV0scmVzdWx0WzRdLHJlc3VsdFs4XSxyZXN1bHRbMTJdLHJlc3VsdFsxNl0pOm51bGwhPT0ocmVzdWx0PWZhY2VQYXR0ZXJuNC5leGVjKGxpbmUpKSYmYWRkRmFjZShyZXN1bHRbMl0scmVzdWx0WzVdLHJlc3VsdFs4XSxyZXN1bHRbMTFdLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxyZXN1bHRbM10scmVzdWx0WzZdLHJlc3VsdFs5XSxyZXN1bHRbMTJdKSl9cmV0dXJuIHRoaXMuX2dlbmVyYXRlTWVzaGVzKHtwb3NpdGlvbnM6cG9zaXRpb25zLGNvb3Jkczpjb29yZHMsbm9ybWFsczpmaW5hbE5vcm1hbHMsaW5kaWNlczppbmRpY2VzfSl9fSx7a2V5OlwiX2dlbmVyYXRlTWVzaGVzXCIsdmFsdWU6ZnVuY3Rpb24obyl7dmFyIGhhc05vcm1hbHM9by5ub3JtYWxzLmxlbmd0aD4wLGhhc1VWcz1vLmNvb3Jkcy5sZW5ndGg+MCxtZXNoPXZvaWQgMDtpZihvLnBvc2l0aW9ucy5sZW5ndGg+NjU1MzUpe3ZhciBtZXNoZXM9W10sbGFzdEluZGV4PTAsb0NvcHk9e307Zm9yKG9Db3B5LnBvc2l0aW9ucz1vLnBvc2l0aW9ucy5jb25jYXQoKSxvQ29weS5jb29yZHM9by5jb29yZHMuY29uY2F0KCksb0NvcHkuaW5kaWNlcz1vLmluZGljZXMuY29uY2F0KCksb0NvcHkubm9ybWFscz1vLm5vcm1hbHMuY29uY2F0KCk7by5pbmRpY2VzLmxlbmd0aD4wOyl7Zm9yKHZhciBzbGljZU51bT1NYXRoLm1pbig2NTUzNSxvLnBvc2l0aW9ucy5sZW5ndGgpLGluZGljZXM9by5pbmRpY2VzLnNwbGljZSgwLHNsaWNlTnVtKSxwb3NpdGlvbnM9W10sY29vcmRzPVtdLG5vcm1hbHM9W10saW5kZXg9dm9pZCAwLHRtcEluZGV4PTAsaT0wO2k8aW5kaWNlcy5sZW5ndGg7aSsrKWluZGljZXNbaV0+dG1wSW5kZXgmJih0bXBJbmRleD1pbmRpY2VzW2ldKSxpbmRleD1pbmRpY2VzW2ldLHBvc2l0aW9ucy5wdXNoKG9Db3B5LnBvc2l0aW9uc1tpbmRleF0pLGhhc1VWcyYmY29vcmRzLnB1c2gob0NvcHkuY29vcmRzW2luZGV4XSksaGFzTm9ybWFscyYmbm9ybWFscy5wdXNoKG9Db3B5Lm5vcm1hbHNbaW5kZXhdKSxpbmRpY2VzW2ldLT1sYXN0SW5kZXg7bGFzdEluZGV4PXRtcEluZGV4KzEsbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQodGhpcy5fZHJhd1R5cGUpLG1lc2guYnVmZmVyVmVydGV4KHBvc2l0aW9ucyksaGFzVVZzJiZtZXNoLmJ1ZmZlclRleENvb3JkKGNvb3JkcyksbWVzaC5idWZmZXJJbmRleChpbmRpY2VzKSxoYXNOb3JtYWxzJiZtZXNoLmJ1ZmZlck5vcm1hbChub3JtYWxzKSxtZXNoZXMucHVzaChtZXNoKX1yZXR1cm4gdGhpcy5fY2FsbGJhY2smJnRoaXMuX2NhbGxiYWNrKG1lc2hlcyxvQ29weSksbWVzaGVzfXJldHVybiBtZXNoPW5ldyBfTWVzaDIuZGVmYXVsdCh0aGlzLl9kcmF3VHlwZSksbWVzaC5idWZmZXJWZXJ0ZXgoby5wb3NpdGlvbnMpLGhhc1VWcyYmbWVzaC5idWZmZXJUZXhDb29yZChvLmNvb3JkcyksbWVzaC5idWZmZXJJbmRleChvLmluZGljZXMpLGhhc05vcm1hbHMmJm1lc2guYnVmZmVyTm9ybWFsKG8ubm9ybWFscyksdGhpcy5fY2FsbGJhY2smJnRoaXMuX2NhbGxiYWNrKG1lc2gsbyksbWVzaH19XSksT2JqTG9hZGVyfShfQmluYXJ5TG9hZGVyMy5kZWZhdWx0KTtPYmpMb2FkZXIucGFyc2U9ZnVuY3Rpb24ob2JqU3RyKXtyZXR1cm4obmV3IE9iakxvYWRlcikucGFyc2VPYmoob2JqU3RyKX0sZXhwb3J0cy5kZWZhdWx0PU9iakxvYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfQmluYXJ5TG9hZGVyMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KSxfQmluYXJ5TG9hZGVyMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CaW5hcnlMb2FkZXIyKSxfSERSUGFyc2VyPV9fd2VicGFja19yZXF1aXJlX18oNjYpLF9IRFJQYXJzZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hEUlBhcnNlciksSERSTG9hZGVyPWZ1bmN0aW9uKF9CaW5hcnlMb2FkZXIpe2Z1bmN0aW9uIEhEUkxvYWRlcigpe3JldHVybiBfY2xhc3NDYWxsQ2hlY2sodGhpcyxIRFJMb2FkZXIpLF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKEhEUkxvYWRlci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihIRFJMb2FkZXIpKS5jYWxsKHRoaXMsITApKX1yZXR1cm4gX2luaGVyaXRzKEhEUkxvYWRlcixfQmluYXJ5TG9hZGVyKSxfY3JlYXRlQ2xhc3MoSERSTG9hZGVyLFt7a2V5OlwicGFyc2VcIix2YWx1ZTpmdW5jdGlvbihtQXJyYXlCdWZmZXIpe3JldHVybigwLF9IRFJQYXJzZXIyLmRlZmF1bHQpKG1BcnJheUJ1ZmZlcil9fSx7a2V5OlwiX29uTG9hZGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbz10aGlzLnBhcnNlKHRoaXMuX3JlcS5yZXNwb25zZSk7dGhpcy5fY2FsbGJhY2smJnRoaXMuX2NhbGxiYWNrKG8pfX1dKSxIRFJMb2FkZXJ9KF9CaW5hcnlMb2FkZXIzLmRlZmF1bHQpO0hEUkxvYWRlci5wYXJzZT1mdW5jdGlvbihtQXJyYXlCdWZmZXIpe3JldHVybigwLF9IRFJQYXJzZXIyLmRlZmF1bHQpKG1BcnJheUJ1ZmZlcil9LGV4cG9ydHMuZGVmYXVsdD1IRFJMb2FkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHJlYWRQaXhlbHNSYXdSTEUoYnVmZmVyLGRhdGEsb2Zmc2V0LGZpbGVPZmZzZXQsc2NhbmxpbmVXaWR0aCxudW1TY2FubGluZXMpe2Z1bmN0aW9uIHJlYWRCdWYoYnVmKXt2YXIgYnl0ZXNSZWFkPTA7ZG97YnVmW2J5dGVzUmVhZCsrXT1idWZmZXJbZmlsZU9mZnNldF19d2hpbGUoKytmaWxlT2Zmc2V0PGJ1ZmZlckxlbmd0aCYmYnl0ZXNSZWFkPGJ1Zi5sZW5ndGgpO3JldHVybiBieXRlc1JlYWR9ZnVuY3Rpb24gcmVhZEJ1Zk9mZnNldChidWYsb2Zmc2V0LGxlbmd0aCl7dmFyIGJ5dGVzUmVhZD0wO2Rve2J1ZltvZmZzZXQrYnl0ZXNSZWFkKytdPWJ1ZmZlcltmaWxlT2Zmc2V0XX13aGlsZSgrK2ZpbGVPZmZzZXQ8YnVmZmVyTGVuZ3RoJiZieXRlc1JlYWQ8bGVuZ3RoKTtyZXR1cm4gYnl0ZXNSZWFkfWZvcih2YXIgcmdiZT1uZXcgQXJyYXkoNCksc2NhbmxpbmVCdWZmZXI9bnVsbCxwdHI9dm9pZCAwLHB0ckVuZD12b2lkIDAsY291bnQ9dm9pZCAwLGJ1Zj1uZXcgQXJyYXkoMiksYnVmZmVyTGVuZ3RoPWJ1ZmZlci5sZW5ndGg7bnVtU2NhbmxpbmVzPjA7KXtpZihyZWFkQnVmKHJnYmUpPHJnYmUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHJlYWRpbmcgYnl0ZXM6IGV4cGVjdGVkIFwiK3JnYmUubGVuZ3RoKTtpZigyIT09cmdiZVswXXx8MiE9PXJnYmVbMV18fDAhPSgxMjgmcmdiZVsyXSkpcmV0dXJuIGRhdGFbb2Zmc2V0KytdPXJnYmVbMF0sZGF0YVtvZmZzZXQrK109cmdiZVsxXSxkYXRhW29mZnNldCsrXT1yZ2JlWzJdLGRhdGFbb2Zmc2V0KytdPXJnYmVbM10sdm9pZCBmdW5jdGlvbihidWZmZXIsZGF0YSxvZmZzZXQsbnVtcGl4ZWxzKXt2YXIgbnVtRXhwZWN0ZWQ9NCpudW1waXhlbHMsbnVtUmVhZD1yZWFkQnVmT2Zmc2V0KGRhdGEsb2Zmc2V0LG51bUV4cGVjdGVkKTtpZihudW1SZWFkPG51bUV4cGVjdGVkKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHJlYWRpbmcgcmF3IHBpeGVsczogZ290IFwiK251bVJlYWQrXCIgYnl0ZXMsIGV4cGVjdGVkIFwiK251bUV4cGVjdGVkKX0oMCxkYXRhLG9mZnNldCxzY2FubGluZVdpZHRoKm51bVNjYW5saW5lcy0xKTtpZigoKDI1NSZyZ2JlWzJdKTw8OHwyNTUmcmdiZVszXSkhPT1zY2FubGluZVdpZHRoKXRocm93IG5ldyBFcnJvcihcIldyb25nIHNjYW5saW5lIHdpZHRoIFwiKygoMjU1JnJnYmVbMl0pPDw4fDI1NSZyZ2JlWzNdKStcIiwgZXhwZWN0ZWQgXCIrc2NhbmxpbmVXaWR0aCk7bnVsbD09PXNjYW5saW5lQnVmZmVyJiYoc2NhbmxpbmVCdWZmZXI9bmV3IEFycmF5KDQqc2NhbmxpbmVXaWR0aCkpLHB0cj0wO2Zvcih2YXIgaT0wO2k8NDtpKyspZm9yKHB0ckVuZD0oaSsxKSpzY2FubGluZVdpZHRoO3B0cjxwdHJFbmQ7KXtpZihyZWFkQnVmKGJ1Zik8YnVmLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciByZWFkaW5nIDItYnl0ZSBidWZmZXJcIik7aWYoKDI1NSZidWZbMF0pPjEyOCl7aWYoMD09PShjb3VudD0oMjU1JmJ1ZlswXSktMTI4KXx8Y291bnQ+cHRyRW5kLXB0cil0aHJvdyBuZXcgRXJyb3IoXCJCYWQgc2NhbmxpbmUgZGF0YVwiKTtmb3IoO2NvdW50LS0gPjA7KXNjYW5saW5lQnVmZmVyW3B0cisrXT1idWZbMV19ZWxzZXtpZigwPT09KGNvdW50PTI1NSZidWZbMF0pfHxjb3VudD5wdHJFbmQtcHRyKXRocm93IG5ldyBFcnJvcihcIkJhZCBzY2FubGluZSBkYXRhXCIpO2lmKHNjYW5saW5lQnVmZmVyW3B0cisrXT1idWZbMV0sLS1jb3VudD4wKXtpZihyZWFkQnVmT2Zmc2V0KHNjYW5saW5lQnVmZmVyLHB0cixjb3VudCk8Y291bnQpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgcmVhZGluZyBub24tcnVuIGRhdGFcIik7cHRyKz1jb3VudH19fWZvcih2YXIgX2k9MDtfaTxzY2FubGluZVdpZHRoO19pKyspZGF0YVtvZmZzZXQrMF09c2NhbmxpbmVCdWZmZXJbX2ldLGRhdGFbb2Zmc2V0KzFdPXNjYW5saW5lQnVmZmVyW19pK3NjYW5saW5lV2lkdGhdLGRhdGFbb2Zmc2V0KzJdPXNjYW5saW5lQnVmZmVyW19pKzIqc2NhbmxpbmVXaWR0aF0sZGF0YVtvZmZzZXQrM109c2NhbmxpbmVCdWZmZXJbX2krMypzY2FubGluZVdpZHRoXSxvZmZzZXQrPTQ7bnVtU2NhbmxpbmVzLS19fWZ1bmN0aW9uIHBhcnNlSGRyKGJ1ZmZlcil7YnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihidWZmZXI9bmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7Zm9yKHZhciBmaWxlT2Zmc2V0PTAsYnVmZmVyTGVuZ3RoPWJ1ZmZlci5sZW5ndGgsTkVXX0xJTkU9MTAsd2lkdGg9MCxoZWlnaHQ9MCxleHBvc3VyZT0xLHJsZT0hMSxpPTA7aTwyMDtpKyspe3ZhciBsaW5lPWZ1bmN0aW9uKCl7dmFyIGJ1Zj1cIlwiO2Rve3ZhciBiPWJ1ZmZlcltmaWxlT2Zmc2V0XTtpZihiPT09TkVXX0xJTkUpeysrZmlsZU9mZnNldDticmVha31idWYrPVN0cmluZy5mcm9tQ2hhckNvZGUoYil9d2hpbGUoKytmaWxlT2Zmc2V0PGJ1ZmZlckxlbmd0aCk7cmV0dXJuIGJ1Zn0oKSxtYXRjaD12b2lkIDA7aWYobWF0Y2g9bGluZS5tYXRjaChyYWRpYW5jZVBhdHRlcm4pKTtlbHNlIGlmKG1hdGNoPWxpbmUubWF0Y2goZm9ybWF0UGF0dGVybikpcmxlPSEwO2Vsc2UgaWYobWF0Y2g9bGluZS5tYXRjaChleHBvc3VyZVBhdHRlcm4pKWV4cG9zdXJlPU51bWJlcihtYXRjaFsxXSk7ZWxzZSBpZihtYXRjaD1saW5lLm1hdGNoKGNvbW1lbnRQYXR0ZXJuKSk7ZWxzZSBpZihtYXRjaD1saW5lLm1hdGNoKHdpZHRoSGVpZ2h0UGF0dGVybikpe2hlaWdodD1OdW1iZXIobWF0Y2hbMV0pLHdpZHRoPU51bWJlcihtYXRjaFsyXSk7YnJlYWt9fWlmKCFybGUpdGhyb3cgbmV3IEVycm9yKFwiRmlsZSBpcyBub3QgcnVuIGxlbmd0aCBlbmNvZGVkIVwiKTt2YXIgZGF0YT1uZXcgVWludDhBcnJheSh3aWR0aCpoZWlnaHQqNCk7cmVhZFBpeGVsc1Jhd1JMRShidWZmZXIsZGF0YSwwLGZpbGVPZmZzZXQsd2lkdGgsaGVpZ2h0KTtmb3IodmFyIGZsb2F0RGF0YT1uZXcgRmxvYXQzMkFycmF5KHdpZHRoKmhlaWdodCo0KSxvZmZzZXQ9MDtvZmZzZXQ8ZGF0YS5sZW5ndGg7b2Zmc2V0Kz00KXt2YXIgcj1kYXRhW29mZnNldCswXS8yNTUsZz1kYXRhW29mZnNldCsxXS8yNTUsYj1kYXRhW29mZnNldCsyXS8yNTUsZT1kYXRhW29mZnNldCszXSxmPU1hdGgucG93KDIsZS0xMjgpO3IqPWYsZyo9ZixiKj1mO3ZhciBmbG9hdE9mZnNldD1vZmZzZXQ7ZmxvYXREYXRhW2Zsb2F0T2Zmc2V0KzBdPXIsZmxvYXREYXRhW2Zsb2F0T2Zmc2V0KzFdPWcsZmxvYXREYXRhW2Zsb2F0T2Zmc2V0KzJdPWIsZmxvYXREYXRhW2Zsb2F0T2Zmc2V0KzNdPTF9cmV0dXJue3NoYXBlOlt3aWR0aCxoZWlnaHRdLGV4cG9zdXJlOmV4cG9zdXJlLGdhbW1hOjEsZGF0YTpmbG9hdERhdGF9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByYWRpYW5jZVBhdHRlcm49XCIjXFxcXD9SQURJQU5DRVwiLGNvbW1lbnRQYXR0ZXJuPVwiIy4qXCIsZXhwb3N1cmVQYXR0ZXJuPVwiRVhQT1NVUkU9XFxcXHMqKFswLTldKlsuXVswLTldKilcIixmb3JtYXRQYXR0ZXJuPVwiRk9STUFUPTMyLWJpdF9ybGVfcmdiZVwiLHdpZHRoSGVpZ2h0UGF0dGVybj1cIi1ZIChbMC05XSspIFxcXFwrWCAoWzAtOV0rKVwiO2V4cG9ydHMuZGVmYXVsdD1wYXJzZUhkcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY29sbGFkYVBhcnNlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSxfY29sbGFkYVBhcnNlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29sbGFkYVBhcnNlciksX01lc2g9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxfTWVzaDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCksZ2VuZXJhdGVNZXNoPWZ1bmN0aW9uKG1lc2hlcyl7dmFyIGNhY2hlcz17fTttZXNoZXMuZm9yRWFjaChmdW5jdGlvbihtZXNoKXt2YXIgX21lc2gkbWVzaD1tZXNoLm1lc2gsdmVydGljZXM9X21lc2gkbWVzaC52ZXJ0aWNlcyxub3JtYWxzPV9tZXNoJG1lc2gubm9ybWFscyxjb29yZHM9X21lc2gkbWVzaC5jb29yZHMsdHJpYW5nbGVzPV9tZXNoJG1lc2gudHJpYW5nbGVzLG5hbWU9X21lc2gkbWVzaC5uYW1lO2lmKCFjYWNoZXNbbmFtZV0pe3ZhciBnbE1lc2g9KG5ldyBfTWVzaDIuZGVmYXVsdCkuYnVmZmVyRmxhdHRlbkRhdGEodmVydGljZXMsXCJhVmVydGV4UG9zaXRpb25cIiwzKS5idWZmZXJGbGF0dGVuRGF0YShjb29yZHMsXCJhVGV4dHVyZUNvb3JkXCIsMikuYnVmZmVyRmxhdHRlbkRhdGEobm9ybWFscyxcImFOb3JtYWxcIiwzKS5idWZmZXJJbmRleCh0cmlhbmdsZXMpO2NhY2hlc1tuYW1lXT1nbE1lc2h9bWVzaC5nbE1lc2g9Y2FjaGVzW25hbWVdfSl9LHBhcnNlPWZ1bmN0aW9uKG1EYXRhKXt2YXIgbWVzaGVzPV9jb2xsYWRhUGFyc2VyMi5kZWZhdWx0LnBhcnNlKG1EYXRhKTtyZXR1cm4gZ2VuZXJhdGVNZXNoKG1lc2hlcyksbWVzaGVzfSxsb2FkPWZ1bmN0aW9uKG1QYXRoLG1DYWxsYmFjayl7X2NvbGxhZGFQYXJzZXIyLmRlZmF1bHQubG9hZChtUGF0aCxmdW5jdGlvbihtZXNoZXMpe2dlbmVyYXRlTWVzaChtZXNoZXMpLG1DYWxsYmFjayhtZXNoZXMpfSl9LENvbGxhZGFQYXJzZXI9e3BhcnNlOnBhcnNlLGxvYWQ6bG9hZH07ZXhwb3J0cy5kZWZhdWx0PUNvbGxhZGFQYXJzZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfQ29sbGFkYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY5KSxfQ29sbGFkYTI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX0NvbGxhZGEpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLHBhcnNlRGF0YT1mdW5jdGlvbihtRGF0YSl7ZnVuY3Rpb24gZ2V0TWF0ZXJpYWwoaWQpe3ZhciBtYXQ9dm9pZCAwO2Zvcih2YXIgX3MgaW4gbWF0ZXJpYWxzKV9zPT09aWQmJihtYXQ9bWF0ZXJpYWxzW19zXSk7dmFyIG9NYXRlcmlhbD17fTtyZXR1cm4gbWF0LmRpZmZ1c2UmJihvTWF0ZXJpYWwuZGlmZnVzZUNvbG9yPW1hdC5kaWZmdXNlKSxvTWF0ZXJpYWwuZGlmZnVzZUNvbG9yPW1hdC5kaWZmdXNlfHxbMCwwLDBdLG9NYXRlcmlhbC5zaGluaW5lc3M9bWF0LnNoaW5pbmVzc3x8MCxtYXQudGV4dHVyZXMmJihtYXQudGV4dHVyZXMuZGlmZnVzZSYmKG9NYXRlcmlhbC5kaWZmdXNlTWFwSUQ9bWF0LnRleHR1cmVzLmRpZmZ1c2UubWFwX2lkKSxtYXQudGV4dHVyZXMubm9ybWFsJiYob01hdGVyaWFsLm5vcm1hbE1hcElEPW1hdC50ZXh0dXJlcy5ub3JtYWwubWFwX2lkKSksb01hdGVyaWFsfWZ1bmN0aW9uIHdhbGsobm9kZSxtdHhQYXJlbnQpe3ZhciBtPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpO2lmKG5vZGUubW9kZWw/X2dsTWF0cml4Lm1hdDQubXVsdGlwbHkobSxtdHhQYXJlbnQsbm9kZS5tb2RlbCk6X2dsTWF0cml4Lm1hdDQuY29weShtLG10eFBhcmVudCksbm9kZS5jaGlsZHJlbi5sZW5ndGg+MCYmbm9kZS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKXt3YWxrKGNoaWxkLG0pfSksbm9kZS5tZXNoKXt2YXIgX29NZXNoPXt9O19vTWVzaC5tb2RlbE1hdHJpeD1tLF9vTWVzaC5tZXNoPW1lc2hlc1tub2RlLm1lc2hdLF9vTWVzaC5pZD1ub2RlLmlkLF9vTWVzaC5uYW1lPW5vZGUubmFtZSxfb01lc2gubWF0ZXJpYWw9Z2V0TWF0ZXJpYWwobm9kZS5tYXRlcmlhbCksbWVzaE9ianMucHVzaChfb01lc2gpfX12YXIgbWF0ZXJpYWxzPW1EYXRhLm1hdGVyaWFscyxtZXNoZXM9bURhdGEubWVzaGVzLG1lc2hPYmpzPVtdLGFsbE1lc2hlcz1bXTtmb3IodmFyIHMgaW4gbWVzaGVzKXt2YXIgb01lc2g9bWVzaGVzW3NdLHZlcnRpY2VzPW9NZXNoLnZlcnRpY2VzLG5vcm1hbHM9b01lc2gubm9ybWFscyxjb29yZHM9b01lc2guY29vcmRzLHRyaWFuZ2xlcz1vTWVzaC50cmlhbmdsZXMsYnVmZmVycz17dmVydGljZXM6dmVydGljZXMsbm9ybWFsczpub3JtYWxzLGNvb3Jkczpjb29yZHMsdHJpYW5nbGVzOnRyaWFuZ2xlc307YWxsTWVzaGVzLnB1c2goe2lkOnMsYnVmZmVyczpidWZmZXJzfSl9dmFyIG10eD1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKTtyZXR1cm4gd2FsayhtRGF0YS5yb290LG10eCksbWVzaE9ianN9LHBhcnNlPWZ1bmN0aW9uKG1GaWxlKXt2YXIgbz1fQ29sbGFkYTIuZGVmYXVsdC5wYXJzZShtRmlsZSk7cmV0dXJuIHBhcnNlRGF0YShvKX0sbG9hZD1mdW5jdGlvbihtUGF0aCxtQ2FsbEJhY2spe19Db2xsYWRhMi5kZWZhdWx0LmxvYWQobVBhdGgsZnVuY3Rpb24obURhdGEpe21DYWxsQmFjayhwYXJzZURhdGEobURhdGEpKX0pfSxDb2xsYWRhUGFyc2VyPXtsb2FkOmxvYWQscGFyc2U6cGFyc2V9O2V4cG9ydHMuZGVmYXVsdD1Db2xsYWRhUGFyc2VyLG1vZHVsZS5leHBvcnRzPWV4cG9ydHMuZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGdsb2JhbCl7ZnVuY3Rpb24gcmVxdWVzdCh1cmwsY2FsbGJhY2spe3ZhciByZXE9bmV3IFhNTEh0dHBSZXF1ZXN0O3JlcS5vbmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLnJlc3BvbnNlOzIwMD09dGhpcy5zdGF0dXMmJmNhbGxiYWNrJiZjYWxsYmFjayh0aGlzLnJlc3BvbnNlKX0scmVxLm9wZW4oXCJnZXRcIix1cmwsITApLHJlcS5zZW5kKCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLGlzV29ya2VyPXZvaWQgMD09PWdsb2JhbC5kb2N1bWVudCxERUcyUkFEPTIqTWF0aC5QSS8zNjAsdGVtcF9tYXQ0PW51bGwsdGVtcF92ZWMyPW51bGwsdGVtcF92ZWMzPW51bGwsdGVtcF92ZWM0PW51bGwsdGVtcF9xdWF0PW51bGwsQ29sbGFkYT17bGlic1BhdGg6XCIuL1wiLHdvcmtlclBhdGg6XCIuL1wiLG5vX2ZsaXA6ITAsdXNlX3RyYW5zZmVyYWJsZXM6ITAsb25lcnJvcjpudWxsLHZlcmJvc2U6ITEsY29uZmlnOntmb3JjZVBhcnNlcjohMX0saW5pdDpmdW5jdGlvbihjb25maWcpe2NvbmZpZz1jb25maWd8fHt9O2Zvcih2YXIgaSBpbiBjb25maWcpdGhpc1tpXT1jb25maWdbaV07aWYodGhpcy5jb25maWc9Y29uZmlnLGlzV29ya2VyKXRyeXtpbXBvcnRTY3JpcHRzKHRoaXMubGlic1BhdGgrXCJnbC1tYXRyaXgtbWluLmpzXCIsdGhpcy5saWJzUGF0aCtcInRpbnl4bWwuanNcIil9Y2F0Y2goZXJyKXtDb2xsYWRhLnRocm93RXhjZXB0aW9uKENvbGxhZGEuTElCTUlTU0lOR19FUlJPUil9dGVtcF9tYXQ0PV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRlbXBfdmVjMj12ZWMzLmNyZWF0ZSgpLHRlbXBfdmVjMz12ZWMzLmNyZWF0ZSgpLHRlbXBfdmVjND12ZWMzLmNyZWF0ZSgpLHRlbXBfcXVhdD1fZ2xNYXRyaXgucXVhdC5jcmVhdGUoKSxpc1dvcmtlciYmY29uc29sZS5sb2coXCJDb2xsYWRhIHdvcmtlciByZWFkeVwiKX0sbG9hZDpmdW5jdGlvbih1cmwsY2FsbGJhY2spe3JlcXVlc3QodXJsLGZ1bmN0aW9uKGRhdGEpe2NhbGxiYWNrKGRhdGE/Q29sbGFkYS5wYXJzZShkYXRhKTpudWxsKX0pfSxfeG1scm9vdDpudWxsLF9ub2Rlc19ieV9pZDpudWxsLF90cmFuc2ZlcmFibGVzOm51bGwsX2NvbnRyb2xsZXJzX2ZvdW5kOm51bGwsX2dlb21ldHJpZXNfZm91bmQ6bnVsbCxzYWZlU3RyaW5nOmZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0cj90aGlzLmNvbnZlcnRJRD90aGlzLmNvbnZlcnRJRChzdHIpOnN0ci5yZXBsYWNlKC8gL2csXCJfXCIpOlwiXCJ9LExJQk1JU1NJTkdfRVJST1I6XCJMaWJyYXJpZXMgbG9hZGluZyBlcnJvciwgd2hlbiB1c2luZyB3b3JrZXJzIHJlbWVtYmVyIHRvIHBhc3MgdGhlIFVSTCB0byB0aGUgdGlueXhtbC5qcyBpbiB0aGUgb3B0aW9ucy5saWJzUGF0aFwiLE5PWE1MUEFSU0VSX0VSUk9SOlwiVGlueVhNTCBub3QgZm91bmQsIHdoZW4gdXNpbmcgd29ya2VycyByZW1lbWJlciB0byBwYXNzIHRoZSBVUkwgdG8gdGhlIHRpbnl4bWwuanMgaW4gdGhlIG9wdGlvbnMubGlic1BhdGggKFdvcmtlcnMgZG8gbm90IGFsbG93IHRvIGFjY2VzcyB0aGUgbmF0aXZlIFhNTCBET01QYXJzZXIpXCIsdGhyb3dFeGNlcHRpb246ZnVuY3Rpb24obXNnKXt0aHJvdyBpc1dvcmtlcj9zZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246XCJleGNlcHRpb25cIixtc2c6bXNnfSk6Q29sbGFkYS5vbmVycm9yJiZDb2xsYWRhLm9uZXJyb3IobXNnKSxtc2d9LGdldEZpbGVuYW1lOmZ1bmN0aW9uKGZpbGVuYW1lKXt2YXIgcG9zPWZpbGVuYW1lLmxhc3RJbmRleE9mKFwiXFxcXFwiKTtyZXR1cm4tMSE9cG9zJiYoZmlsZW5hbWU9ZmlsZW5hbWUuc3Vic3RyKHBvcysxKSkscG9zPWZpbGVuYW1lLmxhc3RJbmRleE9mKFwiL1wiKSwtMSE9cG9zJiYoZmlsZW5hbWU9ZmlsZW5hbWUuc3Vic3RyKHBvcysxKSksZmlsZW5hbWV9LGxhc3RfbmFtZTowLGdlbmVyYXRlTmFtZTpmdW5jdGlvbih2KXt2PXZ8fFwibmFtZV9cIjt2YXIgbmFtZT12K3RoaXMubGFzdF9uYW1lO3JldHVybiB0aGlzLmxhc3RfbmFtZSsrLG5hbWV9LHBhcnNlOmZ1bmN0aW9uKGRhdGEsb3B0aW9ucyxmaWxlbmFtZSl7b3B0aW9ucz1vcHRpb25zfHx7fSxmaWxlbmFtZT1maWxlbmFtZXx8XCJfZGFlX1wiK0RhdGUubm93KCkrXCIuZGFlXCI7dmFyIHhtbHBhcnNlcj1udWxsLHJvb3Q9bnVsbDtpZih0aGlzLl90cmFuc2ZlcmFibGVzPVtdLHRoaXMudmVyYm9zZSYmY29uc29sZS5sb2coXCIgLSBYTUwgcGFyc2luZy4uLlwiKSxnbG9iYWwuRE9NUGFyc2VyJiYhdGhpcy5jb25maWcuZm9yY2VQYXJzZXIpeG1scGFyc2VyPW5ldyBET01QYXJzZXIscm9vdD14bWxwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGRhdGEsXCJ0ZXh0L3htbFwiKSx0aGlzLnZlcmJvc2UmJmNvbnNvbGUubG9nKFwiIC0gWE1MIHBhcnNlZFwiKTtlbHNle2lmKCFnbG9iYWwuRE9NSW1wbGVtZW50YXRpb24pcmV0dXJuIENvbGxhZGEudGhyb3dFeGNlcHRpb24oQ29sbGFkYS5OT1hNTFBBUlNFUl9FUlJPUik7dHJ5e3htbHBhcnNlcj1uZXcgRE9NSW1wbGVtZW50YXRpb259Y2F0Y2goZXJyKXtyZXR1cm4gQ29sbGFkYS50aHJvd0V4Y2VwdGlvbihDb2xsYWRhLk5PWE1MUEFSU0VSX0VSUk9SKX1yb290PXhtbHBhcnNlci5sb2FkWE1MKGRhdGEpLHRoaXMudmVyYm9zZSYmY29uc29sZS5sb2coXCIgLSBYTUwgcGFyc2VkXCIpO2Zvcih2YXIgYnlfaWRzPXJvb3QuX25vZGVzX2J5X2lkPXt9LGk9MCxsPXJvb3QuYWxsLmxlbmd0aDtpPGw7KytpKXt2YXIgbm9kZT1yb290LmFsbFtpXTtieV9pZHNbbm9kZS5pZF09bm9kZSxub2RlLmdldEF0dHJpYnV0ZShcInNpZFwiKSYmKGJ5X2lkc1tub2RlLmdldEF0dHJpYnV0ZShcInNpZFwiKV09bm9kZSl9dGhpcy5leHRyYV9mdW5jdGlvbnN8fCh0aGlzLmV4dHJhX2Z1bmN0aW9ucz0hMCxET01Eb2N1bWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3Rvcj1ET01FbGVtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yPWZ1bmN0aW9uKHNlbGVjdG9yKXtmb3IodmFyIHRhZ3M9c2VsZWN0b3Iuc3BsaXQoXCIgXCIpLGN1cnJlbnRfZWxlbWVudD10aGlzO3RhZ3MubGVuZ3RoOyl7dmFyIGN1cnJlbnQ9dGFncy5zaGlmdCgpLHRva2Vucz1jdXJyZW50LnNwbGl0KFwiI1wiKSx0YWduYW1lPXRva2Vuc1swXSxpZD10b2tlbnNbMV0sZWxlbWVudHM9dGFnbmFtZT9jdXJyZW50X2VsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnbmFtZSk6Y3VycmVudF9lbGVtZW50LmNoaWxkTm9kZXM7aWYoaWQpe2Zvcih2YXIgaT0wO2k8ZWxlbWVudHMubGVuZ3RoO2krKylpZihlbGVtZW50cy5pdGVtKGkpLmdldEF0dHJpYnV0ZShcImlkXCIpPT1pZCl7aWYoMD09dGFncy5sZW5ndGgpcmV0dXJuIGVsZW1lbnRzLml0ZW0oaSk7Y3VycmVudF9lbGVtZW50PWVsZW1lbnRzLml0ZW0oaSk7YnJlYWt9fWVsc2V7aWYoMD09dGFncy5sZW5ndGgpcmV0dXJuIGVsZW1lbnRzLml0ZW0oMCk7Y3VycmVudF9lbGVtZW50PWVsZW1lbnRzLml0ZW0oMCl9fXJldHVybiBudWxsfSxET01Eb2N1bWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbD1ET01FbGVtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsPWZ1bmN0aW9uKHNlbGVjdG9yKXtmdW5jdGlvbiBpbm5lcihyb290LHRhZ3Mpe2lmKHRhZ3Mpe3ZhciBjdXJyZW50PXRhZ3Muc2hpZnQoKSxlbGVtZW50cz1yb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKGN1cnJlbnQpO2lmKDAhPXRhZ3MubGVuZ3RoKWZvcih2YXIgaT0wO2k8ZWxlbWVudHMubGVuZ3RoO2krKylpbm5lcihlbGVtZW50cy5pdGVtKGkpLHRhZ3MuY29uY2F0KCkpO2Vsc2UgZm9yKHZhciBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXJlc3VsdC5wdXNoKGVsZW1lbnRzLml0ZW0oaSkpfX12YXIgdGFncz1zZWxlY3Rvci5zcGxpdChcIiBcIik7aWYoMT09dGFncy5sZW5ndGgpcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZWN0b3IpO3ZhciByZXN1bHQ9W107aW5uZXIodGhpcyx0YWdzKTt2YXIgbGlzdD1uZXcgRE9NTm9kZUxpc3QodGhpcy5kb2N1bWVudEVsZW1lbnQpO3JldHVybiBsaXN0Ll9ub2Rlcz1yZXN1bHQsbGlzdC5sZW5ndGg9cmVzdWx0Lmxlbmd0aCxsaXN0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRE9NRWxlbWVudC5wcm90b3R5cGUsXCJ0ZXh0Q29udGVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDaGlsZE5vZGVzKCkuaXRlbSgwKS50b1N0cmluZygpfSxzZXQ6ZnVuY3Rpb24oKXt9fSkpfXRoaXMuX3htbHJvb3Q9cm9vdDt2YXIgeG1sY29sbGFkYT1yb290LnF1ZXJ5U2VsZWN0b3IoXCJDT0xMQURBXCIpO3htbGNvbGxhZGEmJih0aGlzLl9jdXJyZW50X0RBRV92ZXJzaW9uPXhtbGNvbGxhZGEuZ2V0QXR0cmlidXRlKFwidmVyc2lvblwiKSxjb25zb2xlLmxvZyhcIkRBRSBWZXJzaW9uOlwiK3RoaXMuX2N1cnJlbnRfREFFX3ZlcnNpb24pKTt2YXIgeG1sdmlzdWFsX3NjZW5lPXJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ2aXN1YWxfc2NlbmVcIikuaXRlbSgwKTtpZigheG1sdmlzdWFsX3NjZW5lKXRocm93XCJ2aXN1YWxfc2NlbmUgWE1MIG5vZGUgbm90IGZvdW5kIGluIERBRVwiO3RoaXMuX25vZGVzX2J5X2lkPXt9LHRoaXMuX2NvbnRyb2xsZXJzX2ZvdW5kPXt9LHRoaXMuX2dlb21ldHJpZXNfZm91bmQ9e307dmFyIHNjZW5lPXtvYmplY3RfdHlwZTpcIlNjZW5lVHJlZVwiLGxpZ2h0Om51bGwsbWF0ZXJpYWxzOnt9LG1lc2hlczp7fSxyZXNvdXJjZXM6e30scm9vdDp7Y2hpbGRyZW46W119LGV4dGVybmFsX2ZpbGVzOnt9fSx4bWxhc3NldD1yb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYXNzZXRcIilbMF07eG1sYXNzZXQmJihzY2VuZS5tZXRhZGF0YT10aGlzLnJlYWRBc3NldCh4bWxhc3NldCkpO2Zvcih2YXIgeG1sbm9kZXM9eG1sdmlzdWFsX3NjZW5lLmNoaWxkTm9kZXMsaT0wO2k8eG1sbm9kZXMubGVuZ3RoO2krKylpZihcIm5vZGVcIj09eG1sbm9kZXMuaXRlbShpKS5sb2NhbE5hbWUpe3ZhciBub2RlPXRoaXMucmVhZE5vZGVUcmVlKHhtbG5vZGVzLml0ZW0oaSksc2NlbmUsMCwhMSk7bm9kZSYmc2NlbmUucm9vdC5jaGlsZHJlbi5wdXNoKG5vZGUpfWZvcih2YXIgaT0wO2k8eG1sbm9kZXMubGVuZ3RoO2krKylcIm5vZGVcIj09eG1sbm9kZXMuaXRlbShpKS5sb2NhbE5hbWUmJnRoaXMucmVhZE5vZGVJbmZvKHhtbG5vZGVzLml0ZW0oaSksc2NlbmUsMCwhMSk7dGhpcy5yZWFkTGlicmFyeUNvbnRyb2xsZXJzKHNjZW5lKTt2YXIgYW5pbWF0aW9ucz10aGlzLnJlYWRBbmltYXRpb25zKHJvb3Qsc2NlbmUpO2lmKGFuaW1hdGlvbnMpe3ZhciBhbmltYXRpb25zX25hbWU9XCIjYW5pbWF0aW9uc19cIitmaWxlbmFtZS5zdWJzdHIoMCxmaWxlbmFtZS5pbmRleE9mKFwiLlwiKSk7c2NlbmUucmVzb3VyY2VzW2FuaW1hdGlvbnNfbmFtZV09YW5pbWF0aW9ucyxzY2VuZS5yb290LmFuaW1hdGlvbnM9YW5pbWF0aW9uc19uYW1lfXJldHVybiBzY2VuZS5pbWFnZXM9dGhpcy5yZWFkSW1hZ2VzKHJvb3QpLHRoaXMuX25vZGVzX2J5X2lkPXt9LHRoaXMuX2NvbnRyb2xsZXJzX2ZvdW5kPXt9LHRoaXMuX2dlb21ldHJpZXNfZm91bmQ9e30sdGhpcy5feG1scm9vdD1udWxsLHNjZW5lfSxyZWFkQXNzZXQ6ZnVuY3Rpb24oeG1sYXNzZXQpe2Zvcih2YXIgbWV0YWRhdGE9e30saT0wO2k8eG1sYXNzZXQuY2hpbGROb2Rlcy5sZW5ndGg7aSsrKXt2YXIgeG1sY2hpbGQ9eG1sYXNzZXQuY2hpbGROb2Rlcy5pdGVtKGkpO2lmKDE9PXhtbGNoaWxkLm5vZGVUeXBlKXN3aXRjaCh4bWxjaGlsZC5sb2NhbE5hbWUpe2Nhc2VcImNvbnRyaWJ1dG9yXCI6dmFyIHRvb2w9eG1sY2hpbGQucXVlcnlTZWxlY3RvcihcImF1dGhvcmluZ190b29sXCIpO3Rvb2wmJihtZXRhZGF0YS5hdXRob3JpbmdfdG9vbD10b29sLnRleHRDb250ZXh0KTticmVhaztjYXNlXCJ1bml0XCI6bWV0YWRhdGEudW5pdD14bWxjaGlsZC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO2JyZWFrO2RlZmF1bHQ6bWV0YWRhdGFbeG1sY2hpbGQubG9jYWxOYW1lXT14bWxjaGlsZC50ZXh0Q29udGVudH19cmV0dXJuIG1ldGFkYXRhfSxyZWFkTm9kZVRyZWU6ZnVuY3Rpb24oeG1sbm9kZSxzY2VuZSxsZXZlbCxmbGlwKXt2YXIgbm9kZV9pZD10aGlzLnNhZmVTdHJpbmcoeG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSksbm9kZV9zaWQ9dGhpcy5zYWZlU3RyaW5nKHhtbG5vZGUuZ2V0QXR0cmlidXRlKFwic2lkXCIpKTtpZighbm9kZV9pZCYmIW5vZGVfc2lkKXJldHVybiBudWxsO3ZhciBub2RlPXtpZDpub2RlX3NpZHx8bm9kZV9pZCxjaGlsZHJlbjpbXSxfZGVwdGg6bGV2ZWx9LG5vZGVfdHlwZT14bWxub2RlLmdldEF0dHJpYnV0ZShcInR5cGVcIik7bm9kZV90eXBlJiYobm9kZS50eXBlPW5vZGVfdHlwZSk7dmFyIG5vZGVfbmFtZT14bWxub2RlLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7bm9kZV9uYW1lJiYobm9kZS5uYW1lPW5vZGVfbmFtZSksdGhpcy5fbm9kZXNfYnlfaWRbbm9kZS5pZF09bm9kZSxub2RlX2lkJiYodGhpcy5fbm9kZXNfYnlfaWRbbm9kZV9pZF09bm9kZSksbm9kZV9zaWQmJih0aGlzLl9ub2Rlc19ieV9pZFtub2RlX3NpZF09bm9kZSksbm9kZS5tb2RlbD10aGlzLnJlYWRUcmFuc2Zvcm0oeG1sbm9kZSxsZXZlbCxmbGlwKTtmb3IodmFyIGk9MDtpPHhtbG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7aSsrKXt2YXIgeG1sY2hpbGQ9eG1sbm9kZS5jaGlsZE5vZGVzLml0ZW0oaSk7aWYoMT09eG1sY2hpbGQubm9kZVR5cGUpaWYoXCJub2RlXCIhPXhtbGNoaWxkLmxvY2FsTmFtZSk7ZWxzZXt2YXIgY2hpbGRfbm9kZT10aGlzLnJlYWROb2RlVHJlZSh4bWxjaGlsZCxzY2VuZSxsZXZlbCsxLGZsaXApO2NoaWxkX25vZGUmJm5vZGUuY2hpbGRyZW4ucHVzaChjaGlsZF9ub2RlKX19cmV0dXJuIG5vZGV9LHJlYWROb2RlSW5mbzpmdW5jdGlvbih4bWxub2RlLHNjZW5lLGxldmVsLGZsaXAscGFyZW50KXt2YXIgbm9kZSxub2RlX2lkPXRoaXMuc2FmZVN0cmluZyh4bWxub2RlLmdldEF0dHJpYnV0ZShcImlkXCIpKSxub2RlX3NpZD10aGlzLnNhZmVTdHJpbmcoeG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJzaWRcIikpO2lmKG5vZGVfaWR8fG5vZGVfc2lkKW5vZGU9dGhpcy5fbm9kZXNfYnlfaWRbbm9kZV9pZHx8bm9kZV9zaWRdO2Vsc2V7aWYoIXBhcmVudClyZXR1cm4gbnVsbDtub2RlPXRoaXMuX25vZGVzX2J5X2lkW3BhcmVudC5pZHx8cGFyZW50LnNpZF19aWYoIW5vZGUpcmV0dXJuIGNvbnNvbGUud2FybihcIkNvbGxhZGE6IE5vZGUgbm90IGZvdW5kIGJ5IGlkOiBcIisobm9kZV9pZHx8bm9kZV9zaWQpKSxudWxsO2Zvcih2YXIgaT0wO2k8eG1sbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDtpKyspe3ZhciB4bWxjaGlsZD14bWxub2RlLmNoaWxkTm9kZXMuaXRlbShpKTtpZigxPT14bWxjaGlsZC5ub2RlVHlwZSlpZihcIm5vZGVcIiE9eG1sY2hpbGQubG9jYWxOYW1lKXtpZihcImluc3RhbmNlX2dlb21ldHJ5XCI9PXhtbGNoaWxkLmxvY2FsTmFtZSl7dmFyIHVybD14bWxjaGlsZC5nZXRBdHRyaWJ1dGUoXCJ1cmxcIiksbWVzaF9pZD11cmwudG9TdHJpbmcoKS5zdWJzdHIoMSk7aWYobm9kZS5tZXNoPW1lc2hfaWQsIXNjZW5lLm1lc2hlc1t1cmxdKXt2YXIgbWVzaF9kYXRhPXRoaXMucmVhZEdlb21ldHJ5KHVybCxmbGlwKTttZXNoX2RhdGEmJihtZXNoX2RhdGEubmFtZT1tZXNoX2lkLHNjZW5lLm1lc2hlc1ttZXNoX2lkXT1tZXNoX2RhdGEpfXZhciB4bWxtYXRlcmlhbHM9eG1sY2hpbGQucXVlcnlTZWxlY3RvckFsbChcImluc3RhbmNlX21hdGVyaWFsXCIpO2lmKHhtbG1hdGVyaWFscylmb3IodmFyIGlNYXQ9MDtpTWF0PHhtbG1hdGVyaWFscy5sZW5ndGg7KytpTWF0KXt2YXIgeG1sbWF0ZXJpYWw9eG1sbWF0ZXJpYWxzLml0ZW0oaU1hdCk7aWYoeG1sbWF0ZXJpYWwpe3ZhciBtYXRuYW1lPXhtbG1hdGVyaWFsLmdldEF0dHJpYnV0ZShcInRhcmdldFwiKS50b1N0cmluZygpLnN1YnN0cigxKTtpZighc2NlbmUubWF0ZXJpYWxzW21hdG5hbWVdKXt2YXIgbWF0ZXJpYWw9dGhpcy5yZWFkTWF0ZXJpYWwobWF0bmFtZSk7bWF0ZXJpYWwmJihtYXRlcmlhbC5pZD1tYXRuYW1lLHNjZW5lLm1hdGVyaWFsc1ttYXRlcmlhbC5pZF09bWF0ZXJpYWwpfTA9PWlNYXQ/bm9kZS5tYXRlcmlhbD1tYXRuYW1lOihub2RlLm1hdGVyaWFsc3x8KG5vZGUubWF0ZXJpYWxzPVtdKSxub2RlLm1hdGVyaWFscy5wdXNoKG1hdG5hbWUpKX1lbHNlIGNvbnNvbGUud2FybihcImluc3RhbmNlX21hdGVyaWFsIG5vdCBmb3VuZDogXCIraSl9fWlmKFwiaW5zdGFuY2VfY29udHJvbGxlclwiPT14bWxjaGlsZC5sb2NhbE5hbWUpe3ZhciB1cmw9eG1sY2hpbGQuZ2V0QXR0cmlidXRlKFwidXJsXCIpLHhtbGNvbnRyb2xsZXI9dGhpcy5feG1scm9vdC5xdWVyeVNlbGVjdG9yKFwiY29udHJvbGxlclwiK3VybCk7aWYoeG1sY29udHJvbGxlcil7dmFyIG1lc2hfZGF0YT10aGlzLnJlYWRDb250cm9sbGVyKHhtbGNvbnRyb2xsZXIsZmxpcCxzY2VuZSkseG1sYmluZF9tYXRlcmlhbD14bWxjaGlsZC5xdWVyeVNlbGVjdG9yKFwiYmluZF9tYXRlcmlhbFwiKTtpZih4bWxiaW5kX21hdGVyaWFsKWZvcih2YXIgeG1sdGVjaG5pcXVlcz14bWxiaW5kX21hdGVyaWFsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZWNobmlxdWVfY29tbW9uXCIpLGlUZWM9MDtpVGVjPHhtbHRlY2huaXF1ZXMubGVuZ3RoO2lUZWMrKylmb3IodmFyIHhtbHRlY2huaXF1ZT14bWx0ZWNobmlxdWVzLml0ZW0oaVRlYykseG1saW5zdGFuY2VfbWF0ZXJpYWxzPXhtbHRlY2huaXF1ZS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5zdGFuY2VfbWF0ZXJpYWxcIiksaU1hdD0wO2lNYXQ8eG1saW5zdGFuY2VfbWF0ZXJpYWxzLmxlbmd0aDtpTWF0Kyspe3ZhciB4bWxpbnN0YW5jZV9tYXRlcmlhbD14bWxpbnN0YW5jZV9tYXRlcmlhbHMuaXRlbShpTWF0KTtpZih4bWxpbnN0YW5jZV9tYXRlcmlhbCl7dmFyIG1hdG5hbWU9eG1saW5zdGFuY2VfbWF0ZXJpYWwuZ2V0QXR0cmlidXRlKFwidGFyZ2V0XCIpLnRvU3RyaW5nKCkuc3Vic3RyKDEpO2lmKCFzY2VuZS5tYXRlcmlhbHNbbWF0bmFtZV0pe3ZhciBtYXRlcmlhbD10aGlzLnJlYWRNYXRlcmlhbChtYXRuYW1lKTttYXRlcmlhbCYmKG1hdGVyaWFsLmlkPW1hdG5hbWUsc2NlbmUubWF0ZXJpYWxzW21hdGVyaWFsLmlkXT1tYXRlcmlhbCl9MD09aU1hdD9ub2RlLm1hdGVyaWFsPW1hdG5hbWU6KG5vZGUubWF0ZXJpYWxzfHwobm9kZS5tYXRlcmlhbHM9W10pLG5vZGUubWF0ZXJpYWxzLnB1c2gobWF0bmFtZSkpfWVsc2UgY29uc29sZS53YXJuKFwiaW5zdGFuY2VfbWF0ZXJpYWwgZm9yIGNvbnRyb2xsZXIgbm90IGZvdW5kOiBcIit4bWxpbnN0YW5jZV9tYXRlcmlhbCl9aWYobWVzaF9kYXRhKXt2YXIgbWVzaD1tZXNoX2RhdGE7XCJtb3JwaFwiPT1tZXNoX2RhdGEudHlwZSYmKG1lc2g9bWVzaF9kYXRhLm1lc2gsbm9kZS5tb3JwaF90YXJnZXRzPW1lc2hfZGF0YS5tb3JwaF90YXJnZXRzKSxtZXNoLm5hbWU9dXJsLnRvU3RyaW5nKCksbm9kZS5tZXNoPXVybC50b1N0cmluZygpLHNjZW5lLm1lc2hlc1t1cmxdPW1lc2h9fX1pZihcImluc3RhbmNlX2xpZ2h0XCI9PXhtbGNoaWxkLmxvY2FsTmFtZSl7dmFyIHVybD14bWxjaGlsZC5nZXRBdHRyaWJ1dGUoXCJ1cmxcIik7dGhpcy5yZWFkTGlnaHQobm9kZSx1cmwpfWlmKFwiaW5zdGFuY2VfY2FtZXJhXCI9PXhtbGNoaWxkLmxvY2FsTmFtZSl7dmFyIHVybD14bWxjaGlsZC5nZXRBdHRyaWJ1dGUoXCJ1cmxcIik7dGhpcy5yZWFkQ2FtZXJhKG5vZGUsdXJsKX19ZWxzZSB0aGlzLnJlYWROb2RlSW5mbyh4bWxjaGlsZCxzY2VuZSxsZXZlbCsxLGZsaXAseG1sbm9kZSl9fSxtYXRlcmlhbF90cmFuc2xhdGVfdGFibGU6e30sbGlnaHRfdHJhbnNsYXRlX3RhYmxlOntwb2ludDpcIm9tbmlcIixkaXJlY3Rpb25hbDpcImRpcmVjdGlvbmFsXCIsc3BvdDpcInNwb3RcIn0sY2FtZXJhX3RyYW5zbGF0ZV90YWJsZTp7eGZvdjpcImZvdlwiLGFzcGVjdF9yYXRpbzpcImFzcGVjdFwiLHpuZWFyOlwibmVhclwiLHpmYXI6XCJmYXJcIn0scXVlcnlTZWxlY3RvckFuZElkOmZ1bmN0aW9uKHJvb3Qsc2VsZWN0b3IsaWQpe2Zvcih2YXIgbm9kZXM9cm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSxpPTA7aTxub2Rlcy5sZW5ndGg7aSsrKXt2YXIgYXR0cl9pZD1ub2Rlcy5pdGVtKGkpLmdldEF0dHJpYnV0ZShcImlkXCIpO2lmKGF0dHJfaWQmJihhdHRyX2lkPWF0dHJfaWQudG9TdHJpbmcoKSk9PWlkKXJldHVybiBub2Rlcy5pdGVtKGkpfXJldHVybiBudWxsfSxnZXRGaXJzdENoaWxkRWxlbWVudDpmdW5jdGlvbihyb290LGxvY2FsTmFtZSl7Zm9yKHZhciBjPXJvb3QuY2hpbGROb2RlcyxpPTA7aTxjLmxlbmd0aDsrK2kpe3ZhciBpdGVtPWMuaXRlbShpKTtpZihpdGVtLmxvY2FsTmFtZSYmIWxvY2FsTmFtZXx8bG9jYWxOYW1lJiZsb2NhbE5hbWU9PWl0ZW0ubG9jYWxOYW1lKXJldHVybiBpdGVtfXJldHVybiBudWxsfSxyZWFkTWF0ZXJpYWw6ZnVuY3Rpb24odXJsKXt2YXIgeG1sbWF0ZXJpYWw9dGhpcy5xdWVyeVNlbGVjdG9yQW5kSWQodGhpcy5feG1scm9vdCxcImxpYnJhcnlfbWF0ZXJpYWxzIG1hdGVyaWFsXCIsdXJsKTtpZigheG1sbWF0ZXJpYWwpcmV0dXJuIG51bGw7dmFyIHhtbGVmZmVjdD14bWxtYXRlcmlhbC5xdWVyeVNlbGVjdG9yKFwiaW5zdGFuY2VfZWZmZWN0XCIpO2lmKCF4bWxlZmZlY3QpcmV0dXJuIG51bGw7dmFyIGVmZmVjdF91cmw9eG1sZWZmZWN0LmdldEF0dHJpYnV0ZShcInVybFwiKS5zdWJzdHIoMSkseG1sZWZmZWN0cz10aGlzLnF1ZXJ5U2VsZWN0b3JBbmRJZCh0aGlzLl94bWxyb290LFwibGlicmFyeV9lZmZlY3RzIGVmZmVjdFwiLGVmZmVjdF91cmwpO2lmKCF4bWxlZmZlY3RzKXJldHVybiBudWxsO3ZhciB4bWx0ZWNobmlxdWU9eG1sZWZmZWN0cy5xdWVyeVNlbGVjdG9yKFwidGVjaG5pcXVlXCIpO2lmKCF4bWx0ZWNobmlxdWUpcmV0dXJuIG51bGw7Zm9yKHZhciB4bWxuZXdwYXJhbXM9eG1sZWZmZWN0cy5xdWVyeVNlbGVjdG9yQWxsKFwibmV3cGFyYW1cIiksbmV3cGFyYW1zPXt9LGk9MDtpPHhtbG5ld3BhcmFtcy5sZW5ndGg7aSsrKXt2YXIgcGFyZW50LGluaXRfZnJvbT14bWxuZXdwYXJhbXNbaV0ucXVlcnlTZWxlY3RvcihcImluaXRfZnJvbVwiKTtpZihpbml0X2Zyb20pcGFyZW50PWluaXRfZnJvbS5pbm5lckhUTUw7ZWxzZXtwYXJlbnQ9eG1sbmV3cGFyYW1zW2ldLnF1ZXJ5U2VsZWN0b3IoXCJzb3VyY2VcIikuaW5uZXJIVE1MfW5ld3BhcmFtc1t4bWxuZXdwYXJhbXNbaV0uZ2V0QXR0cmlidXRlKFwic2lkXCIpXT17cGFyZW50OnBhcmVudH19dmFyIG1hdGVyaWFsPXt9LGltYWdlcz10aGlzLnJlYWRJbWFnZXModGhpcy5feG1scm9vdCkseG1scGhvbmc9eG1sdGVjaG5pcXVlLnF1ZXJ5U2VsZWN0b3IoXCJwaG9uZ1wiKTtpZih4bWxwaG9uZ3x8KHhtbHBob25nPXhtbHRlY2huaXF1ZS5xdWVyeVNlbGVjdG9yKFwiYmxpbm5cIikpLHhtbHBob25nfHwoeG1scGhvbmc9eG1sdGVjaG5pcXVlLnF1ZXJ5U2VsZWN0b3IoXCJsYW1iZXJ0XCIpKSwheG1scGhvbmcpcmV0dXJuIG51bGw7Zm9yKHZhciBpPTA7aTx4bWxwaG9uZy5jaGlsZE5vZGVzLmxlbmd0aDsrK2kpe3ZhciB4bWxwYXJhbT14bWxwaG9uZy5jaGlsZE5vZGVzLml0ZW0oaSk7aWYoeG1scGFyYW0ubG9jYWxOYW1lKXt2YXIgcGFyYW1fbmFtZT14bWxwYXJhbS5sb2NhbE5hbWUudG9TdHJpbmcoKTt0aGlzLm1hdGVyaWFsX3RyYW5zbGF0ZV90YWJsZVtwYXJhbV9uYW1lXSYmKHBhcmFtX25hbWU9dGhpcy5tYXRlcmlhbF90cmFuc2xhdGVfdGFibGVbcGFyYW1fbmFtZV0pO3ZhciB4bWxwYXJhbV92YWx1ZT10aGlzLmdldEZpcnN0Q2hpbGRFbGVtZW50KHhtbHBhcmFtKTtpZih4bWxwYXJhbV92YWx1ZSlpZihcImNvbG9yXCIhPXhtbHBhcmFtX3ZhbHVlLmxvY2FsTmFtZS50b1N0cmluZygpKWlmKFwiZmxvYXRcIiE9eG1scGFyYW1fdmFsdWUubG9jYWxOYW1lLnRvU3RyaW5nKCkpe2lmKFwidGV4dHVyZVwiPT14bWxwYXJhbV92YWx1ZS5sb2NhbE5hbWUudG9TdHJpbmcoKSl7bWF0ZXJpYWwudGV4dHVyZXN8fChtYXRlcmlhbC50ZXh0dXJlcz17fSk7dmFyIG1hcF9pZD14bWxwYXJhbV92YWx1ZS5nZXRBdHRyaWJ1dGUoXCJ0ZXh0dXJlXCIpO2lmKCFtYXBfaWQpY29udGludWU7LTE9PT1tYXBfaWQuaW5kZXhPZihcIi5cIikmJihtYXBfaWQ9dGhpcy5nZXRQYXJlbnRQYXJhbShuZXdwYXJhbXMsbWFwX2lkKSxpbWFnZXNbbWFwX2lkXSYmKG1hcF9pZD1pbWFnZXNbbWFwX2lkXS5wYXRoKSk7dmFyIG1hcF9pbmZvPXttYXBfaWQ6bWFwX2lkfSx1dnM9eG1scGFyYW1fdmFsdWUuZ2V0QXR0cmlidXRlKFwidGV4Y29vcmRcIik7bWFwX2luZm8udXZzPXV2cyxtYXRlcmlhbC50ZXh0dXJlc1twYXJhbV9uYW1lXT1tYXBfaW5mb319ZWxzZSBtYXRlcmlhbFtwYXJhbV9uYW1lXT10aGlzLnJlYWRDb250ZW50QXNGbG9hdHMoeG1scGFyYW1fdmFsdWUpWzBdO2Vsc2V7dmFyIHZhbHVlPXRoaXMucmVhZENvbnRlbnRBc0Zsb2F0cyh4bWxwYXJhbV92YWx1ZSk7XCJSR0JfWkVST1wiPT14bWxwYXJhbS5nZXRBdHRyaWJ1dGUoXCJvcGFxdWVcIik/bWF0ZXJpYWxbcGFyYW1fbmFtZV09dmFsdWUuc3ViYXJyYXkoMCw0KTptYXRlcmlhbFtwYXJhbV9uYW1lXT12YWx1ZS5zdWJhcnJheSgwLDMpfX19cmV0dXJuIG1hdGVyaWFsLm9iamVjdF90eXBlPVwiTWF0ZXJpYWxcIixtYXRlcmlhbH0sZ2V0UGFyZW50UGFyYW06ZnVuY3Rpb24obmV3cGFyYW1zLHBhcmFtKXtyZXR1cm4gbmV3cGFyYW1zW3BhcmFtXSYmbmV3cGFyYW1zW3BhcmFtXS5wYXJlbnQ/dGhpcy5nZXRQYXJlbnRQYXJhbShuZXdwYXJhbXMsbmV3cGFyYW1zW3BhcmFtXS5wYXJlbnQpOnBhcmFtfSxyZWFkTGlnaHQ6ZnVuY3Rpb24obm9kZSx1cmwpe2Z1bmN0aW9uIHBhcnNlX3BhcmFtcyhsaWdodCx4bWwpe2Zvcih2YXIgaT0wO2k8eG1sLmNoaWxkTm9kZXMubGVuZ3RoO2krKyl7dmFyIGNoaWxkPXhtbC5jaGlsZE5vZGVzLml0ZW0oaSk7aWYoY2hpbGQmJjE9PWNoaWxkLm5vZGVUeXBlKXN3aXRjaChjaGlsZC5sb2NhbE5hbWUpe2Nhc2VcImNvbG9yXCI6bGlnaHQuY29sb3I9Q29sbGFkYS5yZWFkQ29udGVudEFzRmxvYXRzKGNoaWxkKTticmVhaztjYXNlXCJmYWxsb2ZmX2FuZ2xlXCI6bGlnaHQuYW5nbGVfZW5kPUNvbGxhZGEucmVhZENvbnRlbnRBc0Zsb2F0cyhjaGlsZClbMF0sbGlnaHQuYW5nbGU9bGlnaHQuYW5nbGVfZW5kLTEwfX19dmFyIGxpZ2h0PXt9LHhtbG5vZGU9bnVsbDtpZih1cmwubGVuZ3RoPjEpeG1sbm9kZT10aGlzLl94bWxyb290LnF1ZXJ5U2VsZWN0b3IoXCJsaWJyYXJ5X2xpZ2h0cyBcIit1cmwpO2Vsc2V7dmFyIHhtbGxpYmxpZ2h0cz10aGlzLl94bWxyb290LnF1ZXJ5U2VsZWN0b3IoXCJsaWJyYXJ5X2xpZ2h0c1wiKTt4bWxub2RlPXRoaXMuZ2V0Rmlyc3RDaGlsZEVsZW1lbnQoeG1sbGlibGlnaHRzLFwibGlnaHRcIil9aWYoIXhtbG5vZGUpcmV0dXJuIG51bGw7dmFyIGNoaWxkcmVuPVtdLHhtbD14bWxub2RlLnF1ZXJ5U2VsZWN0b3IoXCJ0ZWNobmlxdWVfY29tbW9uXCIpO2lmKHhtbClmb3IodmFyIGk9MDtpPHhtbC5jaGlsZE5vZGVzLmxlbmd0aDtpKyspMT09eG1sLmNoaWxkTm9kZXMuaXRlbShpKS5ub2RlVHlwZSYmY2hpbGRyZW4ucHVzaCh4bWwuY2hpbGROb2Rlcy5pdGVtKGkpKTtmb3IodmFyIHhtbHM9eG1sbm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwidGVjaG5pcXVlXCIpLGk9MDtpPHhtbHMubGVuZ3RoO2krKylmb3IodmFyIHhtbDI9eG1scy5pdGVtKGkpLGo9MDtqPHhtbDIuY2hpbGROb2Rlcy5sZW5ndGg7aisrKTE9PXhtbDIuY2hpbGROb2Rlcy5pdGVtKGopLm5vZGVUeXBlJiZjaGlsZHJlbi5wdXNoKHhtbDIuY2hpbGROb2Rlcy5pdGVtKGopKTtmb3IodmFyIGk9MDtpPGNoaWxkcmVuLmxlbmd0aDtpKyspe3ZhciB4bWw9Y2hpbGRyZW5baV07c3dpdGNoKHhtbC5sb2NhbE5hbWUpe2Nhc2VcInBvaW50XCI6Y2FzZVwiZGlyZWN0aW9uYWxcIjpjYXNlXCJzcG90XCI6bGlnaHQudHlwZT10aGlzLmxpZ2h0X3RyYW5zbGF0ZV90YWJsZVt4bWwubG9jYWxOYW1lXSxwYXJzZV9wYXJhbXMobGlnaHQseG1sKTticmVhaztjYXNlXCJpbnRlbnNpdHlcIjpsaWdodC5pbnRlbnNpdHk9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbClbMF19fWlmKG5vZGUubW9kZWwpe2xpZ2h0LnBvc2l0aW9uPVtub2RlLm1vZGVsWzEyXSxub2RlLm1vZGVsWzEzXSxub2RlLm1vZGVsWzE0XV07dmFyIGZvcndhcmQ9Wy1ub2RlLm1vZGVsWzhdLC1ub2RlLm1vZGVsWzldLC1ub2RlLm1vZGVsWzEwXV07bGlnaHQudGFyZ2V0PVtsaWdodC5wb3NpdGlvblswXStmb3J3YXJkWzBdLGxpZ2h0LnBvc2l0aW9uWzFdK2ZvcndhcmRbMV0sbGlnaHQucG9zaXRpb25bMl0rZm9yd2FyZFsyXV19ZWxzZSBjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgcmVhZCBsaWdodCBwb3NpdGlvbiBmb3IgbGlnaHQ6IFwiK25vZGUubmFtZStcIi4gU2V0dGluZyBkZWZhdWx0cy5cIiksbGlnaHQucG9zaXRpb249WzAsMCwwXSxsaWdodC50YXJnZXQ9WzAsLTEsMF07bm9kZS5saWdodD1saWdodH0scmVhZENhbWVyYTpmdW5jdGlvbihub2RlLHVybCl7dmFyIGNhbWVyYT17fSx4bWxub2RlPXRoaXMuX3htbHJvb3QucXVlcnlTZWxlY3RvcihcImxpYnJhcnlfY2FtZXJhcyBcIit1cmwpO2lmKCF4bWxub2RlKXJldHVybiBudWxsO3ZhciBjaGlsZHJlbj1bXSx4bWw9eG1sbm9kZS5xdWVyeVNlbGVjdG9yKFwidGVjaG5pcXVlX2NvbW1vblwiKTtpZih4bWwpZm9yKHZhciBpPTA7aTx4bWwuY2hpbGROb2Rlcy5sZW5ndGg7aSsrKTE9PXhtbC5jaGlsZE5vZGVzLml0ZW0oaSkubm9kZVR5cGUmJmNoaWxkcmVuLnB1c2goeG1sLmNoaWxkTm9kZXMuaXRlbShpKSk7Zm9yKHZhciBpPTA7aTxjaGlsZHJlbi5sZW5ndGg7aSsrKXt2YXIgdGFnPWNoaWxkcmVuW2ldOyFmdW5jdGlvbihjYW1lcmEseG1sKXtmb3IodmFyIGk9MDtpPHhtbC5jaGlsZE5vZGVzLmxlbmd0aDtpKyspe3ZhciBjaGlsZD14bWwuY2hpbGROb2Rlcy5pdGVtKGkpO2NoaWxkJiYxPT1jaGlsZC5ub2RlVHlwZSYmKGNhbWVyYVtDb2xsYWRhLmNhbWVyYV90cmFuc2xhdGVfdGFibGVbY2hpbGQubG9jYWxOYW1lXXx8Y2hpbGQubG9jYWxOYW1lXT1wYXJzZUZsb2F0KGNoaWxkLnRleHRDb250ZW50KSl9fShjYW1lcmEsdGFnKX1jYW1lcmEueWZvdiYmIWNhbWVyYS5mb3YmJihjYW1lcmEuYXNwZWN0P2NhbWVyYS5mb3Y9Y2FtZXJhLnlmb3YqY2FtZXJhLmFzcGVjdDpjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgY29udmVydCBjYW1lcmEgeWZvdiB0byB4Zm92IGJlY2F1c2UgYXNwZWN0IHJhdGlvIG5vdCBzZXRcIikpLG5vZGUuY2FtZXJhPWNhbWVyYX0scmVhZFRyYW5zZm9ybTpmdW5jdGlvbih4bWxub2RlLGxldmVsLGZsaXApe2Zvcih2YXIgbWF0cml4PV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRlbXA9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdG1wcT1fZ2xNYXRyaXgucXVhdC5jcmVhdGUoKSxpPTA7aTx4bWxub2RlLmNoaWxkTm9kZXMubGVuZ3RoO2krKyl7dmFyIHhtbD14bWxub2RlLmNoaWxkTm9kZXMuaXRlbShpKTtpZih4bWwmJjE9PXhtbC5ub2RlVHlwZSl7aWYoXCJtYXRyaXhcIj09eG1sLmxvY2FsTmFtZSl7dmFyIG1hdHJpeD10aGlzLnJlYWRDb250ZW50QXNGbG9hdHMoeG1sKTtyZXR1cm4gdGhpcy50cmFuc2Zvcm1NYXRyaXgobWF0cml4LDA9PWxldmVsKSxtYXRyaXh9aWYoXCJ0cmFuc2xhdGVcIiE9eG1sLmxvY2FsTmFtZSlpZihcInJvdGF0ZVwiIT14bWwubG9jYWxOYW1lKXtpZihcInNjYWxlXCI9PXhtbC5sb2NhbE5hbWUpe3ZhciB2YWx1ZXM9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbCk7aWYoZmxpcCl7dmFyIHRtcD12YWx1ZXNbMV07dmFsdWVzWzFdPXZhbHVlc1syXSx2YWx1ZXNbMl09LXRtcH1fZ2xNYXRyaXgubWF0NC5zY2FsZShtYXRyaXgsbWF0cml4LHZhbHVlcyl9fWVsc2V7dmFyIHZhbHVlcz10aGlzLnJlYWRDb250ZW50QXNGbG9hdHMoeG1sKTtpZig0PT12YWx1ZXMubGVuZ3RoKXt2YXIgaWQ9eG1sLmdldEF0dHJpYnV0ZShcInNpZFwiKTtpZihcImpvaW50T3JpZW50WFwiPT1pZCYmKHZhbHVlc1szXSs9OTAsITApLGZsaXApe3ZhciB0bXA9dmFsdWVzWzFdO3ZhbHVlc1sxXT12YWx1ZXNbMl0sdmFsdWVzWzJdPS10bXB9MCE9dmFsdWVzWzNdJiYoX2dsTWF0cml4LnF1YXQuc2V0QXhpc0FuZ2xlKHRtcHEsdmFsdWVzLnN1YmFycmF5KDAsMyksdmFsdWVzWzNdKkRFRzJSQUQpLF9nbE1hdHJpeC5tYXQ0LmZyb21RdWF0KHRlbXAsdG1wcSksX2dsTWF0cml4Lm1hdDQubXVsdGlwbHkobWF0cml4LG1hdHJpeCx0ZW1wKSl9fWVsc2V7dmFyIHZhbHVlcz10aGlzLnJlYWRDb250ZW50QXNGbG9hdHMoeG1sKTtpZihmbGlwJiZsZXZlbD4wKXt2YXIgdG1wPXZhbHVlc1sxXTt2YWx1ZXNbMV09dmFsdWVzWzJdLHZhbHVlc1syXT0tdG1wfV9nbE1hdHJpeC5tYXQ0LnRyYW5zbGF0ZShtYXRyaXgsbWF0cml4LHZhbHVlcyl9fX1yZXR1cm4gbWF0cml4fSxyZWFkVHJhbnNmb3JtMjpmdW5jdGlvbih4bWxub2RlLGxldmVsLGZsaXApe2Zvcih2YXIgbWF0cml4PV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHJvdGF0aW9uPV9nbE1hdHJpeC5xdWF0LmNyZWF0ZSgpLHRtcG1hdHJpeD1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0bXBxPV9nbE1hdHJpeC5xdWF0LmNyZWF0ZSgpLHRyYW5zbGF0ZT12ZWMzLmNyZWF0ZSgpLHNjYWxlPXZlYzMuZnJvbVZhbHVlcygxLDEsMSksaT0wO2k8eG1sbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDtpKyspe3ZhciB4bWw9eG1sbm9kZS5jaGlsZE5vZGVzLml0ZW0oaSk7aWYoXCJtYXRyaXhcIj09eG1sLmxvY2FsTmFtZSl7dmFyIG1hdHJpeD10aGlzLnJlYWRDb250ZW50QXNGbG9hdHMoeG1sKTtyZXR1cm4gdGhpcy50cmFuc2Zvcm1NYXRyaXgobWF0cml4LDA9PWxldmVsKSxtYXRyaXh9aWYoXCJ0cmFuc2xhdGVcIiE9eG1sLmxvY2FsTmFtZSlpZihcInJvdGF0ZVwiIT14bWwubG9jYWxOYW1lKXtpZihcInNjYWxlXCI9PXhtbC5sb2NhbE5hbWUpe3ZhciB2YWx1ZXM9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbCk7aWYoZmxpcCl7dmFyIHRtcD12YWx1ZXNbMV07dmFsdWVzWzFdPXZhbHVlc1syXSx2YWx1ZXNbMl09LXRtcH1zY2FsZS5zZXQodmFsdWVzKX19ZWxzZXt2YXIgdmFsdWVzPXRoaXMucmVhZENvbnRlbnRBc0Zsb2F0cyh4bWwpO2lmKDQ9PXZhbHVlcy5sZW5ndGgpe3ZhciBpZD14bWwuZ2V0QXR0cmlidXRlKFwic2lkXCIpO2lmKFwiam9pbnRPcmllbnRYXCI9PWlkJiYodmFsdWVzWzNdKz05MCwhMCksZmxpcCl7dmFyIHRtcD12YWx1ZXNbMV07dmFsdWVzWzFdPXZhbHVlc1syXSx2YWx1ZXNbMl09LXRtcH0wIT12YWx1ZXNbM10mJihfZ2xNYXRyaXgucXVhdC5zZXRBeGlzQW5nbGUodG1wcSx2YWx1ZXMuc3ViYXJyYXkoMCwzKSx2YWx1ZXNbM10qREVHMlJBRCksX2dsTWF0cml4LnF1YXQubXVsdGlwbHkocm90YXRpb24scm90YXRpb24sdG1wcSkpfX1lbHNle3ZhciB2YWx1ZXM9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbCk7dHJhbnNsYXRlLnNldCh2YWx1ZXMpfX1pZihmbGlwJiZsZXZlbD4wKXt2YXIgdG1wPXRyYW5zbGF0ZVsxXTt0cmFuc2xhdGVbMV09dHJhbnNsYXRlWzJdLHRyYW5zbGF0ZVsyXT0tdG1wfXJldHVybiBfZ2xNYXRyaXgubWF0NC50cmFuc2xhdGUobWF0cml4LG1hdHJpeCx0cmFuc2xhdGUpLF9nbE1hdHJpeC5tYXQ0LmZyb21RdWF0KHRtcG1hdHJpeCxyb3RhdGlvbiksX2dsTWF0cml4Lm1hdDQubXVsdGlwbHkobWF0cml4LG1hdHJpeCx0bXBtYXRyaXgpLF9nbE1hdHJpeC5tYXQ0LnNjYWxlKG1hdHJpeCxtYXRyaXgsc2NhbGUpLG1hdHJpeH0scmVhZEdlb21ldHJ5OmZ1bmN0aW9uKGlkLGZsaXAsc2NlbmUpe2lmKHZvaWQgMCE9PXRoaXMuX2dlb21ldHJpZXNfZm91bmRbaWRdKXJldHVybiB0aGlzLl9nZW9tZXRyaWVzX2ZvdW5kW2lkXTt2YXIgeG1sZ2VvbWV0cnk9dGhpcy5feG1scm9vdC5nZXRFbGVtZW50QnlJZChpZC5zdWJzdHIoMSkpO2lmKCF4bWxnZW9tZXRyeSlyZXR1cm4gY29uc29sZS53YXJuKFwicmVhZEdlb21ldHJ5OiBnZW9tZXRyeSBub3QgZm91bmQ6IFwiK2lkKSx0aGlzLl9nZW9tZXRyaWVzX2ZvdW5kW2lkXT1udWxsLG51bGw7aWYoXCJjb250cm9sbGVyXCI9PXhtbGdlb21ldHJ5LmxvY2FsTmFtZSl7dmFyIGdlb21ldHJ5PXRoaXMucmVhZENvbnRyb2xsZXIoeG1sZ2VvbWV0cnksZmxpcCxzY2VuZSk7cmV0dXJuIHRoaXMuX2dlb21ldHJpZXNfZm91bmRbaWRdPWdlb21ldHJ5LGdlb21ldHJ5fWlmKFwiZ2VvbWV0cnlcIiE9eG1sZ2VvbWV0cnkubG9jYWxOYW1lKXJldHVybiBjb25zb2xlLndhcm4oXCJyZWFkR2VvbWV0cnk6IHRhZyBzaG91bGQgYmUgZ2VvbWV0cnksIGluc3RlYWQgaXQgd2FzIGZvdW5kOiBcIit4bWxnZW9tZXRyeS5sb2NhbE5hbWUpLHRoaXMuX2dlb21ldHJpZXNfZm91bmRbaWRdPW51bGwsbnVsbDt2YXIgeG1sbWVzaD14bWxnZW9tZXRyeS5xdWVyeVNlbGVjdG9yKFwibWVzaFwiKTtpZigheG1sbWVzaClyZXR1cm4gY29uc29sZS53YXJuKFwicmVhZEdlb21ldHJ5OiBtZXNoIG5vdCBmb3VuZCBpbiBnZW9tZXRyeTogXCIraWQpLHRoaXMuX2dlb21ldHJpZXNfZm91bmRbaWRdPW51bGwsbnVsbDtmb3IodmFyIHNvdXJjZXM9e30seG1sc291cmNlcz14bWxtZXNoLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzb3VyY2VcIiksaT0wO2k8eG1sc291cmNlcy5sZW5ndGg7aSsrKXt2YXIgeG1sc291cmNlPXhtbHNvdXJjZXMuaXRlbShpKTtpZih4bWxzb3VyY2UucXVlcnlTZWxlY3Rvcil7dmFyIGZsb2F0X2FycmF5PXhtbHNvdXJjZS5xdWVyeVNlbGVjdG9yKFwiZmxvYXRfYXJyYXlcIik7aWYoZmxvYXRfYXJyYXkpe3ZhciBmbG9hdHM9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKGZsb2F0X2FycmF5KSx4bWxhY2Nlc3Nvcj14bWxzb3VyY2UucXVlcnlTZWxlY3RvcihcImFjY2Vzc29yXCIpLHN0cmlkZT1wYXJzZUludCh4bWxhY2Nlc3Nvci5nZXRBdHRyaWJ1dGUoXCJzdHJpZGVcIikpO3NvdXJjZXNbeG1sc291cmNlLmdldEF0dHJpYnV0ZShcImlkXCIpXT17c3RyaWRlOnN0cmlkZSxkYXRhOmZsb2F0c319fX12YXIgeG1sdmVydGljZXM9eG1sbWVzaC5xdWVyeVNlbGVjdG9yKFwidmVydGljZXMgaW5wdXRcIiksdmVydGljZXNfc291cmNlPXNvdXJjZXNbeG1sdmVydGljZXMuZ2V0QXR0cmlidXRlKFwic291cmNlXCIpLnN1YnN0cigxKV07c291cmNlc1t4bWxtZXNoLnF1ZXJ5U2VsZWN0b3IoXCJ2ZXJ0aWNlc1wiKS5nZXRBdHRyaWJ1dGUoXCJpZFwiKV09dmVydGljZXNfc291cmNlO3ZhciBtZXNoPW51bGwseG1scG9seWdvbnM9eG1sbWVzaC5xdWVyeVNlbGVjdG9yKFwicG9seWdvbnNcIik7aWYoeG1scG9seWdvbnMmJihtZXNoPXRoaXMucmVhZFRyaWFuZ2xlcyh4bWxwb2x5Z29ucyxzb3VyY2VzKSksIW1lc2gpe3ZhciB4bWx0cmlhbmdsZXM9eG1sbWVzaC5xdWVyeVNlbGVjdG9yQWxsKFwidHJpYW5nbGVzXCIpO3htbHRyaWFuZ2xlcyYmeG1sdHJpYW5nbGVzLmxlbmd0aCYmKG1lc2g9dGhpcy5yZWFkVHJpYW5nbGVzKHhtbHRyaWFuZ2xlcyxzb3VyY2VzKSl9aWYoIW1lc2gpe3ZhciB4bWxwb2x5bGlzdD14bWxtZXNoLnF1ZXJ5U2VsZWN0b3IoXCJwb2x5bGlzdFwiKTt4bWxwb2x5bGlzdCYmKG1lc2g9dGhpcy5yZWFkUG9seWxpc3QoeG1scG9seWxpc3Qsc291cmNlcykpfWlmKCFtZXNoKXt2YXIgeG1sbGluZXN0cmlwPXhtbG1lc2gucXVlcnlTZWxlY3RvcihcImxpbmVzdHJpcHNcIik7eG1sbGluZXN0cmlwJiYobWVzaD10aGlzLnJlYWRMaW5lU3RyaXAoc291cmNlcyx4bWxsaW5lc3RyaXApKX1pZighbWVzaClyZXR1cm4gY29uc29sZS5sb2coXCJubyBwb2x5Z29ucyBvciB0cmlhbmdsZXMgaW4gbWVzaDogXCIraWQpLHRoaXMuX2dlb21ldHJpZXNfZm91bmRbaWRdPW51bGwsbnVsbDtpZihmbGlwJiYhdGhpcy5ub19mbGlwKXtmb3IodmFyIHRtcD0wLGFycmF5PW1lc2gudmVydGljZXMsaT0wLGw9YXJyYXkubGVuZ3RoO2k8bDtpKz0zKXRtcD1hcnJheVtpKzFdLGFycmF5W2krMV09YXJyYXlbaSsyXSxhcnJheVtpKzJdPS10bXA7YXJyYXk9bWVzaC5ub3JtYWxzO2Zvcih2YXIgaT0wLGw9YXJyYXkubGVuZ3RoO2k8bDtpKz0zKXRtcD1hcnJheVtpKzFdLGFycmF5W2krMV09YXJyYXlbaSsyXSxhcnJheVtpKzJdPS10bXB9aWYoaXNXb3JrZXImJnRoaXMudXNlX3RyYW5zZmVyYWJsZXMpZm9yKHZhciBpIGluIG1lc2gpe3ZhciBkYXRhPW1lc2hbaV07ZGF0YSYmZGF0YS5idWZmZXImJmRhdGEubGVuZ3RoPjEwMCYmdGhpcy5fdHJhbnNmZXJhYmxlcy5wdXNoKGRhdGEuYnVmZmVyKX1yZXR1cm4gbWVzaC5maWxlbmFtZT1pZCxtZXNoLm9iamVjdF90eXBlPVwiTWVzaFwiLHRoaXMuX2dlb21ldHJpZXNfZm91bmRbaWRdPW1lc2gsbWVzaH0scmVhZFRyaWFuZ2xlczpmdW5jdGlvbih4bWx0cmlhbmdsZXMsc291cmNlcyl7Zm9yKHZhciBncm91cHM9W10sYnVmZmVycz1bXSxsYXN0X2luZGV4PTAsZmFjZW1hcD17fSx2ZXJ0ZXhfcmVtYXA9W10saW5kaWNlc0FycmF5PVtdLGxhc3Rfc3RhcnQ9MCxtYXRlcmlhbF9uYW1lPVwiXCIsdHJpcz0wO3RyaXM8eG1sdHJpYW5nbGVzLmxlbmd0aDt0cmlzKyspe3ZhciB4bWxfc2hhcGVfcm9vdD14bWx0cmlhbmdsZXMuaXRlbSh0cmlzKSx0cmlhbmdsZXM9XCJ0cmlhbmdsZXNcIj09eG1sX3NoYXBlX3Jvb3QubG9jYWxOYW1lO21hdGVyaWFsX25hbWU9eG1sX3NoYXBlX3Jvb3QuZ2V0QXR0cmlidXRlKFwibWF0ZXJpYWxcIiksMD09dHJpcyYmKGJ1ZmZlcnM9dGhpcy5yZWFkU2hhcGVJbnB1dHMoeG1sX3NoYXBlX3Jvb3Qsc291cmNlcykpO2Zvcih2YXIgeG1scHM9eG1sX3NoYXBlX3Jvb3QucXVlcnlTZWxlY3RvckFsbChcInBcIiksaT0oYnVmZmVycy5sZW5ndGgsMCk7aTx4bWxwcy5sZW5ndGg7aSsrKXt2YXIgeG1scD14bWxwcy5pdGVtKGkpO2lmKCF4bWxwfHwheG1scC50ZXh0Q29udGVudClicmVhazt2YXIgZGF0YT14bWxwLnRleHRDb250ZW50LnRyaW0oKS5zcGxpdChcIiBcIiksZmlyc3RfaW5kZXg9LTEsY3VycmVudF9pbmRleD0tMSxwcmV2X2luZGV4PS0xLG51bV92YWx1ZXNfcGVyX3ZlcnRleD0xO2Zvcih2YXIgYiBpbiBidWZmZXJzKW51bV92YWx1ZXNfcGVyX3ZlcnRleD1NYXRoLm1heChudW1fdmFsdWVzX3Blcl92ZXJ0ZXgsYnVmZmVyc1tiXVs0XSsxKTtmb3IodmFyIGs9MCxsPWRhdGEubGVuZ3RoO2s8bDtrKz1udW1fdmFsdWVzX3Blcl92ZXJ0ZXgpe3ZhciB2ZXJ0ZXhfaWQ9ZGF0YS5zbGljZShrLGsrbnVtX3ZhbHVlc19wZXJfdmVydGV4KS5qb2luKFwiIFwiKTtpZihwcmV2X2luZGV4PWN1cnJlbnRfaW5kZXgsZmFjZW1hcC5oYXNPd25Qcm9wZXJ0eSh2ZXJ0ZXhfaWQpKWN1cnJlbnRfaW5kZXg9ZmFjZW1hcFt2ZXJ0ZXhfaWRdO2Vsc2V7Zm9yKHZhciBqPTA7ajxidWZmZXJzLmxlbmd0aDsrK2ope3ZhciBidWZmZXI9YnVmZmVyc1tqXSxhcnJheT1idWZmZXJbMV0sc291cmNlPWJ1ZmZlclszXSxpbmRleD1wYXJzZUludChkYXRhW2srYnVmZmVyWzRdXSk7MD09aiYmKHZlcnRleF9yZW1hcFthcnJheS5sZW5ndGgvYnVmZmVyWzJdXT1pbmRleCksaW5kZXgqPWJ1ZmZlclsyXTtmb3IodmFyIHg9MDt4PGJ1ZmZlclsyXTsrK3gpe2lmKHZvaWQgMD09PXNvdXJjZVtpbmRleCt4XSl0aHJvd1wiVU5ERUZJTkVEIVwiO2FycmF5LnB1c2goc291cmNlW2luZGV4K3hdKX19Y3VycmVudF9pbmRleD1sYXN0X2luZGV4LGxhc3RfaW5kZXgrPTEsZmFjZW1hcFt2ZXJ0ZXhfaWRdPWN1cnJlbnRfaW5kZXh9dHJpYW5nbGVzfHwoMD09ayYmKGZpcnN0X2luZGV4PWN1cnJlbnRfaW5kZXgpLGs+MiYmKGluZGljZXNBcnJheS5wdXNoKGZpcnN0X2luZGV4KSxpbmRpY2VzQXJyYXkucHVzaChwcmV2X2luZGV4KSkpLGluZGljZXNBcnJheS5wdXNoKGN1cnJlbnRfaW5kZXgpfX12YXIgZ3JvdXA9e25hbWU6XCJncm91cFwiK3RyaXMsc3RhcnQ6bGFzdF9zdGFydCxsZW5ndGg6aW5kaWNlc0FycmF5Lmxlbmd0aC1sYXN0X3N0YXJ0LG1hdGVyaWFsOm1hdGVyaWFsX25hbWV8fFwiXCJ9O2xhc3Rfc3RhcnQ9aW5kaWNlc0FycmF5Lmxlbmd0aCxncm91cHMucHVzaChncm91cCl9dmFyIG1lc2g9e3ZlcnRpY2VzOm5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyc1swXVsxXSksaW5mbzp7Z3JvdXBzOmdyb3Vwc30sX3JlbWFwOm5ldyBVaW50MzJBcnJheSh2ZXJ0ZXhfcmVtYXApfTtyZXR1cm4gdGhpcy50cmFuc2Zvcm1NZXNoSW5mbyhtZXNoLGJ1ZmZlcnMsaW5kaWNlc0FycmF5KSxtZXNofSxyZWFkUG9seWxpc3Q6ZnVuY3Rpb24oeG1sX3NoYXBlX3Jvb3Qsc291cmNlcyl7dmFyIGJ1ZmZlcnM9W10sbGFzdF9pbmRleD0wLGZhY2VtYXA9e30sdmVydGV4X3JlbWFwPVtdLGluZGljZXNBcnJheT1bXTt4bWxfc2hhcGVfcm9vdC5nZXRBdHRyaWJ1dGUoXCJtYXRlcmlhbFwiKSxidWZmZXJzPXRoaXMucmVhZFNoYXBlSW5wdXRzKHhtbF9zaGFwZV9yb290LHNvdXJjZXMpO2Zvcih2YXIgeG1sdmNvdW50PXhtbF9zaGFwZV9yb290LnF1ZXJ5U2VsZWN0b3IoXCJ2Y291bnRcIiksdmNvdW50PXRoaXMucmVhZENvbnRlbnRBc1VJbnQzMih4bWx2Y291bnQpLHhtbHA9eG1sX3NoYXBlX3Jvb3QucXVlcnlTZWxlY3RvcihcInBcIiksZGF0YT10aGlzLnJlYWRDb250ZW50QXNVSW50MzIoeG1scCksbnVtX2RhdGFfdmVydGV4PWJ1ZmZlcnMubGVuZ3RoLHBvcz0wLGk9MCxsPXZjb3VudC5sZW5ndGg7aTxsOysraSlmb3IodmFyIG51bV92ZXJ0aWNlcz12Y291bnRbaV0sZmlyc3RfaW5kZXg9LTEsY3VycmVudF9pbmRleD0tMSxwcmV2X2luZGV4PS0xLGs9MDtrPG51bV92ZXJ0aWNlczsrK2spe3ZhciB2ZXJ0ZXhfaWQ9ZGF0YS5zdWJhcnJheShwb3MscG9zK251bV9kYXRhX3ZlcnRleCkuam9pbihcIiBcIik7aWYocHJldl9pbmRleD1jdXJyZW50X2luZGV4LGZhY2VtYXAuaGFzT3duUHJvcGVydHkodmVydGV4X2lkKSljdXJyZW50X2luZGV4PWZhY2VtYXBbdmVydGV4X2lkXTtlbHNle2Zvcih2YXIgaj0wO2o8YnVmZmVycy5sZW5ndGg7KytqKXt2YXIgYnVmZmVyPWJ1ZmZlcnNbal0saW5kZXg9cGFyc2VJbnQoZGF0YVtwb3Mral0pLGFycmF5PWJ1ZmZlclsxXSxzb3VyY2U9YnVmZmVyWzNdOzA9PWomJih2ZXJ0ZXhfcmVtYXBbYXJyYXkubGVuZ3RoL251bV9kYXRhX3ZlcnRleF09aW5kZXgpLGluZGV4Kj1idWZmZXJbMl07Zm9yKHZhciB4PTA7eDxidWZmZXJbMl07Kyt4KWFycmF5LnB1c2goc291cmNlW2luZGV4K3hdKX1jdXJyZW50X2luZGV4PWxhc3RfaW5kZXgsbGFzdF9pbmRleCs9MSxmYWNlbWFwW3ZlcnRleF9pZF09Y3VycmVudF9pbmRleH1udW1fdmVydGljZXM+MyYmKDA9PWsmJihmaXJzdF9pbmRleD1jdXJyZW50X2luZGV4KSxrPjImJihpbmRpY2VzQXJyYXkucHVzaChmaXJzdF9pbmRleCksaW5kaWNlc0FycmF5LnB1c2gocHJldl9pbmRleCkpKSxpbmRpY2VzQXJyYXkucHVzaChjdXJyZW50X2luZGV4KSxwb3MrPW51bV9kYXRhX3ZlcnRleH12YXIgbWVzaD17dmVydGljZXM6bmV3IEZsb2F0MzJBcnJheShidWZmZXJzWzBdWzFdKSxpbmZvOnt9LF9yZW1hcDpuZXcgVWludDMyQXJyYXkodmVydGV4X3JlbWFwKX07cmV0dXJuIHRoaXMudHJhbnNmb3JtTWVzaEluZm8obWVzaCxidWZmZXJzLGluZGljZXNBcnJheSksbWVzaH0scmVhZFNoYXBlSW5wdXRzOmZ1bmN0aW9uKHhtbF9zaGFwZV9yb290LHNvdXJjZXMpe2Zvcih2YXIgYnVmZmVycz1bXSx4bWxpbnB1dHM9eG1sX3NoYXBlX3Jvb3QucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpLGk9MDtpPHhtbGlucHV0cy5sZW5ndGg7aSsrKXt2YXIgeG1saW5wdXQ9eG1saW5wdXRzLml0ZW0oaSk7aWYoeG1saW5wdXQuZ2V0QXR0cmlidXRlKXt2YXIgc2VtYW50aWM9eG1saW5wdXQuZ2V0QXR0cmlidXRlKFwic2VtYW50aWNcIikudG9VcHBlckNhc2UoKSxzdHJlYW1fc291cmNlPXNvdXJjZXNbeG1saW5wdXQuZ2V0QXR0cmlidXRlKFwic291cmNlXCIpLnN1YnN0cigxKV0sb2Zmc2V0PXBhcnNlSW50KHhtbGlucHV0LmdldEF0dHJpYnV0ZShcIm9mZnNldFwiKSksZGF0YV9zZXQ9MDt4bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzZXRcIikmJihkYXRhX3NldD1wYXJzZUludCh4bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzZXRcIikpKSxidWZmZXJzLnB1c2goW3NlbWFudGljLFtdLHN0cmVhbV9zb3VyY2Uuc3RyaWRlLHN0cmVhbV9zb3VyY2UuZGF0YSxvZmZzZXQsZGF0YV9zZXRdKX19cmV0dXJuIGJ1ZmZlcnN9LHRyYW5zZm9ybU1lc2hJbmZvOmZ1bmN0aW9uKG1lc2gsYnVmZmVycyxpbmRpY2VzQXJyYXkpe2Zvcih2YXIgdHJhbnNsYXRvcj17bm9ybWFsOlwibm9ybWFsc1wiLHRleGNvb3JkOlwiY29vcmRzXCJ9LGk9MTtpPGJ1ZmZlcnMubGVuZ3RoOysraSl7dmFyIG5hbWU9YnVmZmVyc1tpXVswXS50b0xvd2VyQ2FzZSgpLGRhdGE9YnVmZmVyc1tpXVsxXTtkYXRhLmxlbmd0aCYmKHRyYW5zbGF0b3JbbmFtZV0mJihuYW1lPXRyYW5zbGF0b3JbbmFtZV0pLG1lc2hbbmFtZV0mJihuYW1lKz1idWZmZXJzW2ldWzVdKSxtZXNoW25hbWVdPW5ldyBGbG9hdDMyQXJyYXkoZGF0YSkpfXJldHVybiBpbmRpY2VzQXJyYXkmJmluZGljZXNBcnJheS5sZW5ndGgmJihtZXNoLnZlcnRpY2VzLmxlbmd0aD42NTUzNj9tZXNoLnRyaWFuZ2xlcz1uZXcgVWludDMyQXJyYXkoaW5kaWNlc0FycmF5KTptZXNoLnRyaWFuZ2xlcz1uZXcgVWludDE2QXJyYXkoaW5kaWNlc0FycmF5KSksbWVzaH0scmVhZExpbmVTdHJpcDpmdW5jdGlvbihzb3VyY2VzLHhtbGxpbmVzdHJpcCl7Zm9yKHZhciBidWZmZXJzPVtdLGxhc3RfaW5kZXg9MCxmYWNlbWFwPXt9LHZlcnRleF9yZW1hcD1bXSxpbmRpY2VzQXJyYXk9W10seG1saW5wdXRzPXhtbGxpbmVzdHJpcC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIiksaT0wO2k8eG1saW5wdXRzLmxlbmd0aDtpKyspe3ZhciB4bWxpbnB1dD14bWxpbnB1dHMuaXRlbShpKTtpZih4bWxpbnB1dC5nZXRBdHRyaWJ1dGUpe3ZhciBzZW1hbnRpYz14bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzZW1hbnRpY1wiKS50b1VwcGVyQ2FzZSgpLHN0cmVhbV9zb3VyY2U9c291cmNlc1t4bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzb3VyY2VcIikuc3Vic3RyKDEpXSxvZmZzZXQ9cGFyc2VJbnQoeG1saW5wdXQuZ2V0QXR0cmlidXRlKFwib2Zmc2V0XCIpKSxkYXRhX3NldD0wO3htbGlucHV0LmdldEF0dHJpYnV0ZShcInNldFwiKSYmKGRhdGFfc2V0PXBhcnNlSW50KHhtbGlucHV0LmdldEF0dHJpYnV0ZShcInNldFwiKSkpLGJ1ZmZlcnMucHVzaChbc2VtYW50aWMsW10sc3RyZWFtX3NvdXJjZS5zdHJpZGUsc3RyZWFtX3NvdXJjZS5kYXRhLG9mZnNldCxkYXRhX3NldF0pfX1mb3IodmFyIHhtbHBzPXhtbGxpbmVzdHJpcC5xdWVyeVNlbGVjdG9yQWxsKFwicFwiKSxudW1fZGF0YV92ZXJ0ZXg9YnVmZmVycy5sZW5ndGgsaT0wO2k8eG1scHMubGVuZ3RoO2krKyl7dmFyIHhtbHA9eG1scHMuaXRlbShpKTtpZigheG1scHx8IXhtbHAudGV4dENvbnRlbnQpYnJlYWs7Zm9yKHZhciBkYXRhPXhtbHAudGV4dENvbnRlbnQudHJpbSgpLnNwbGl0KFwiIFwiKSxjdXJyZW50X2luZGV4PS0xLGs9MCxsPWRhdGEubGVuZ3RoO2s8bDtrKz1udW1fZGF0YV92ZXJ0ZXgpe3ZhciB2ZXJ0ZXhfaWQ9ZGF0YS5zbGljZShrLGsrbnVtX2RhdGFfdmVydGV4KS5qb2luKFwiIFwiKTtpZihjdXJyZW50X2luZGV4LGZhY2VtYXAuaGFzT3duUHJvcGVydHkodmVydGV4X2lkKSljdXJyZW50X2luZGV4PWZhY2VtYXBbdmVydGV4X2lkXTtlbHNle2Zvcih2YXIgaj0wO2o8YnVmZmVycy5sZW5ndGg7KytqKXt2YXIgYnVmZmVyPWJ1ZmZlcnNbal0saW5kZXg9cGFyc2VJbnQoZGF0YVtrK2pdKSxhcnJheT1idWZmZXJbMV0sc291cmNlPWJ1ZmZlclszXTswPT1qJiYodmVydGV4X3JlbWFwW2FycmF5Lmxlbmd0aC9udW1fZGF0YV92ZXJ0ZXhdPWluZGV4KSxpbmRleCo9YnVmZmVyWzJdO2Zvcih2YXIgeD0wO3g8YnVmZmVyWzJdOysreClhcnJheS5wdXNoKHNvdXJjZVtpbmRleCt4XSl9Y3VycmVudF9pbmRleD1sYXN0X2luZGV4LGxhc3RfaW5kZXgrPTEsZmFjZW1hcFt2ZXJ0ZXhfaWRdPWN1cnJlbnRfaW5kZXh9aW5kaWNlc0FycmF5LnB1c2goY3VycmVudF9pbmRleCl9fXZhciBtZXNoPXtwcmltaXRpdmU6XCJsaW5lX3N0cmlwXCIsdmVydGljZXM6bmV3IEZsb2F0MzJBcnJheShidWZmZXJzWzBdWzFdKSxpbmZvOnt9fTtyZXR1cm4gdGhpcy50cmFuc2Zvcm1NZXNoSW5mbyhtZXNoLGJ1ZmZlcnMsaW5kaWNlc0FycmF5KX0sZmluZFhNTE5vZGVCeUlkOmZ1bmN0aW9uKHJvb3Qsbm9kZW5hbWUsaWQpe2lmKHRoaXMuX3htbHJvb3QuX25vZGVzX2J5X2lkKXt2YXIgbj10aGlzLl94bWxyb290Ll9ub2Rlc19ieV9pZFtpZF07aWYobiYmbi5sb2NhbE5hbWU9PW5vZGVuYW1lKXJldHVybiBufWVsc2V7dmFyIG49dGhpcy5feG1scm9vdC5nZXRFbGVtZW50QnlJZChpZCk7aWYobilyZXR1cm4gbn1mb3IodmFyIGNoaWxkcz1yb290LmNoaWxkTm9kZXMsaT0wO2k8Y2hpbGRzLmxlbmd0aDsrK2kpe3ZhciB4bWxub2RlPWNoaWxkcy5pdGVtKGkpO2lmKDE9PXhtbG5vZGUubm9kZVR5cGUmJnhtbG5vZGUubG9jYWxOYW1lPT1ub2RlbmFtZSl7aWYoeG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09aWQpcmV0dXJuIHhtbG5vZGV9fXJldHVybiBudWxsfSxyZWFkSW1hZ2VzOmZ1bmN0aW9uKHJvb3Qpe3ZhciB4bWxpbWFnZXM9cm9vdC5xdWVyeVNlbGVjdG9yKFwibGlicmFyeV9pbWFnZXNcIik7aWYoIXhtbGltYWdlcylyZXR1cm4gbnVsbDtmb3IodmFyIGltYWdlcz17fSx4bWxpbWFnZXNfY2hpbGRzPXhtbGltYWdlcy5jaGlsZE5vZGVzLGk9MDtpPHhtbGltYWdlc19jaGlsZHMubGVuZ3RoOysraSl7dmFyIHhtbGltYWdlPXhtbGltYWdlc19jaGlsZHMuaXRlbShpKTtpZigxPT14bWxpbWFnZS5ub2RlVHlwZSl7dmFyIHhtbGluaXRmcm9tPXhtbGltYWdlLnF1ZXJ5U2VsZWN0b3IoXCJpbml0X2Zyb21cIik7aWYoeG1saW5pdGZyb20mJnhtbGluaXRmcm9tLnRleHRDb250ZW50KXt2YXIgZmlsZW5hbWU9dGhpcy5nZXRGaWxlbmFtZSh4bWxpbml0ZnJvbS50ZXh0Q29udGVudCksaWQ9eG1saW1hZ2UuZ2V0QXR0cmlidXRlKFwiaWRcIik7aW1hZ2VzW2lkXT17ZmlsZW5hbWU6ZmlsZW5hbWUsbWFwOmlkLG5hbWU6eG1saW1hZ2UuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxwYXRoOnhtbGluaXRmcm9tLnRleHRDb250ZW50fX19fXJldHVybiBpbWFnZXN9LHJlYWRBbmltYXRpb25zOmZ1bmN0aW9uKHJvb3Qsc2NlbmUpe3ZhciB4bWxhbmltYXRpb25zPXJvb3QucXVlcnlTZWxlY3RvcihcImxpYnJhcnlfYW5pbWF0aW9uc1wiKTtpZigheG1sYW5pbWF0aW9ucylyZXR1cm4gbnVsbDtmb3IodmFyIHhtbGFuaW1hdGlvbl9jaGlsZHM9eG1sYW5pbWF0aW9ucy5jaGlsZE5vZGVzLGFuaW1hdGlvbnM9e29iamVjdF90eXBlOlwiQW5pbWF0aW9uXCIsdGFrZXM6e319LGRlZmF1bHRfdGFrZT17dHJhY2tzOltdfSx0cmFja3M9ZGVmYXVsdF90YWtlLnRyYWNrcyxpPTA7aTx4bWxhbmltYXRpb25fY2hpbGRzLmxlbmd0aDsrK2kpe3ZhciB4bWxhbmltYXRpb249eG1sYW5pbWF0aW9uX2NoaWxkcy5pdGVtKGkpO2lmKDE9PXhtbGFuaW1hdGlvbi5ub2RlVHlwZSYmXCJhbmltYXRpb25cIj09eG1sYW5pbWF0aW9uLmxvY2FsTmFtZSl7aWYoeG1sYW5pbWF0aW9uLmdldEF0dHJpYnV0ZShcImlkXCIpKXRoaXMucmVhZEFuaW1hdGlvbih4bWxhbmltYXRpb24sdHJhY2tzKTtlbHNle3ZhciB4bWxhbmltYXRpb24yX2NoaWxkcz14bWxhbmltYXRpb24ucXVlcnlTZWxlY3RvckFsbChcImFuaW1hdGlvblwiKTtpZih4bWxhbmltYXRpb24yX2NoaWxkcy5sZW5ndGgpZm9yKHZhciBqPTA7ajx4bWxhbmltYXRpb24yX2NoaWxkcy5sZW5ndGg7KytqKXt2YXIgeG1sYW5pbWF0aW9uMj14bWxhbmltYXRpb24yX2NoaWxkcy5pdGVtKGopO3RoaXMucmVhZEFuaW1hdGlvbih4bWxhbmltYXRpb24yLHRyYWNrcyl9ZWxzZSB0aGlzLnJlYWRBbmltYXRpb24oeG1sYW5pbWF0aW9uLHRyYWNrcyl9fX1pZighdHJhY2tzLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIG1heF90aW1lPTAsaT0wO2k8dHJhY2tzLmxlbmd0aDsrK2kpbWF4X3RpbWU8dHJhY2tzW2ldLmR1cmF0aW9uJiYobWF4X3RpbWU9dHJhY2tzW2ldLmR1cmF0aW9uKTtyZXR1cm4gZGVmYXVsdF90YWtlLm5hbWU9XCJkZWZhdWx0XCIsZGVmYXVsdF90YWtlLmR1cmF0aW9uPW1heF90aW1lLGFuaW1hdGlvbnMudGFrZXNbZGVmYXVsdF90YWtlLm5hbWVdPWRlZmF1bHRfdGFrZSxhbmltYXRpb25zfSxyZWFkQW5pbWF0aW9uOmZ1bmN0aW9uKHhtbGFuaW1hdGlvbixyZXN1bHQpe2lmKFwiYW5pbWF0aW9uXCIhPXhtbGFuaW1hdGlvbi5sb2NhbE5hbWUpcmV0dXJuIG51bGw7dmFyIHhtbGNoYW5uZWxfbGlzdD0oeG1sYW5pbWF0aW9uLmdldEF0dHJpYnV0ZShcImlkXCIpLHhtbGFuaW1hdGlvbi5xdWVyeVNlbGVjdG9yQWxsKFwiY2hhbm5lbFwiKSk7aWYoIXhtbGNoYW5uZWxfbGlzdC5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciB0cmFja3M9cmVzdWx0fHxbXSxpPTA7aTx4bWxjaGFubmVsX2xpc3QubGVuZ3RoOysraSl7dmFyIGFuaW09dGhpcy5yZWFkQ2hhbm5lbCh4bWxjaGFubmVsX2xpc3QuaXRlbShpKSx4bWxhbmltYXRpb24pO2FuaW0mJnRyYWNrcy5wdXNoKGFuaW0pfXJldHVybiB0cmFja3N9LHJlYWRDaGFubmVsOmZ1bmN0aW9uKHhtbGNoYW5uZWwseG1sYW5pbWF0aW9uKXtpZihcImNoYW5uZWxcIiE9eG1sY2hhbm5lbC5sb2NhbE5hbWV8fFwiYW5pbWF0aW9uXCIhPXhtbGFuaW1hdGlvbi5sb2NhbE5hbWUpcmV0dXJuIG51bGw7dmFyIHNvdXJjZT14bWxjaGFubmVsLmdldEF0dHJpYnV0ZShcInNvdXJjZVwiKSx0YXJnZXQ9eG1sY2hhbm5lbC5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIikseG1sc2FtcGxlcj10aGlzLmZpbmRYTUxOb2RlQnlJZCh4bWxhbmltYXRpb24sXCJzYW1wbGVyXCIsc291cmNlLnN1YnN0cigxKSk7aWYoIXhtbHNhbXBsZXIpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBEQUU6IFNhbXBsZXIgbm90IGZvdW5kIGluIFwiK3NvdXJjZSksbnVsbDtmb3IodmFyIGlucHV0cz17fSxwYXJhbXM9e30sc291cmNlcz17fSx4bWxpbnB1dHM9eG1sc2FtcGxlci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIiksdGltZV9kYXRhPW51bGwsaj0wO2o8eG1saW5wdXRzLmxlbmd0aDtqKyspe3ZhciB4bWxpbnB1dD14bWxpbnB1dHMuaXRlbShqKSxzb3VyY2VfbmFtZT14bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzb3VyY2VcIiksc2VtYW50aWM9eG1saW5wdXQuZ2V0QXR0cmlidXRlKFwic2VtYW50aWNcIikseG1sc291cmNlPXRoaXMuZmluZFhNTE5vZGVCeUlkKHhtbGFuaW1hdGlvbixcInNvdXJjZVwiLHNvdXJjZV9uYW1lLnN1YnN0cigxKSk7aWYoeG1sc291cmNlKXt2YXIgeG1scGFyYW09eG1sc291cmNlLnF1ZXJ5U2VsZWN0b3IoXCJwYXJhbVwiKTtpZih4bWxwYXJhbSl7dmFyIHR5cGU9eG1scGFyYW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKTtpbnB1dHNbc2VtYW50aWNdPXtzb3VyY2U6c291cmNlX25hbWUsdHlwZTp0eXBlfTt2YXIgZGF0YV9hcnJheT1udWxsO2lmKFwiZmxvYXRcIj09dHlwZXx8XCJmbG9hdDR4NFwiPT10eXBlKXt2YXIgeG1sZmxvYXRhcnJheT14bWxzb3VyY2UucXVlcnlTZWxlY3RvcihcImZsb2F0X2FycmF5XCIpLGZsb2F0cz10aGlzLnJlYWRDb250ZW50QXNGbG9hdHMoeG1sZmxvYXRhcnJheSk7c291cmNlc1tzb3VyY2VfbmFtZV09ZmxvYXRzLGRhdGFfYXJyYXk9ZmxvYXRzO3ZhciBwYXJhbV9uYW1lPXhtbHBhcmFtLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XCJUSU1FXCI9PXBhcmFtX25hbWUmJih0aW1lX2RhdGE9ZGF0YV9hcnJheSksXCJPVVRQVVRcIj09c2VtYW50aWMmJihwYXJhbV9uYW1lPXNlbWFudGljKSxwYXJhbV9uYW1lP3BhcmFtc1twYXJhbV9uYW1lXT10eXBlOmNvbnNvbGUud2FybihcIkNvbGxhZGE6IDxwYXJhbT4gd2l0aG91dCBuYW1lIGF0dHJpYnV0ZSBpbiA8YW5pbWF0aW9uPlwiKX19fX1pZighdGltZV9kYXRhKXJldHVybiBjb25zb2xlLmVycm9yKFwiRXJyb3IgREFFOiBubyBUSU1FIGluZm8gZm91bmQgaW4gPGNoYW5uZWw+OiBcIit4bWxjaGFubmVsLmdldEF0dHJpYnV0ZShcInNvdXJjZVwiKSksbnVsbDt2YXIgcGF0aD10YXJnZXQuc3BsaXQoXCIvXCIpLGFuaW09e30sbm9kZW5hbWU9cGF0aFswXSxub2RlPXRoaXMuX25vZGVzX2J5X2lkW25vZGVuYW1lXSxsb2NhdG9yPW5vZGUuaWQrXCIvXCIrcGF0aFsxXTthbmltLm5hbWU9cGF0aFsxXSxhbmltLnByb3BlcnR5PWxvY2F0b3I7dmFyIHR5cGU9XCJudW1iZXJcIixlbGVtZW50X3NpemU9MSxwYXJhbV90eXBlPXBhcmFtcy5PVVRQVVQ7c3dpdGNoKHBhcmFtX3R5cGUpe2Nhc2VcImZsb2F0XCI6ZWxlbWVudF9zaXplPTE7YnJlYWs7Y2FzZVwiZmxvYXQzeDNcIjplbGVtZW50X3NpemU9OSx0eXBlPVwibWF0M1wiO2JyZWFrO2Nhc2VcImZsb2F0NHg0XCI6ZWxlbWVudF9zaXplPTE2LHR5cGU9XCJtYXQ0XCJ9YW5pbS50eXBlPXR5cGUsYW5pbS52YWx1ZV9zaXplPWVsZW1lbnRfc2l6ZSxhbmltLmR1cmF0aW9uPXRpbWVfZGF0YVt0aW1lX2RhdGEubGVuZ3RoLTFdO3ZhciB2YWx1ZV9kYXRhPXNvdXJjZXNbaW5wdXRzLk9VVFBVVC5zb3VyY2VdO2lmKCF2YWx1ZV9kYXRhKXJldHVybiBudWxsO2Zvcih2YXIgbnVtX3NhbXBsZXM9dGltZV9kYXRhLmxlbmd0aCxzYW1wbGVfc2l6ZT1lbGVtZW50X3NpemUrMSxhbmltX2RhdGE9bmV3IEZsb2F0MzJBcnJheShudW1fc2FtcGxlcypzYW1wbGVfc2l6ZSksaj0wO2o8dGltZV9kYXRhLmxlbmd0aDsrK2ope2FuaW1fZGF0YVtqKnNhbXBsZV9zaXplXT10aW1lX2RhdGFbal07dmFyIHZhbHVlPXZhbHVlX2RhdGEuc3ViYXJyYXkoaiplbGVtZW50X3NpemUsKGorMSkqZWxlbWVudF9zaXplKTtcImZsb2F0NHg0XCI9PXBhcmFtX3R5cGUmJnRoaXMudHJhbnNmb3JtTWF0cml4KHZhbHVlLG5vZGU/MD09bm9kZS5fZGVwdGg6MCksYW5pbV9kYXRhLnNldCh2YWx1ZSxqKnNhbXBsZV9zaXplKzEpfWlmKGlzV29ya2VyJiZ0aGlzLnVzZV90cmFuc2ZlcmFibGVzKXt2YXIgZGF0YT1hbmltX2RhdGE7ZGF0YSYmZGF0YS5idWZmZXImJmRhdGEubGVuZ3RoPjEwMCYmdGhpcy5fdHJhbnNmZXJhYmxlcy5wdXNoKGRhdGEuYnVmZmVyKX1yZXR1cm4gYW5pbS5kYXRhPWFuaW1fZGF0YSxhbmltfSxmaW5kTm9kZTpmdW5jdGlvbihyb290LGlkKXtpZihyb290LmlkPT1pZClyZXR1cm4gcm9vdDtpZihyb290LmNoaWxkcmVuKWZvcih2YXIgaSBpbiByb290LmNoaWxkcmVuKXt2YXIgcmV0PXRoaXMuZmluZE5vZGUocm9vdC5jaGlsZHJlbltpXSxpZCk7aWYocmV0KXJldHVybiByZXR9cmV0dXJuIG51bGx9LHJlYWRMaWJyYXJ5Q29udHJvbGxlcnM6ZnVuY3Rpb24oc2NlbmUpe3ZhciB4bWxsaWJyYXJ5Y29udHJvbGxlcnM9dGhpcy5feG1scm9vdC5xdWVyeVNlbGVjdG9yKFwibGlicmFyeV9jb250cm9sbGVyc1wiKTtpZigheG1sbGlicmFyeWNvbnRyb2xsZXJzKXJldHVybiBudWxsO2Zvcih2YXIgeG1sbGlicmFyeWNvbnRyb2xsZXJzX2NoaWxkcz14bWxsaWJyYXJ5Y29udHJvbGxlcnMuY2hpbGROb2RlcyxpPTA7aTx4bWxsaWJyYXJ5Y29udHJvbGxlcnNfY2hpbGRzLmxlbmd0aDsrK2kpe3ZhciB4bWxjb250cm9sbGVyPXhtbGxpYnJhcnljb250cm9sbGVyc19jaGlsZHMuaXRlbShpKTtpZigxPT14bWxjb250cm9sbGVyLm5vZGVUeXBlJiZcImNvbnRyb2xsZXJcIj09eG1sY29udHJvbGxlci5sb2NhbE5hbWUpe3ZhciBpZD14bWxjb250cm9sbGVyLmdldEF0dHJpYnV0ZShcImlkXCIpO3RoaXMuX2NvbnRyb2xsZXJzX2ZvdW5kW2lkXXx8dGhpcy5yZWFkQ29udHJvbGxlcih4bWxjb250cm9sbGVyLG51bGwsc2NlbmUpfX19LHJlYWRDb250cm9sbGVyOmZ1bmN0aW9uKHhtbGNvbnRyb2xsZXIsZmxpcCxzY2VuZSl7aWYoXCJjb250cm9sbGVyXCI9PSF4bWxjb250cm9sbGVyLmxvY2FsTmFtZSlyZXR1cm4gY29uc29sZS53YXJuKFwicmVhZENvbnRyb2xsZXI6IG5vdCBhIGNvbnRyb2xsZXI6IFwiK3htbGNvbnRyb2xsZXIubG9jYWxOYW1lKSxudWxsO3ZhciBpZD14bWxjb250cm9sbGVyLmdldEF0dHJpYnV0ZShcImlkXCIpO2lmKHRoaXMuX2NvbnRyb2xsZXJzX2ZvdW5kW2lkXSlyZXR1cm4gdGhpcy5fY29udHJvbGxlcnNfZm91bmRbaWRdO3ZhciBtZXNoPW51bGwseG1sc2tpbj14bWxjb250cm9sbGVyLnF1ZXJ5U2VsZWN0b3IoXCJza2luXCIpO3htbHNraW4mJihtZXNoPXRoaXMucmVhZFNraW5Db250cm9sbGVyKHhtbHNraW4sZmxpcCxzY2VuZSkpO3ZhciB4bWxtb3JwaD14bWxjb250cm9sbGVyLnF1ZXJ5U2VsZWN0b3IoXCJtb3JwaFwiKTtyZXR1cm4geG1sbW9ycGgmJihtZXNoPXRoaXMucmVhZE1vcnBoQ29udHJvbGxlcih4bWxtb3JwaCxmbGlwLHNjZW5lLG1lc2gpKSx0aGlzLl9jb250cm9sbGVyc19mb3VuZFtpZF0/aWQrPVwiXzFibGFoXCI6dGhpcy5fY29udHJvbGxlcnNfZm91bmRbaWRdPW1lc2gsbWVzaH0scmVhZFNraW5Db250cm9sbGVyOmZ1bmN0aW9uKHhtbHNraW4sZmxpcCxzY2VuZSl7dmFyIGlkX2dlb21ldHJ5PXhtbHNraW4uZ2V0QXR0cmlidXRlKFwic291cmNlXCIpLG1lc2g9dGhpcy5yZWFkR2VvbWV0cnkoaWRfZ2VvbWV0cnksZmxpcCxzY2VuZSk7aWYoIW1lc2gpcmV0dXJuIG51bGw7dmFyIHNvdXJjZXM9dGhpcy5yZWFkU291cmNlcyh4bWxza2luLGZsaXApO2lmKCFzb3VyY2VzKXJldHVybiBudWxsO3ZhciBiaW5kX21hdHJpeD1udWxsLHhtbGJpbmRtYXRyaXg9eG1sc2tpbi5xdWVyeVNlbGVjdG9yKFwiYmluZF9zaGFwZV9tYXRyaXhcIik7eG1sYmluZG1hdHJpeD8oYmluZF9tYXRyaXg9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbGJpbmRtYXRyaXgpLHRoaXMudHJhbnNmb3JtTWF0cml4KGJpbmRfbWF0cml4LCEwLCEwKSk6YmluZF9tYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCk7dmFyIGpvaW50cz1bXSx4bWxqb2ludHM9eG1sc2tpbi5xdWVyeVNlbGVjdG9yKFwiam9pbnRzXCIpO2lmKHhtbGpvaW50cyl7Zm9yKHZhciBqb2ludHNfc291cmNlPW51bGwsaW52X2JpbmRfc291cmNlPW51bGwseG1saW5wdXRzPXhtbGpvaW50cy5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIiksaT0wO2k8eG1saW5wdXRzLmxlbmd0aDtpKyspe3ZhciB4bWxpbnB1dD14bWxpbnB1dHNbaV0sc2VtPXhtbGlucHV0LmdldEF0dHJpYnV0ZShcInNlbWFudGljXCIpLnRvVXBwZXJDYXNlKCksc3JjPXhtbGlucHV0LmdldEF0dHJpYnV0ZShcInNvdXJjZVwiKSxzb3VyY2U9c291cmNlc1tzcmMuc3Vic3RyKDEpXTtcIkpPSU5UXCI9PXNlbT9qb2ludHNfc291cmNlPXNvdXJjZTpcIklOVl9CSU5EX01BVFJJWFwiPT1zZW0mJihpbnZfYmluZF9zb3VyY2U9c291cmNlKX1pZighaW52X2JpbmRfc291cmNlfHwham9pbnRzX3NvdXJjZSlyZXR1cm4gY29uc29sZS5lcnJvcihcIkVycm9yIERBRTogbm8gam9pbnRzIG9yIGludl9iaW5kIHNvdXJjZXMgZm91bmRcIiksbnVsbDtmb3IodmFyIGkgaW4gam9pbnRzX3NvdXJjZSl7dmFyIGludl9tYXQ9aW52X2JpbmRfc291cmNlLnN1YmFycmF5KDE2KmksMTYqaSsxNiksbm9kZW5hbWU9am9pbnRzX3NvdXJjZVtpXSxub2RlPXRoaXMuX25vZGVzX2J5X2lkW25vZGVuYW1lXTtub2RlPyh0aGlzLnRyYW5zZm9ybU1hdHJpeChpbnZfbWF0LDA9PW5vZGUuX2RlcHRoLCEwKSxqb2ludHMucHVzaChbbm9kZW5hbWUsaW52X21hdF0pKTpjb25zb2xlLndhcm4oXCJOb2RlIFwiK25vZGVuYW1lK1wiIG5vdCBmb3VuZFwiKX19dmFyIHhtbHZlcnRleHdlaWdodHM9eG1sc2tpbi5xdWVyeVNlbGVjdG9yKFwidmVydGV4X3dlaWdodHNcIik7aWYoeG1sdmVydGV4d2VpZ2h0cyl7Zm9yKHZhciB3ZWlnaHRzX2luZGV4ZWRfYXJyYXk9bnVsbCx4bWxpbnB1dHM9eG1sdmVydGV4d2VpZ2h0cy5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIiksaT0wO2k8eG1saW5wdXRzLmxlbmd0aDtpKyspXCJXRUlHSFRcIj09eG1saW5wdXRzW2ldLmdldEF0dHJpYnV0ZShcInNlbWFudGljXCIpLnRvVXBwZXJDYXNlKCkmJih3ZWlnaHRzX2luZGV4ZWRfYXJyYXk9c291cmNlc1t4bWxpbnB1dHMuaXRlbShpKS5nZXRBdHRyaWJ1dGUoXCJzb3VyY2VcIikuc3Vic3RyKDEpXSk7aWYoIXdlaWdodHNfaW5kZXhlZF9hcnJheSl0aHJvd1wibm8gd2VpZ2h0cyBmb3VuZFwiO2Zvcih2YXIgeG1sdmNvdW50PXhtbHZlcnRleHdlaWdodHMucXVlcnlTZWxlY3RvcihcInZjb3VudFwiKSx2Y291bnQ9dGhpcy5yZWFkQ29udGVudEFzVUludDMyKHhtbHZjb3VudCkseG1sdj14bWx2ZXJ0ZXh3ZWlnaHRzLnF1ZXJ5U2VsZWN0b3IoXCJ2XCIpLHY9dGhpcy5yZWFkQ29udGVudEFzVUludDMyKHhtbHYpLG51bV92ZXJ0aWNlcz1tZXNoLnZlcnRpY2VzLmxlbmd0aC8zLHdlaWdodHNfYXJyYXk9bmV3IEZsb2F0MzJBcnJheSg0Km51bV92ZXJ0aWNlcyksYm9uZV9pbmRleF9hcnJheT1uZXcgVWludDhBcnJheSg0Km51bV92ZXJ0aWNlcykscG9zPTAscmVtYXA9bWVzaC5fcmVtYXAsbWF4X2JvbmU9MCxpPTAsbD12Y291bnQubGVuZ3RoO2k8bDsrK2kpe2Zvcih2YXIgbnVtX2JvbmVzPXZjb3VudFtpXSxvZmZzZXQ9cG9zLGI9Ym9uZV9pbmRleF9hcnJheS5zdWJhcnJheSg0KmksNCppKzQpLHc9d2VpZ2h0c19hcnJheS5zdWJhcnJheSg0KmksNCppKzQpLHN1bT0wLGo9MDtqPG51bV9ib25lcyYmajw0OysrailiW2pdPXZbb2Zmc2V0KzIqal0sYltqXT5tYXhfYm9uZSYmKG1heF9ib25lPWJbal0pLHdbal09d2VpZ2h0c19pbmRleGVkX2FycmF5W3Zbb2Zmc2V0KzIqaisxXV0sc3VtKz13W2pdO2lmKG51bV9ib25lcz40JiZzdW08MSlmb3IodmFyIGludl9zdW09MS9zdW0saj0wO2o8NDsrK2opd1tqXSo9aW52X3N1bTtwb3MrPTIqbnVtX2JvbmVzfWZvcih2YXIgZmluYWxfd2VpZ2h0cz1uZXcgRmxvYXQzMkFycmF5KDQqbnVtX3ZlcnRpY2VzKSxmaW5hbF9ib25lX2luZGljZXM9bmV3IFVpbnQ4QXJyYXkoNCpudW1fdmVydGljZXMpLHVzZWRfam9pbnRzPVtdLGk9MDtpPG51bV92ZXJ0aWNlczsrK2kpe2Zvcih2YXIgcD00KnJlbWFwW2ldLHc9d2VpZ2h0c19hcnJheS5zdWJhcnJheShwLHArNCksYj1ib25lX2luZGV4X2FycmF5LnN1YmFycmF5KHAscCs0KSxrPTA7azwzOysrayl7Zm9yKHZhciBtYXhfcG9zPWssbWF4X3ZhbHVlPXdba10saj1rKzE7ajw0Oysrail3W2pdPD1tYXhfdmFsdWV8fChtYXhfcG9zPWosbWF4X3ZhbHVlPXdbal0pO2lmKG1heF9wb3MhPWspe3ZhciB0bXA9d1trXTt3W2tdPXdbbWF4X3Bvc10sd1ttYXhfcG9zXT10bXAsdG1wPWJba10sYltrXT1iW21heF9wb3NdLGJbbWF4X3Bvc109dG1wfX1maW5hbF93ZWlnaHRzLnNldCh3LDQqaSksZmluYWxfYm9uZV9pbmRpY2VzLnNldChiLDQqaSksd1swXSYmKHVzZWRfam9pbnRzW2JbMF1dPSEwKSx3WzFdJiYodXNlZF9qb2ludHNbYlsxXV09ITApLHdbMl0mJih1c2VkX2pvaW50c1tiWzJdXT0hMCksd1szXSYmKHVzZWRfam9pbnRzW2JbM11dPSEwKX1tYXhfYm9uZT49am9pbnRzLmxlbmd0aCYmY29uc29sZS53YXJuKFwiTWVzaCB1c2VzIGhpZ2hlciBib25lIGluZGV4IHRoYW4gYm9uZXMgZm91bmRcIik7Zm9yKHZhciBuZXdfYm9uZXM9W10sYm9uZXNfdHJhbnNsYXRpb249e30saT0wO2k8dXNlZF9qb2ludHMubGVuZ3RoOysraSl1c2VkX2pvaW50c1tpXSYmKGJvbmVzX3RyYW5zbGF0aW9uW2ldPW5ld19ib25lcy5sZW5ndGgsbmV3X2JvbmVzLnB1c2goam9pbnRzW2ldKSk7aWYobmV3X2JvbmVzLmxlbmd0aDxqb2ludHMubGVuZ3RoKXtmb3IodmFyIGk9MDtpPGZpbmFsX2JvbmVfaW5kaWNlcy5sZW5ndGg7aSsrKWZpbmFsX2JvbmVfaW5kaWNlc1tpXT1ib25lc190cmFuc2xhdGlvbltmaW5hbF9ib25lX2luZGljZXNbaV1dO2pvaW50cz1uZXdfYm9uZXN9bWVzaC53ZWlnaHRzPWZpbmFsX3dlaWdodHMsbWVzaC5ib25lX2luZGljZXM9ZmluYWxfYm9uZV9pbmRpY2VzLG1lc2guYm9uZXM9am9pbnRzLG1lc2guYmluZF9tYXRyaXg9YmluZF9tYXRyaXh9cmV0dXJuIG1lc2h9LHJlYWRNb3JwaENvbnRyb2xsZXI6ZnVuY3Rpb24oeG1sbW9ycGgsZmxpcCxzY2VuZSxtZXNoKXt2YXIgaWRfZ2VvbWV0cnk9eG1sbW9ycGguZ2V0QXR0cmlidXRlKFwic291cmNlXCIpLGJhc2VfbWVzaD10aGlzLnJlYWRHZW9tZXRyeShpZF9nZW9tZXRyeSxmbGlwLHNjZW5lKTtpZighYmFzZV9tZXNoKXJldHVybiBudWxsO3ZhciBzb3VyY2VzPXRoaXMucmVhZFNvdXJjZXMoeG1sbW9ycGgsZmxpcCksbW9ycGhzPVtdLHhtbHRhcmdldHM9eG1sbW9ycGgucXVlcnlTZWxlY3RvcihcInRhcmdldHNcIik7aWYoIXhtbHRhcmdldHMpcmV0dXJuIG51bGw7Zm9yKHZhciB4bWxpbnB1dHM9eG1sdGFyZ2V0cy5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIiksdGFyZ2V0cz1udWxsLHdlaWdodHM9bnVsbCxpPTA7aTx4bWxpbnB1dHMubGVuZ3RoO2krKyl7dmFyIHhtbGlucHV0PXhtbGlucHV0cy5pdGVtKGkpLHNlbWFudGljPXhtbGlucHV0LmdldEF0dHJpYnV0ZShcInNlbWFudGljXCIpLnRvVXBwZXJDYXNlKCksZGF0YT1zb3VyY2VzW3htbGlucHV0LmdldEF0dHJpYnV0ZShcInNvdXJjZVwiKS5zdWJzdHIoMSldO1wiTU9SUEhfVEFSR0VUXCI9PXNlbWFudGljP3RhcmdldHM9ZGF0YTpcIk1PUlBIX1dFSUdIVFwiPT1zZW1hbnRpYyYmKHdlaWdodHM9ZGF0YSl9aWYoIXRhcmdldHN8fCF3ZWlnaHRzKXJldHVybiBjb25zb2xlLndhcm4oXCJNb3JwaCBjb250cm9sbGVyIHdpdGhvdXQgdGFyZ2V0cyBvciB3ZWlnaHRzLiBTa2lwcGluZyBpdC5cIiksbnVsbDtmb3IodmFyIGkgaW4gdGFyZ2V0cyl7dmFyIGlkPVwiI1wiK3RhcmdldHNbaV0sZ2VvbWV0cnk9dGhpcy5yZWFkR2VvbWV0cnkoaWQsZmxpcCxzY2VuZSk7c2NlbmUubWVzaGVzW2lkXT1nZW9tZXRyeSxtb3JwaHMucHVzaCh7bWVzaDppZCx3ZWlnaHQ6d2VpZ2h0c1tpXX0pfXJldHVybiBiYXNlX21lc2gubW9ycGhfdGFyZ2V0cz1tb3JwaHMsYmFzZV9tZXNofSxyZWFkQmluZE1hdGVyaWFsczpmdW5jdGlvbih4bWxiaW5kX21hdGVyaWFsLG1lc2gpe2Zvcih2YXIgbWF0ZXJpYWxzPVtdLHhtbHRlY2huaXF1ZXM9eG1sYmluZF9tYXRlcmlhbC5xdWVyeVNlbGVjdG9yQWxsKFwidGVjaG5pcXVlX2NvbW1vblwiKSxpPTA7aTx4bWx0ZWNobmlxdWVzLmxlbmd0aDtpKyspZm9yKHZhciB4bWx0ZWNobmlxdWU9eG1sdGVjaG5pcXVlcy5pdGVtKGkpLHhtbGluc3RhbmNlX21hdGVyaWFscz14bWx0ZWNobmlxdWUucXVlcnlTZWxlY3RvckFsbChcImluc3RhbmNlX21hdGVyaWFsXCIpLGo9MDtqPHhtbGluc3RhbmNlX21hdGVyaWFscy5sZW5ndGg7aisrKXt2YXIgeG1saW5zdGFuY2VfbWF0ZXJpYWw9eG1saW5zdGFuY2VfbWF0ZXJpYWxzLml0ZW0oaik7eG1saW5zdGFuY2VfbWF0ZXJpYWwmJm1hdGVyaWFscy5wdXNoKHhtbGluc3RhbmNlX21hdGVyaWFsLmdldEF0dHJpYnV0ZShcInN5bWJvbFwiKSl9cmV0dXJuIG1hdGVyaWFsc30scmVhZFNvdXJjZXM6ZnVuY3Rpb24oeG1sbm9kZSxmbGlwKXtmb3IodmFyIHNvdXJjZXM9e30seG1sc291cmNlcz14bWxub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzb3VyY2VcIiksaT0wO2k8eG1sc291cmNlcy5sZW5ndGg7aSsrKXt2YXIgeG1sc291cmNlPXhtbHNvdXJjZXMuaXRlbShpKTtpZih4bWxzb3VyY2UucXVlcnlTZWxlY3Rvcil7aWYoeG1sc291cmNlLnF1ZXJ5U2VsZWN0b3IoXCJmbG9hdF9hcnJheVwiKSl7dmFyIGZsb2F0cz10aGlzLnJlYWRDb250ZW50QXNGbG9hdHMoeG1sc291cmNlKTtzb3VyY2VzW3htbHNvdXJjZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKV09ZmxvYXRzfWVsc2V7dmFyIG5hbWVfYXJyYXk9eG1sc291cmNlLnF1ZXJ5U2VsZWN0b3IoXCJOYW1lX2FycmF5XCIpO2lmKG5hbWVfYXJyYXkpe3ZhciBuYW1lcz10aGlzLnJlYWRDb250ZW50QXNTdHJpbmdzQXJyYXkobmFtZV9hcnJheSk7aWYoIW5hbWVzKWNvbnRpbnVlO3NvdXJjZXNbeG1sc291cmNlLmdldEF0dHJpYnV0ZShcImlkXCIpXT1uYW1lc31lbHNle3ZhciByZWZfYXJyYXk9eG1sc291cmNlLnF1ZXJ5U2VsZWN0b3IoXCJJRFJFRl9hcnJheVwiKTtpZihyZWZfYXJyYXkpe3ZhciBuYW1lcz10aGlzLnJlYWRDb250ZW50QXNTdHJpbmdzQXJyYXkocmVmX2FycmF5KTtpZighbmFtZXMpY29udGludWU7c291cmNlc1t4bWxzb3VyY2UuZ2V0QXR0cmlidXRlKFwiaWRcIildPW5hbWVzfWVsc2U7fX19fXJldHVybiBzb3VyY2VzfSxyZWFkQ29udGVudEFzVUludDMyOmZ1bmN0aW9uKHhtbG5vZGUpe2lmKCF4bWxub2RlKXJldHVybiBudWxsO3ZhciB0ZXh0PXhtbG5vZGUudGV4dENvbnRlbnQ7aWYodGV4dD10ZXh0LnJlcGxhY2UoL1xcbi9naSxcIiBcIiksdGV4dD10ZXh0LnRyaW0oKSwwPT10ZXh0Lmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIG51bWJlcnM9dGV4dC5zcGxpdChcIiBcIiksZmxvYXRzPW5ldyBVaW50MzJBcnJheShudW1iZXJzLmxlbmd0aCksaz0wO2s8bnVtYmVycy5sZW5ndGg7aysrKWZsb2F0c1trXT1wYXJzZUludChudW1iZXJzW2tdKTtyZXR1cm4gZmxvYXRzfSxyZWFkQ29udGVudEFzRmxvYXRzOmZ1bmN0aW9uKHhtbG5vZGUpe2lmKCF4bWxub2RlKXJldHVybiBudWxsO3ZhciB0ZXh0PXhtbG5vZGUudGV4dENvbnRlbnQ7dGV4dD10ZXh0LnJlcGxhY2UoL1xcbi9naSxcIiBcIiksdGV4dD10ZXh0LnJlcGxhY2UoL1xcc1xccysvZ2ksXCIgXCIpLHRleHQ9dGV4dC5yZXBsYWNlKC9cXHQvZ2ksXCJcIiksdGV4dD10ZXh0LnRyaW0oKTtmb3IodmFyIG51bWJlcnM9dGV4dC5zcGxpdChcIiBcIiksY291bnQ9eG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJjb3VudFwiKSxsZW5ndGg9Y291bnQ/cGFyc2VJbnQoY291bnQpOm51bWJlcnMubGVuZ3RoLGZsb2F0cz1uZXcgRmxvYXQzMkFycmF5KGxlbmd0aCksaz0wO2s8bnVtYmVycy5sZW5ndGg7aysrKWZsb2F0c1trXT1wYXJzZUZsb2F0KG51bWJlcnNba10pO3JldHVybiBmbG9hdHN9LHJlYWRDb250ZW50QXNTdHJpbmdzQXJyYXk6ZnVuY3Rpb24oeG1sbm9kZSl7aWYoIXhtbG5vZGUpcmV0dXJuIG51bGw7dmFyIHRleHQ9eG1sbm9kZS50ZXh0Q29udGVudDt0ZXh0PXRleHQucmVwbGFjZSgvXFxuL2dpLFwiIFwiKSx0ZXh0PXRleHQucmVwbGFjZSgvXFxzXFxzL2dpLFwiIFwiKSx0ZXh0PXRleHQudHJpbSgpO2Zvcih2YXIgd29yZHM9dGV4dC5zcGxpdChcIiBcIiksaz0wO2s8d29yZHMubGVuZ3RoO2srKyl3b3Jkc1trXT13b3Jkc1trXS50cmltKCk7aWYoeG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJjb3VudFwiKSYmcGFyc2VJbnQoeG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJjb3VudFwiKSkhPXdvcmRzLmxlbmd0aCl7dmFyIG1lcmdlZF93b3Jkcz1bXSxuYW1lPVwiXCI7Zm9yKHZhciBpIGluIHdvcmRzKW5hbWU/bmFtZSs9XCIgXCIrd29yZHNbaV06bmFtZT13b3Jkc1tpXSx0aGlzLl9ub2Rlc19ieV9pZFt0aGlzLnNhZmVTdHJpbmcobmFtZSldJiYobWVyZ2VkX3dvcmRzLnB1c2godGhpcy5zYWZlU3RyaW5nKG5hbWUpKSxuYW1lPVwiXCIpO3ZhciBjb3VudD1wYXJzZUludCh4bWxub2RlLmdldEF0dHJpYnV0ZShcImNvdW50XCIpKTtyZXR1cm4gbWVyZ2VkX3dvcmRzLmxlbmd0aD09Y291bnQ/bWVyZ2VkX3dvcmRzOihjb25zb2xlLmVycm9yKFwiRXJyb3I6IGJvbmUgbmFtZXMgaGF2ZSBzcGFjZXMsIGF2b2lkIHVzaW5nIHNwYWNlcyBpbiBuYW1lc1wiKSxudWxsKX1yZXR1cm4gd29yZHN9LG1heDNkX21hdHJpeF8wOm5ldyBGbG9hdDMyQXJyYXkoWzAsLTEsMCwwLDAsMCwtMSwwLDEsMCwwLC0wLDAsMCwwLDFdKSx0cmFuc2Zvcm1NYXRyaXg6ZnVuY3Rpb24obWF0cml4LGZpcnN0X2xldmVsLGludmVydGVkKXtpZihfZ2xNYXRyaXgubWF0NC50cmFuc3Bvc2UobWF0cml4LG1hdHJpeCksdGhpcy5ub19mbGlwKXJldHVybiBtYXRyaXg7aWYoZmlyc3RfbGV2ZWwpe3ZhciB0ZW1wPW5ldyBGbG9hdDMyQXJyYXkobWF0cml4LnN1YmFycmF5KDQsOCkpO21hdHJpeC5zZXQobWF0cml4LnN1YmFycmF5KDgsMTIpLDQpLG1hdHJpeC5zZXQodGVtcCw4KSx0ZW1wPW1hdHJpeC5zdWJhcnJheSg4LDEyKSx2ZWM0LnNjYWxlKHRlbXAsdGVtcCwtMSl9ZWxzZXt2YXIgTT1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSxtPW1hdHJpeDtNLnNldChbbVswXSxtWzJdLC1tWzFdXSwwKSxNLnNldChbbVs4XSxtWzEwXSwtbVs5XV0sNCksTS5zZXQoWy1tWzRdLC1tWzZdLG1bNV1dLDgpLE0uc2V0KFttWzEyXSxtWzE0XSwtbVsxM11dLDEyKSxtLnNldChNKX1yZXR1cm4gbWF0cml4fX07ZXhwb3J0cy5kZWZhdWx0PUNvbGxhZGEsbW9kdWxlLmV4cG9ydHM9ZXhwb3J0cy5kZWZhdWx0fSkuY2FsbChleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18oNzApKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGcsX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24ob2JqKXtyZXR1cm4gdHlwZW9mIG9ian06ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmp9O2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7Zz1nfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl8fCgwLGV2YWwpKFwidGhpc1wiKX1jYXRjaChlKXtcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/XCJ1bmRlZmluZWRcIjpfdHlwZW9mKHdpbmRvdykpJiYoZz13aW5kb3cpfW1vZHVsZS5leHBvcnRzPWd9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfUGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpLF9HTFRvb2w9KF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3MpLF9fd2VicGFja19yZXF1aXJlX18oMCkpLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX0dlb209X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxfR2VvbTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2VvbSksX0ZyYW1lQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oMTIpLF9GcmFtZUJ1ZmZlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRnJhbWVCdWZmZXIpLEVmZmVjdENvbXBvc2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRWZmZWN0Q29tcG9zZXIobVdpZHRoLG1IZWlnaHQpe2FyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07X2NsYXNzQ2FsbENoZWNrKHRoaXMsRWZmZWN0Q29tcG9zZXIpLHRoaXMuX3dpZHRoPW1XaWR0aHx8X0dMVG9vbDIuZGVmYXVsdC53aWR0aCx0aGlzLl9oZWlnaHQ9bUhlaWdodHx8X0dMVG9vbDIuZGVmYXVsdC5oZWlnaHQsdGhpcy5fcGFyYW1zPXt9LHRoaXMuc2V0U2l6ZShtV2lkdGgsbUhlaWdodCksdGhpcy5fbWVzaD1fR2VvbTIuZGVmYXVsdC5iaWdUcmlhbmdsZSgpLHRoaXMuX3Bhc3Nlcz1bXSx0aGlzLl9yZXR1cm5UZXh0dXJlfXJldHVybiBfY3JlYXRlQ2xhc3MoRWZmZWN0Q29tcG9zZXIsW3trZXk6XCJhZGRQYXNzXCIsdmFsdWU6ZnVuY3Rpb24ocGFzcyl7aWYocGFzcy5wYXNzZXMpcmV0dXJuIHZvaWQgdGhpcy5hZGRQYXNzKHBhc3MucGFzc2VzKTtpZihwYXNzLmxlbmd0aClmb3IodmFyIGk9MDtpPHBhc3MubGVuZ3RoO2krKyl0aGlzLl9wYXNzZXMucHVzaChwYXNzW2ldKTtlbHNlIHRoaXMuX3Bhc3Nlcy5wdXNoKHBhc3MpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKG1Tb3VyY2Upe3ZhciBfdGhpcz10aGlzLHNvdXJjZT1tU291cmNlLGZib1RhcmdldD12b2lkIDA7cmV0dXJuIHRoaXMuX3Bhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKHBhc3Mpe2Zib1RhcmdldD1wYXNzLmhhc0Zibz9wYXNzLmZibzpfdGhpcy5fZmJvVGFyZ2V0LGZib1RhcmdldC5iaW5kKCksX0dMVG9vbDIuZGVmYXVsdC5jbGVhcigwLDAsMCwwKSxwYXNzLnJlbmRlcihzb3VyY2UpLF9HTFRvb2wyLmRlZmF1bHQuZHJhdyhfdGhpcy5fbWVzaCksZmJvVGFyZ2V0LnVuYmluZCgpLHBhc3MuaGFzRmJvP3NvdXJjZT1wYXNzLmZiby5nZXRUZXh0dXJlKCk6KF90aGlzLl9zd2FwKCksc291cmNlPV90aGlzLl9mYm9DdXJyZW50LmdldFRleHR1cmUoKSl9KSx0aGlzLl9yZXR1cm5UZXh0dXJlPXNvdXJjZSxzb3VyY2V9fSx7a2V5OlwiX3N3YXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0bXA9dGhpcy5fZmJvQ3VycmVudDt0aGlzLl9mYm9DdXJyZW50PXRoaXMuX2Zib1RhcmdldCx0aGlzLl9mYm9UYXJnZXQ9dG1wLHRoaXMuX2N1cnJlbnQ9dGhpcy5fZmJvQ3VycmVudCx0aGlzLl90YXJnZXQ9dGhpcy5fZmJvVGFyZ2V0fX0se2tleTpcInNldFNpemVcIix2YWx1ZTpmdW5jdGlvbihtV2lkdGgsbUhlaWdodCl7dGhpcy5fd2lkdGg9bVdpZHRoLHRoaXMuX2hlaWdodD1tSGVpZ2h0LHRoaXMuX2Zib0N1cnJlbnQ9bmV3IF9GcmFtZUJ1ZmZlcjIuZGVmYXVsdCh0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQsdGhpcy5fcGFyYW1zKSx0aGlzLl9mYm9UYXJnZXQ9bmV3IF9GcmFtZUJ1ZmZlcjIuZGVmYXVsdCh0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQsdGhpcy5fcGFyYW1zKX19LHtrZXk6XCJnZXRUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV0dXJuVGV4dHVyZX19LHtrZXk6XCJwYXNzZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFzc2VzfX1dKSxFZmZlY3RDb21wb3Nlcn0oKTtleHBvcnRzLmRlZmF1bHQ9RWZmZWN0Q29tcG9zZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9QYXNzVkJsdXI9X193ZWJwYWNrX3JlcXVpcmVfXygzNyksX1Bhc3NWQmx1cjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFzc1ZCbHVyKSxfUGFzc0hCbHVyPV9fd2VicGFja19yZXF1aXJlX18oMzkpLF9QYXNzSEJsdXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3NIQmx1ciksX1Bhc3NNYWNybzI9X193ZWJwYWNrX3JlcXVpcmVfXygzNiksX1Bhc3NNYWNybzM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFzc01hY3JvMiksUGFzc0JsdXI9ZnVuY3Rpb24oX1Bhc3NNYWNybyl7ZnVuY3Rpb24gUGFzc0JsdXIoKXt2YXIgbVF1YWxpdHk9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjksbVdpZHRoPWFyZ3VtZW50c1sxXSxtSGVpZ2h0PWFyZ3VtZW50c1syXSxtUGFyYW1zPWFyZ3VtZW50c1szXTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQYXNzQmx1cik7dmFyIF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKFBhc3NCbHVyLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFBhc3NCbHVyKSkuY2FsbCh0aGlzKSksdkJsdXI9bmV3IF9QYXNzVkJsdXIyLmRlZmF1bHQobVF1YWxpdHksbVdpZHRoLG1IZWlnaHQsbVBhcmFtcyksaEJsdXI9bmV3IF9QYXNzSEJsdXIyLmRlZmF1bHQobVF1YWxpdHksbVdpZHRoLG1IZWlnaHQsbVBhcmFtcyk7cmV0dXJuIF90aGlzLmFkZFBhc3ModkJsdXIpLF90aGlzLmFkZFBhc3MoaEJsdXIpLF90aGlzfXJldHVybiBfaW5oZXJpdHMoUGFzc0JsdXIsX1Bhc3NNYWNybyksUGFzc0JsdXJ9KF9QYXNzTWFjcm8zLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1QYXNzQmx1cn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gYmx1cjUuZnJhZ1xcbi8vIHNvdXJjZSAgOiBodHRwczovL2dpdGh1Yi5jb20vSmFtMy9nbHNsLWZhc3QtZ2F1c3NpYW4tYmx1clxcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgQkxVUl81XFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG51bmlmb3JtIHZlYzIgdURpcmVjdGlvbjtcXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XFxuXFxudmVjNCBibHVyNShzYW1wbGVyMkQgaW1hZ2UsIHZlYzIgdXYsIHZlYzIgcmVzb2x1dGlvbiwgdmVjMiBkaXJlY3Rpb24pIHtcXG5cXHR2ZWM0IGNvbG9yID0gdmVjNCgwLjApO1xcblxcdHZlYzIgb2ZmMSA9IHZlYzIoMS4zMzMzMzMzMzMzMzMzMzMzKSAqIGRpcmVjdGlvbjtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQoaW1hZ2UsIHV2KSAqIDAuMjk0MTE3NjQ3MDU4ODIzNTQ7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1diArIChvZmYxIC8gcmVzb2x1dGlvbikpICogMC4zNTI5NDExNzY0NzA1ODgyNjtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQoaW1hZ2UsIHV2IC0gKG9mZjEgLyByZXNvbHV0aW9uKSkgKiAwLjM1Mjk0MTE3NjQ3MDU4ODI2O1xcblxcdHJldHVybiBjb2xvcjsgXFxufVxcblxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IGJsdXI1KHRleHR1cmUsIHZUZXh0dXJlQ29vcmQsIHVSZXNvbHV0aW9uLCB1RGlyZWN0aW9uKTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJsdXI5LmZyYWdcXG4vLyBzb3VyY2UgIDogaHR0cHM6Ly9naXRodWIuY29tL0phbTMvZ2xzbC1mYXN0LWdhdXNzaWFuLWJsdXJcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIEJMVVJfOVxcblxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxudW5pZm9ybSB2ZWMyIHVEaXJlY3Rpb247XFxudW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xcblxcbnZlYzQgYmx1cjkoc2FtcGxlcjJEIGltYWdlLCB2ZWMyIHV2LCB2ZWMyIHJlc29sdXRpb24sIHZlYzIgZGlyZWN0aW9uKSB7XFxuXFx0dmVjNCBjb2xvciA9IHZlYzQoMC4wKTtcXG5cXHR2ZWMyIG9mZjEgPSB2ZWMyKDEuMzg0NjE1Mzg0NikgKiBkaXJlY3Rpb247XFxuXFx0dmVjMiBvZmYyID0gdmVjMigzLjIzMDc2OTIzMDgpICogZGlyZWN0aW9uO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYpICogMC4yMjcwMjcwMjcwO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYgKyAob2ZmMSAvIHJlc29sdXRpb24pKSAqIDAuMzE2MjE2MjE2MjtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQoaW1hZ2UsIHV2IC0gKG9mZjEgLyByZXNvbHV0aW9uKSkgKiAwLjMxNjIxNjIxNjI7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1diArIChvZmYyIC8gcmVzb2x1dGlvbikpICogMC4wNzAyNzAyNzAzO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYgLSAob2ZmMiAvIHJlc29sdXRpb24pKSAqIDAuMDcwMjcwMjcwMztcXG5cXHRyZXR1cm4gY29sb3I7XFxufVxcblxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IGJsdXI5KHRleHR1cmUsIHZUZXh0dXJlQ29vcmQsIHVSZXNvbHV0aW9uLCB1RGlyZWN0aW9uKTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJsdXIxMy5mcmFnXFxuLy8gc291cmNlICA6IGh0dHBzOi8vZ2l0aHViLmNvbS9KYW0zL2dsc2wtZmFzdC1nYXVzc2lhbi1ibHVyXFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBCTFVSXzEzXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG51bmlmb3JtIHZlYzIgdURpcmVjdGlvbjtcXG51bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XFxuXFxudmVjNCBibHVyMTMoc2FtcGxlcjJEIGltYWdlLCB2ZWMyIHV2LCB2ZWMyIHJlc29sdXRpb24sIHZlYzIgZGlyZWN0aW9uKSB7XFxuXFx0dmVjNCBjb2xvciA9IHZlYzQoMC4wKTtcXG5cXHR2ZWMyIG9mZjEgPSB2ZWMyKDEuNDExNzY0NzA1ODgyMzUzKSAqIGRpcmVjdGlvbjtcXG5cXHR2ZWMyIG9mZjIgPSB2ZWMyKDMuMjk0MTE3NjQ3MDU4ODIzNCkgKiBkaXJlY3Rpb247XFxuXFx0dmVjMiBvZmYzID0gdmVjMig1LjE3NjQ3MDU4ODIzNTI5NCkgKiBkaXJlY3Rpb247XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1dikgKiAwLjE5NjQ4MjU1MDE1MTE0MDQ7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1diArIChvZmYxIC8gcmVzb2x1dGlvbikpICogMC4yOTY5MDY5NjQ2NzI4MzQ0O1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYgLSAob2ZmMSAvIHJlc29sdXRpb24pKSAqIDAuMjk2OTA2OTY0NjcyODM0NDtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQoaW1hZ2UsIHV2ICsgKG9mZjIgLyByZXNvbHV0aW9uKSkgKiAwLjA5NDQ3MDM5Nzg1MDQ0NzMyO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYgLSAob2ZmMiAvIHJlc29sdXRpb24pKSAqIDAuMDk0NDcwMzk3ODUwNDQ3MzI7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1diArIChvZmYzIC8gcmVzb2x1dGlvbikpICogMC4wMTAzODEzNjI0MDExNDgwNTc7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1diAtIChvZmYzIC8gcmVzb2x1dGlvbikpICogMC4wMTAzODEzNjI0MDExNDgwNTc7XFxuXFx0cmV0dXJuIGNvbG9yO1xcbn1cXG5cXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9GcmFnQ29sb3IgPSBibHVyMTModGV4dHVyZSwgdlRleHR1cmVDb29yZCwgdVJlc29sdXRpb24sIHVEaXJlY3Rpb24pO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX1Bhc3MyPV9fd2VicGFja19yZXF1aXJlX18oOSksX1Bhc3MzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3MyKSxfZnhhYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQwKSxfZnhhYTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnhhYSksUGFzc0Z4YWE9ZnVuY3Rpb24oX1Bhc3Mpe2Z1bmN0aW9uIFBhc3NGeGFhKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUGFzc0Z4YWEpO3ZhciBfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChQYXNzRnhhYS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihQYXNzRnhhYSkpLmNhbGwodGhpcyxfZnhhYTIuZGVmYXVsdCkpO3JldHVybiBfdGhpcy51bmlmb3JtKFwidVJlc29sdXRpb25cIixbMS9fR0xUb29sMi5kZWZhdWx0LndpZHRoLDEvX0dMVG9vbDIuZGVmYXVsdC5oZWlnaHRdKSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKFBhc3NGeGFhLF9QYXNzKSxQYXNzRnhhYX0oX1Bhc3MzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1QYXNzRnhhYX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2V0PWZ1bmN0aW9uIGdldChvYmplY3QscHJvcGVydHkscmVjZWl2ZXIpe251bGw9PT1vYmplY3QmJihvYmplY3Q9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgZGVzYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxwcm9wZXJ0eSk7aWYodm9pZCAwPT09ZGVzYyl7dmFyIHBhcmVudD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtyZXR1cm4gbnVsbD09PXBhcmVudD92b2lkIDA6Z2V0KHBhcmVudCxwcm9wZXJ0eSxyZWNlaXZlcil9aWYoXCJ2YWx1ZVwiaW4gZGVzYylyZXR1cm4gZGVzYy52YWx1ZTt2YXIgZ2V0dGVyPWRlc2MuZ2V0O2lmKHZvaWQgMCE9PWdldHRlcilyZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpfSxfR2VvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9HZW9tMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZW9tKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfQmF0Y2gyPV9fd2VicGFja19yZXF1aXJlX18oNCksX0JhdGNoMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaDIpLHZzPV9fd2VicGFja19yZXF1aXJlX18oMTgpLGZzPV9fd2VicGFja19yZXF1aXJlX18oMTkpLEJhdGNoQ29weT1mdW5jdGlvbihfQmF0Y2gpe2Z1bmN0aW9uIEJhdGNoQ29weSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoQ29weSk7dmFyIG1lc2g9X0dlb20yLmRlZmF1bHQuYmlnVHJpYW5nbGUoKSxzaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdCh2cyxmcyksX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hDb3B5Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoQ29weSkpLmNhbGwodGhpcyxtZXNoLHNoYWRlcikpO3JldHVybiBzaGFkZXIuYmluZCgpLHNoYWRlci51bmlmb3JtKFwidGV4dHVyZVwiLFwidW5pZm9ybTFpXCIsMCksX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhCYXRjaENvcHksX0JhdGNoKSxfY3JlYXRlQ2xhc3MoQmF0Y2hDb3B5LFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHRleHR1cmUpe3RoaXMuc2hhZGVyLmJpbmQoKSx0ZXh0dXJlLmJpbmQoMCksX2dldChCYXRjaENvcHkucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoQ29weS5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyl9fV0pLEJhdGNoQ29weX0oX0JhdGNoMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2hDb3B5fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfTWVzaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLF9NZXNoMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfQmF0Y2gyPV9fd2VicGFja19yZXF1aXJlX18oNCksX0JhdGNoMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaDIpLHZzPV9fd2VicGFja19yZXF1aXJlX18oNzkpLGZzPV9fd2VicGFja19yZXF1aXJlX18oODApLEJhdGNoQXhpcz1mdW5jdGlvbihfQmF0Y2gpe2Z1bmN0aW9uIEJhdGNoQXhpcygpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoQXhpcyk7dmFyIHBvc2l0aW9ucz1bXSxjb2xvcnM9W10saW5kaWNlcz1bMCwxLDIsMyw0LDVdLHI9OTk5OTtwb3NpdGlvbnMucHVzaChbLXIsMCwwXSkscG9zaXRpb25zLnB1c2goW3IsMCwwXSkscG9zaXRpb25zLnB1c2goWzAsLXIsMF0pLHBvc2l0aW9ucy5wdXNoKFswLHIsMF0pLHBvc2l0aW9ucy5wdXNoKFswLDAsLXJdKSxwb3NpdGlvbnMucHVzaChbMCwwLHJdKSxjb2xvcnMucHVzaChbMSwwLDBdKSxjb2xvcnMucHVzaChbMSwwLDBdKSxjb2xvcnMucHVzaChbMCwxLDBdKSxjb2xvcnMucHVzaChbMCwxLDBdKSxjb2xvcnMucHVzaChbMCwwLDFdKSxjb2xvcnMucHVzaChbMCwwLDFdKTt2YXIgbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQoX0dMVG9vbDIuZGVmYXVsdC5MSU5FUyk7bWVzaC5idWZmZXJWZXJ0ZXgocG9zaXRpb25zKSxtZXNoLmJ1ZmZlckluZGV4KGluZGljZXMpLG1lc2guYnVmZmVyRGF0YShjb2xvcnMsXCJhQ29sb3JcIiwzKTt2YXIgc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQodnMsZnMpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChCYXRjaEF4aXMuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hBeGlzKSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSl9cmV0dXJuIF9pbmhlcml0cyhCYXRjaEF4aXMsX0JhdGNoKSxCYXRjaEF4aXN9KF9CYXRjaDMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUJhdGNoQXhpc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gYXhpcy52ZXJ0XFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBCQVNJQ19WRVJURVhcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYUNvbG9yO1xcbmF0dHJpYnV0ZSB2ZWMzIGFOb3JtYWw7XFxuXFxudW5pZm9ybSBtYXQ0IHVNb2RlbE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMyB2Q29sb3I7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIHVWaWV3TWF0cml4ICogdU1vZGVsTWF0cml4ICogdmVjNChhVmVydGV4UG9zaXRpb24sIDEuMCk7XFxuICAgIHZDb2xvciA9IGFDb2xvcjtcXG4gICAgdk5vcm1hbCA9IGFOb3JtYWw7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBheGlzLmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNJTVBMRV9URVhUVVJFXFxuXFxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG52YXJ5aW5nIHZlYzMgdkNvbG9yO1xcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFx0Ly8gdmVjMyBjb2xvciA9IHZOb3JtYWw7XFxuXFx0dmVjMyBjb2xvciA9IHZDb2xvciArIHZOb3JtYWwgKiAwLjAwMDE7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9HZW9tPV9fd2VicGFja19yZXF1aXJlX18oNyksX0dlb20yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dlb20pLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksdnM9X193ZWJwYWNrX3JlcXVpcmVfXygzMyksZnM9X193ZWJwYWNrX3JlcXVpcmVfXygxMCksQmF0Y2hCYWxsPWZ1bmN0aW9uKF9CYXRjaCl7ZnVuY3Rpb24gQmF0Y2hCYWxsKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2hCYWxsKTt2YXIgbWVzaD1fR2VvbTIuZGVmYXVsdC5zcGhlcmUoMSwyNCksc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQodnMsZnMpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChCYXRjaEJhbGwuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hCYWxsKSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSl9cmV0dXJuIF9pbmhlcml0cyhCYXRjaEJhbGwsX0JhdGNoKSxfY3JlYXRlQ2xhc3MoQmF0Y2hCYWxsLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHBvc2l0aW9uPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbMCwwLDBdLHNjYWxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMSwxLDFdLGNvbG9yPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbMSwxLDFdLG9wYWNpdHk9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7dGhpcy5zaGFkZXIuYmluZCgpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJwb3NpdGlvblwiLFwidW5pZm9ybTNmdlwiLHBvc2l0aW9uKSx0aGlzLnNoYWRlci51bmlmb3JtKFwic2NhbGVcIixcInVuaWZvcm0zZnZcIixzY2FsZSksdGhpcy5zaGFkZXIudW5pZm9ybShcImNvbG9yXCIsXCJ1bmlmb3JtM2Z2XCIsY29sb3IpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJvcGFjaXR5XCIsXCJ1bmlmb3JtMWZcIixvcGFjaXR5KSxfZ2V0KEJhdGNoQmFsbC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hCYWxsLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzKX19XSksQmF0Y2hCYWxsfShfQmF0Y2gzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1CYXRjaEJhbGx9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dldD1mdW5jdGlvbiBnZXQob2JqZWN0LHByb3BlcnR5LHJlY2VpdmVyKXtudWxsPT09b2JqZWN0JiYob2JqZWN0PUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGRlc2M9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QscHJvcGVydHkpO2lmKHZvaWQgMD09PWRlc2Mpe3ZhciBwYXJlbnQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7cmV0dXJuIG51bGw9PT1wYXJlbnQ/dm9pZCAwOmdldChwYXJlbnQscHJvcGVydHkscmVjZWl2ZXIpfWlmKFwidmFsdWVcImluIGRlc2MpcmV0dXJuIGRlc2MudmFsdWU7dmFyIGdldHRlcj1kZXNjLmdldDtpZih2b2lkIDAhPT1nZXR0ZXIpcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKX0sX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX01lc2g9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxfTWVzaDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMiksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0JhdGNoMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9CYXRjaDM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2gyKSx2cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgzKSxmcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSxCYXRjaERvdHNQbGFuZT1mdW5jdGlvbihfQmF0Y2gpe2Z1bmN0aW9uIEJhdGNoRG90c1BsYW5lKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2hEb3RzUGxhbmUpO3ZhciBwb3NpdGlvbnM9W10saW5kaWNlcz1bXSxpbmRleD0wLGk9dm9pZCAwLGo9dm9pZCAwO2ZvcihpPS0xMDA7aTwxMDA7aSs9MSlmb3Ioaj0tMTAwO2o8MTAwO2orPTEpcG9zaXRpb25zLnB1c2goW2ksaiwwXSksaW5kaWNlcy5wdXNoKGluZGV4KSxpbmRleCsrLHBvc2l0aW9ucy5wdXNoKFtpLDAsal0pLGluZGljZXMucHVzaChpbmRleCksaW5kZXgrKzt2YXIgbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQoX0dMVG9vbDIuZGVmYXVsdC5QT0lOVFMpO21lc2guYnVmZmVyVmVydGV4KHBvc2l0aW9ucyksbWVzaC5idWZmZXJJbmRleChpbmRpY2VzKTt2YXIgc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQodnMsZnMpLF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKEJhdGNoRG90c1BsYW5lLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoRG90c1BsYW5lKSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSk7cmV0dXJuIF90aGlzLmNvbG9yPVsxLDEsMV0sX3RoaXMub3BhY2l0eT0uNSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKEJhdGNoRG90c1BsYW5lLF9CYXRjaCksX2NyZWF0ZUNsYXNzKEJhdGNoRG90c1BsYW5lLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGFkZXIuYmluZCgpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJjb2xvclwiLFwidW5pZm9ybTNmdlwiLHRoaXMuY29sb3IpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJvcGFjaXR5XCIsXCJ1bmlmb3JtMWZcIix0aGlzLm9wYWNpdHkpLF9nZXQoQmF0Y2hEb3RzUGxhbmUucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoRG90c1BsYW5lLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzKX19XSksQmF0Y2hEb3RzUGxhbmV9KF9CYXRjaDMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUJhdGNoRG90c1BsYW5lfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBiYXNpYy52ZXJ0XFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBET1RTX1BMQU5FX1ZFUlRFWFxcblxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbmF0dHJpYnV0ZSB2ZWMzIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcblxcbnVuaWZvcm0gbWF0NCB1TW9kZWxNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogdVZpZXdNYXRyaXggKiB1TW9kZWxNYXRyaXggKiB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiArIGFOb3JtYWwgKiAwLjAwMDAwMSwgMS4wKTtcXG4gICAgZ2xfUG9pbnRTaXplID0gMS4wO1xcbiAgICB2Tm9ybWFsID0gYU5vcm1hbDtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dldD1mdW5jdGlvbiBnZXQob2JqZWN0LHByb3BlcnR5LHJlY2VpdmVyKXtudWxsPT09b2JqZWN0JiYob2JqZWN0PUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGRlc2M9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QscHJvcGVydHkpO2lmKHZvaWQgMD09PWRlc2Mpe3ZhciBwYXJlbnQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7cmV0dXJuIG51bGw9PT1wYXJlbnQ/dm9pZCAwOmdldChwYXJlbnQscHJvcGVydHkscmVjZWl2ZXIpfWlmKFwidmFsdWVcImluIGRlc2MpcmV0dXJuIGRlc2MudmFsdWU7dmFyIGdldHRlcj1kZXNjLmdldDtpZih2b2lkIDAhPT1nZXR0ZXIpcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKX0sX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX01lc2g9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxfTWVzaDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMiksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0JhdGNoMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9CYXRjaDM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2gyKSx2cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxmcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSxCYXRjaEF4aXM9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaEF4aXMoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCYXRjaEF4aXMpO3ZhciBwb3NpdGlvbnM9W10saW5kaWNlcz1bMCwxXSxjb29yZHM9W1swLDBdLFsxLDFdXTtwb3NpdGlvbnMucHVzaChbMCwwLDBdKSxwb3NpdGlvbnMucHVzaChbMCwwLDBdKTt2YXIgbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQoX0dMVG9vbDIuZGVmYXVsdC5MSU5FUyk7bWVzaC5idWZmZXJWZXJ0ZXgocG9zaXRpb25zKSxtZXNoLmJ1ZmZlclRleENvb3JkKGNvb3JkcyksbWVzaC5idWZmZXJJbmRleChpbmRpY2VzKTt2YXIgc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQodnMsZnMpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChCYXRjaEF4aXMuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hBeGlzKSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSl9cmV0dXJuIF9pbmhlcml0cyhCYXRjaEF4aXMsX0JhdGNoKSxfY3JlYXRlQ2xhc3MoQmF0Y2hBeGlzLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKG1Qb3NpdGlvbkEsbVBvc2l0aW9uQil7dmFyIGNvbG9yPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbMSwxLDFdLG9wYWNpdHk9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7dGhpcy5fbWVzaC5idWZmZXJWZXJ0ZXgoW21Qb3NpdGlvbkEsbVBvc2l0aW9uQl0pLHRoaXMuX3NoYWRlci5iaW5kKCksdGhpcy5fc2hhZGVyLnVuaWZvcm0oXCJjb2xvclwiLFwidmVjM1wiLGNvbG9yKSx0aGlzLl9zaGFkZXIudW5pZm9ybShcIm9wYWNpdHlcIixcImZsb2F0XCIsb3BhY2l0eSksX2dldChCYXRjaEF4aXMucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoQXhpcy5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyl9fV0pLEJhdGNoQXhpc30oX0JhdGNoMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2hBeGlzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9HZW9tPV9fd2VicGFja19yZXF1aXJlX18oNyksX0dlb20yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dlb20pLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksdnM9X193ZWJwYWNrX3JlcXVpcmVfXygzNCksZnM9X193ZWJwYWNrX3JlcXVpcmVfXygzNSksQmF0Y2hTa3lib3g9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaFNreWJveCgpe3ZhciBzaXplPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToyMDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCYXRjaFNreWJveCk7dmFyIG1lc2g9X0dlb20yLmRlZmF1bHQuc2t5Ym94KHNpemUpLHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KHZzLGZzKTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hTa3lib3guX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hTa3lib3gpKS5jYWxsKHRoaXMsbWVzaCxzaGFkZXIpKX1yZXR1cm4gX2luaGVyaXRzKEJhdGNoU2t5Ym94LF9CYXRjaCksX2NyZWF0ZUNsYXNzKEJhdGNoU2t5Ym94LFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHRleHR1cmUpe3RoaXMuc2hhZGVyLmJpbmQoKSx0ZXh0dXJlLmJpbmQoMCksX2dldChCYXRjaFNreWJveC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hTa3lib3gucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMpfX1dKSxCYXRjaFNreWJveH0oX0JhdGNoMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2hTa3lib3h9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dldD1mdW5jdGlvbiBnZXQob2JqZWN0LHByb3BlcnR5LHJlY2VpdmVyKXtudWxsPT09b2JqZWN0JiYob2JqZWN0PUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGRlc2M9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QscHJvcGVydHkpO2lmKHZvaWQgMD09PWRlc2Mpe3ZhciBwYXJlbnQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7cmV0dXJuIG51bGw9PT1wYXJlbnQ/dm9pZCAwOmdldChwYXJlbnQscHJvcGVydHkscmVjZWl2ZXIpfWlmKFwidmFsdWVcImluIGRlc2MpcmV0dXJuIGRlc2MudmFsdWU7dmFyIGdldHRlcj1kZXNjLmdldDtpZih2b2lkIDAhPT1nZXR0ZXIpcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKX0sX0dlb209X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxfR2VvbTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2VvbSksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMiksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0JhdGNoMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9CYXRjaDM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2gyKSx2cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDg3KSxmcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSxCYXRjaFNreT1mdW5jdGlvbihfQmF0Y2gpe2Z1bmN0aW9uIEJhdGNoU2t5KCl7dmFyIHNpemU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjUwLHNlZz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MjQ7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2hTa3kpO3ZhciBtZXNoPV9HZW9tMi5kZWZhdWx0LnNwaGVyZShzaXplLHNlZywhMCksc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQodnMsZnMpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChCYXRjaFNreS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihCYXRjaFNreSkpLmNhbGwodGhpcyxtZXNoLHNoYWRlcikpfXJldHVybiBfaW5oZXJpdHMoQmF0Y2hTa3ksX0JhdGNoKSxfY3JlYXRlQ2xhc3MoQmF0Y2hTa3ksW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odGV4dHVyZSl7dGhpcy5zaGFkZXIuYmluZCgpLHRleHR1cmUuYmluZCgwKSxfZ2V0KEJhdGNoU2t5LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihCYXRjaFNreS5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyl9fV0pLEJhdGNoU2t5fShfQmF0Y2gzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1CYXRjaFNreX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gc2t5LnZlcnRcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcblxcbnVuaWZvcm0gbWF0NCB1TW9kZWxNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdG1hdDQgbWF0VmlldyA9IHVWaWV3TWF0cml4O1xcblxcdG1hdFZpZXdbM11bMF0gPSAwLjA7XFxuXFx0bWF0Vmlld1szXVsxXSA9IDAuMDtcXG5cXHRtYXRWaWV3WzNdWzJdID0gMC4wO1xcblxcdFxcbiAgICBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogbWF0VmlldyAqIHVNb2RlbE1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk5vcm1hbCA9IGFOb3JtYWw7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9HZW9tPV9fd2VicGFja19yZXF1aXJlX18oNyksX0dlb20yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dlb20pLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksdnM9X193ZWJwYWNrX3JlcXVpcmVfXygxOCksZnM9X193ZWJwYWNrX3JlcXVpcmVfXyg0MCksQmF0Y2hGWEFBPWZ1bmN0aW9uKF9CYXRjaCl7ZnVuY3Rpb24gQmF0Y2hGWEFBKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2hGWEFBKTt2YXIgbWVzaD1fR2VvbTIuZGVmYXVsdC5iaWdUcmlhbmdsZSgpLHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KHZzLGZzKSxfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChCYXRjaEZYQUEuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hGWEFBKSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSk7cmV0dXJuIHNoYWRlci5iaW5kKCksc2hhZGVyLnVuaWZvcm0oXCJ0ZXh0dXJlXCIsXCJ1bmlmb3JtMWlcIiwwKSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKEJhdGNoRlhBQSxfQmF0Y2gpLF9jcmVhdGVDbGFzcyhCYXRjaEZYQUEsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odGV4dHVyZSl7dGhpcy5zaGFkZXIuYmluZCgpLHRleHR1cmUuYmluZCgwKSx0aGlzLnNoYWRlci51bmlmb3JtKFwidVJlc29sdXRpb25cIixcInZlYzJcIixbMS9fR0xUb29sMi5kZWZhdWx0LndpZHRoLDEvX0dMVG9vbDIuZGVmYXVsdC5oZWlnaHRdKSxfZ2V0KEJhdGNoRlhBQS5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hGWEFBLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzKX19XSksQmF0Y2hGWEFBfShfQmF0Y2gzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1CYXRjaEZYQUF9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfc2NoZWR1bGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLF9zY2hlZHVsaW5nMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY2hlZHVsaW5nKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfQ2FtZXJhUGVyc3BlY3RpdmU9X193ZWJwYWNrX3JlcXVpcmVfXygxNiksX0NhbWVyYVBlcnNwZWN0aXZlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW1lcmFQZXJzcGVjdGl2ZSksX0NhbWVyYU9ydGhvPV9fd2VicGFja19yZXF1aXJlX18oMzApLF9DYW1lcmFPcnRobzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FtZXJhT3J0aG8pLF9PcmJpdGFsQ29udHJvbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSxfT3JiaXRhbENvbnRyb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09yYml0YWxDb250cm9sKSxTY2VuZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFNjZW5lKCl7dmFyIF90aGlzPXRoaXM7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU2NlbmUpLHRoaXMuX2NoaWxkcmVuPVtdLHRoaXMuX21hdHJpeElkZW50aXR5PW1hdDQuY3JlYXRlKCksX0dMVG9vbDIuZGVmYXVsdC5lbmFibGVBbHBoYUJsZW5kaW5nKCksdGhpcy5faW5pdCgpLHRoaXMuX2luaXRUZXh0dXJlcygpLHRoaXMuX2luaXRWaWV3cygpLHRoaXMuX2VmSW5kZXg9X3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX2xvb3AoKX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMucmVzaXplKCl9KX1yZXR1cm4gX2NyZWF0ZUNsYXNzKFNjZW5lLFt7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7LTEhPT10aGlzLl9lZkluZGV4JiYodGhpcy5fZWZJbmRleD1fc2NoZWR1bGluZzIuZGVmYXVsdC5yZW1vdmVFRih0aGlzLl9lZkluZGV4KSl9fSx7a2V5Olwic3RhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBfdGhpczI9dGhpczstMT09PXRoaXMuX2VmSW5kZXgmJih0aGlzLl9lZkluZGV4PV9zY2hlZHVsaW5nMi5kZWZhdWx0LmFkZEVGKGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzMi5fbG9vcCgpfSkpfX0se2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7X0dMVG9vbDIuZGVmYXVsdC5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLHdpbmRvdy5pbm5lckhlaWdodCksdGhpcy5jYW1lcmEuc2V0QXNwZWN0UmF0aW8oX0dMVG9vbDIuZGVmYXVsdC5hc3BlY3RSYXRpbyl9fSx7a2V5OlwiYWRkQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbihtQ2hpbGQpe3RoaXMuX2NoaWxkcmVuLnB1c2gobUNoaWxkKX19LHtrZXk6XCJyZW1vdmVDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKG1DaGlsZCl7dmFyIGluZGV4PXRoaXMuX2NoaWxkcmVuLmluZGV4T2YobUNoaWxkKTtpZigtMT09aW5kZXgpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiQ2hpbGQgbm8gZXhpc3RcIik7dGhpcy5fY2hpbGRyZW4uc3BsaWNlKGluZGV4LDEpfX0se2tleTpcIl9pbml0VGV4dHVyZXNcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJfaW5pdFZpZXdzXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiX3JlbmRlckNoaWxkcmVuXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGNoaWxkPXZvaWQgMCxpPTA7aTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7aSsrKWNoaWxkPXRoaXMuX2NoaWxkcmVuW2ldLGNoaWxkLnRvUmVuZGVyKCk7X0dMVG9vbDIuZGVmYXVsdC5yb3RhdGUodGhpcy5fbWF0cml4SWRlbnRpdHkpfX0se2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNhbWVyYT1uZXcgX0NhbWVyYVBlcnNwZWN0aXZlMi5kZWZhdWx0LHRoaXMuY2FtZXJhLnNldFBlcnNwZWN0aXZlKDQ1Kk1hdGguUEkvMTgwLF9HTFRvb2wyLmRlZmF1bHQuYXNwZWN0UmF0aW8sLjEsMTAwKSx0aGlzLm9yYml0YWxDb250cm9sPW5ldyBfT3JiaXRhbENvbnRyb2wyLmRlZmF1bHQodGhpcy5jYW1lcmEsd2luZG93LDE1KSx0aGlzLm9yYml0YWxDb250cm9sLnJhZGl1cy52YWx1ZT0xMCx0aGlzLmNhbWVyYU9ydGhvPW5ldyBfQ2FtZXJhT3J0aG8yLmRlZmF1bHR9fSx7a2V5OlwiX2xvb3BcIix2YWx1ZTpmdW5jdGlvbigpe19HTFRvb2wyLmRlZmF1bHQudmlld3BvcnQoMCwwLF9HTFRvb2wyLmRlZmF1bHQud2lkdGgsX0dMVG9vbDIuZGVmYXVsdC5oZWlnaHQpLF9HTFRvb2wyLmRlZmF1bHQuc2V0TWF0cmljZXModGhpcy5jYW1lcmEpLHRoaXMudXBkYXRlKCksdGhpcy5fcmVuZGVyQ2hpbGRyZW4oKSx0aGlzLnJlbmRlcigpfX1dKSxTY2VuZX0oKTtleHBvcnRzLmRlZmF1bHQ9U2NlbmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9HTFNoYWRlcjI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX0dMU2hhZGVyKSxWaWV3PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gVmlldyhtU3RyVmVydGV4LG1TdHJGcmFnKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxWaWV3KSx0aGlzLnNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KG1TdHJWZXJ0ZXgsbVN0ckZyYWcpLHRoaXMuX2luaXQoKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKFZpZXcsW3trZXk6XCJfaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSxWaWV3fSgpO2V4cG9ydHMuZGVmYXVsdD1WaWV3fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9PYmplY3QzRDI9X193ZWJwYWNrX3JlcXVpcmVfXygzMSksX09iamVjdDNEMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3QzRDIpLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLFZpZXczRD1mdW5jdGlvbihfT2JqZWN0M0Qpe2Z1bmN0aW9uIFZpZXczRChtU3RyVmVydGV4LG1TdHJGcmFnKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxWaWV3M0QpO3ZhciBfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChWaWV3M0QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoVmlldzNEKSkuY2FsbCh0aGlzKSk7cmV0dXJuIF90aGlzLl9jaGlsZHJlbj1bXSxfdGhpcy5zaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdChtU3RyVmVydGV4LG1TdHJGcmFnKSxfdGhpcy5faW5pdCgpLF90aGlzLl9tYXRyaXhUZW1wPW1hdDQuY3JlYXRlKCksX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhWaWV3M0QsX09iamVjdDNEKSxfY3JlYXRlQ2xhc3MoVmlldzNELFt7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJhZGRDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKG1DaGlsZCl7dGhpcy5fY2hpbGRyZW4ucHVzaChtQ2hpbGQpfX0se2tleTpcInJlbW92ZUNoaWxkXCIsdmFsdWU6ZnVuY3Rpb24obUNoaWxkKXt2YXIgaW5kZXg9dGhpcy5fY2hpbGRyZW4uaW5kZXhPZihtQ2hpbGQpO2lmKC0xPT1pbmRleClyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJDaGlsZCBubyBleGlzdFwiKTt0aGlzLl9jaGlsZHJlbi5zcGxpY2UoaW5kZXgsMSl9fSx7a2V5OlwidG9SZW5kZXJcIix2YWx1ZTpmdW5jdGlvbihtYXRyaXgpe3ZvaWQgMD09PW1hdHJpeCYmKG1hdHJpeD1tYXQ0LmNyZWF0ZSgpKSxtYXQ0Lm11bCh0aGlzLl9tYXRyaXhUZW1wLG1hdHJpeCx0aGlzLm1hdHJpeCksX0dMVG9vbDIuZGVmYXVsdC5yb3RhdGUodGhpcy5fbWF0cml4VGVtcCksdGhpcy5yZW5kZXIoKTtmb3IodmFyIGk9MDtpPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpKyspe3RoaXMuX2NoaWxkcmVuW2ldLnRvUmVuZGVyKHRoaXMubWF0cml4KX19fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLFZpZXczRH0oX09iamVjdDNEMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9VmlldzNEfV0pfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYWxmcmlkL2J1aWxkL2FsZnJpZC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIGRlYnVnLmpzXG5pbXBvcnQgZGF0IGZyb20gJ2RhdC1ndWknO1xuaW1wb3J0IFN0YXRzIGZyb20gJ3N0YXRzLmpzJztcbmltcG9ydCBhbGZyaWQsIHsgR0wgfSBmcm9tICdhbGZyaWQnO1xuXG5cbi8vXHRJTklUIERBVC1HVUlcbndpbmRvdy5ndWkgPSBuZXcgZGF0LkdVSSh7IHdpZHRoOjMwMCB9KTtcbmNvbnN0IGRpdiA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignLmRnLmFjJyk7XG5kaXYuc3R5bGUuekluZGV4ID0gJzk5OSc7XG5cbi8vXHRTVEFUU1xuY29uc3Qgc3RhdHMgPSBuZXcgU3RhdHMoKTtcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3RhdHMuZG9tRWxlbWVudCk7XG5hbGZyaWQuU2NoZWR1bGVyLmFkZEVGKCgpPT5zdGF0cy51cGRhdGUoKSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2RlYnVnL2RlYnVnLmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3ZlbmRvci9kYXQuZ3VpJylcbm1vZHVsZS5leHBvcnRzLmNvbG9yID0gcmVxdWlyZSgnLi92ZW5kb3IvZGF0LmNvbG9yJylcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9kYXQtZ3VpL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiLCIvKipcbiAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcbiAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9kYXQtZ3VpXG4gKlxuICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKi9cblxuLyoqIEBuYW1lc3BhY2UgKi9cbnZhciBkYXQgPSBtb2R1bGUuZXhwb3J0cyA9IGRhdCB8fCB7fTtcblxuLyoqIEBuYW1lc3BhY2UgKi9cbmRhdC5ndWkgPSBkYXQuZ3VpIHx8IHt9O1xuXG4vKiogQG5hbWVzcGFjZSAqL1xuZGF0LnV0aWxzID0gZGF0LnV0aWxzIHx8IHt9O1xuXG4vKiogQG5hbWVzcGFjZSAqL1xuZGF0LmNvbnRyb2xsZXJzID0gZGF0LmNvbnRyb2xsZXJzIHx8IHt9O1xuXG4vKiogQG5hbWVzcGFjZSAqL1xuZGF0LmRvbSA9IGRhdC5kb20gfHwge307XG5cbi8qKiBAbmFtZXNwYWNlICovXG5kYXQuY29sb3IgPSBkYXQuY29sb3IgfHwge307XG5cbmRhdC51dGlscy5jc3MgPSAoZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwsIGRvYykge1xuICAgICAgZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuICAgICAgdmFyIGxpbmsgPSBkb2MuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgbGluay50eXBlID0gJ3RleHQvY3NzJztcbiAgICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnO1xuICAgICAgbGluay5ocmVmID0gdXJsO1xuICAgICAgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQobGluayk7XG4gICAgfSxcbiAgICBpbmplY3Q6IGZ1bmN0aW9uKGNzcywgZG9jKSB7XG4gICAgICBkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG4gICAgICB2YXIgaW5qZWN0ZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgaW5qZWN0ZWQudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgICBpbmplY3RlZC5pbm5lckhUTUwgPSBjc3M7XG4gICAgICBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChpbmplY3RlZCk7XG4gICAgfVxuICB9XG59KSgpO1xuXG5cbmRhdC51dGlscy5jb21tb24gPSAoZnVuY3Rpb24gKCkge1xuICBcbiAgdmFyIEFSUl9FQUNIID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2g7XG4gIHZhciBBUlJfU0xJQ0UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLyoqXG4gICAqIEJhbmQtYWlkIG1ldGhvZHMgZm9yIHRoaW5ncyB0aGF0IHNob3VsZCBiZSBhIGxvdCBlYXNpZXIgaW4gSmF2YVNjcmlwdC5cbiAgICogSW1wbGVtZW50YXRpb24gYW5kIHN0cnVjdHVyZSBpbnNwaXJlZCBieSB1bmRlcnNjb3JlLmpzXG4gICAqIGh0dHA6Ly9kb2N1bWVudGNsb3VkLmdpdGh1Yi5jb20vdW5kZXJzY29yZS9cbiAgICovXG5cbiAgcmV0dXJuIHsgXG4gICAgXG4gICAgQlJFQUs6IHt9LFxuICBcbiAgICBleHRlbmQ6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgXG4gICAgICB0aGlzLmVhY2goQVJSX1NMSUNFLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKVxuICAgICAgICAgIGlmICghdGhpcy5pc1VuZGVmaW5lZChvYmpba2V5XSkpIFxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgXG4gICAgICB9LCB0aGlzKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIFxuICAgIH0sXG4gICAgXG4gICAgZGVmYXVsdHM6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgXG4gICAgICB0aGlzLmVhY2goQVJSX1NMSUNFLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKVxuICAgICAgICAgIGlmICh0aGlzLmlzVW5kZWZpbmVkKHRhcmdldFtrZXldKSkgXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG9ialtrZXldO1xuICAgICAgICBcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgXG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIFxuICAgIH0sXG4gICAgXG4gICAgY29tcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdG9DYWxsID0gQVJSX1NMSUNFLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBUlJfU0xJQ0UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gdG9DYWxsLmxlbmd0aCAtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBhcmdzID0gW3RvQ2FsbFtpXS5hcHBseSh0aGlzLCBhcmdzKV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBlYWNoOiBmdW5jdGlvbihvYmosIGl0ciwgc2NvcGUpIHtcblxuICAgICAgXG4gICAgICBpZiAoQVJSX0VBQ0ggJiYgb2JqLmZvckVhY2ggPT09IEFSUl9FQUNIKSB7IFxuICAgICAgICBcbiAgICAgICAgb2JqLmZvckVhY2goaXRyLCBzY29wZSk7XG4gICAgICAgIFxuICAgICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoID09PSBvYmoubGVuZ3RoICsgMCkgeyAvLyBJcyBudW1iZXIgYnV0IG5vdCBOYU5cbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGtleSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBrZXkgPCBsOyBrZXkrKylcbiAgICAgICAgICBpZiAoa2V5IGluIG9iaiAmJiBpdHIuY2FsbChzY29wZSwgb2JqW2tleV0sIGtleSkgPT09IHRoaXMuQlJFQUspIFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIFxuICAgICAgICAgIGlmIChpdHIuY2FsbChzY29wZSwgb2JqW2tleV0sIGtleSkgPT09IHRoaXMuQlJFQUspXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgIH1cbiAgICAgICAgICAgIFxuICAgIH0sXG4gICAgXG4gICAgZGVmZXI6IGZ1bmN0aW9uKGZuYykge1xuICAgICAgc2V0VGltZW91dChmbmMsIDApO1xuICAgIH0sXG4gICAgXG4gICAgdG9BcnJheTogZnVuY3Rpb24ob2JqKSB7XG4gICAgICBpZiAob2JqLnRvQXJyYXkpIHJldHVybiBvYmoudG9BcnJheSgpO1xuICAgICAgcmV0dXJuIEFSUl9TTElDRS5jYWxsKG9iaik7XG4gICAgfSxcblxuICAgIGlzVW5kZWZpbmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogPT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIFxuICAgIGlzTnVsbDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09PSBudWxsO1xuICAgIH0sXG4gICAgXG4gICAgaXNOYU46IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAhPT0gb2JqO1xuICAgIH0sXG4gICAgXG4gICAgaXNBcnJheTogQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmouY29uc3RydWN0b3IgPT09IEFycmF5O1xuICAgIH0sXG4gICAgXG4gICAgaXNPYmplY3Q6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiA9PT0gT2JqZWN0KG9iaik7XG4gICAgfSxcbiAgICBcbiAgICBpc051bWJlcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09PSBvYmorMDtcbiAgICB9LFxuICAgIFxuICAgIGlzU3RyaW5nOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogPT09IG9iaisnJztcbiAgICB9LFxuICAgIFxuICAgIGlzQm9vbGVhbjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09PSBmYWxzZSB8fCBvYmogPT09IHRydWU7XG4gICAgfSxcbiAgICBcbiAgICBpc0Z1bmN0aW9uOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9XG4gIFxuICB9O1xuICAgIFxufSkoKTtcblxuXG5kYXQuY29udHJvbGxlcnMuQ29udHJvbGxlciA9IChmdW5jdGlvbiAoY29tbW9uKSB7XG5cbiAgLyoqXG4gICAqIEBjbGFzcyBBbiBcImFic3RyYWN0XCIgY2xhc3MgdGhhdCByZXByZXNlbnRzIGEgZ2l2ZW4gcHJvcGVydHkgb2YgYW4gb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmUgbWFuaXB1bGF0ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBiZSBtYW5pcHVsYXRlZFxuICAgKlxuICAgKiBAbWVtYmVyIGRhdC5jb250cm9sbGVyc1xuICAgKi9cbiAgdmFyIENvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG5cbiAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07XG5cbiAgICAvKipcbiAgICAgKiBUaG9zZSB3aG8gZXh0ZW5kIHRoaXMgY2xhc3Mgd2lsbCBwdXQgdGhlaXIgRE9NIGVsZW1lbnRzIGluIGhlcmUuXG4gICAgICogQHR5cGUge0RPTUVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5kb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHRvIG1hbmlwdWxhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIG1hbmlwdWxhdGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucHJvcGVydHkgPSBwcm9wZXJ0eTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gY2hhbmdlLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5fX29uQ2hhbmdlID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBmaW5pc2hpbmcgY2hhbmdlLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5fX29uRmluaXNoQ2hhbmdlID0gdW5kZWZpbmVkO1xuXG4gIH07XG5cbiAgY29tbW9uLmV4dGVuZChcblxuICAgICAgQ29udHJvbGxlci5wcm90b3R5cGUsXG5cbiAgICAgIC8qKiBAbGVuZHMgZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIucHJvdG90eXBlICovXG4gICAgICB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZnkgdGhhdCBhIGZ1bmN0aW9uIGZpcmUgZXZlcnkgdGltZSBzb21lb25lIGNoYW5nZXMgdGhlIHZhbHVlIHdpdGhcbiAgICAgICAgICogdGhpcyBDb250cm9sbGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbmMgVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgdmFsdWVcbiAgICAgICAgICogaXMgbW9kaWZpZWQgdmlhIHRoaXMgQ29udHJvbGxlci5cbiAgICAgICAgICogQHJldHVybnMge2RhdC5jb250cm9sbGVycy5Db250cm9sbGVyfSB0aGlzXG4gICAgICAgICAqL1xuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24oZm5jKSB7XG4gICAgICAgICAgdGhpcy5fX29uQ2hhbmdlID0gZm5jO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZ5IHRoYXQgYSBmdW5jdGlvbiBmaXJlIGV2ZXJ5IHRpbWUgc29tZW9uZSBcImZpbmlzaGVzXCIgY2hhbmdpbmdcbiAgICAgICAgICogdGhlIHZhbHVlIHdpaCB0aGlzIENvbnRyb2xsZXIuIFVzZWZ1bCBmb3IgdmFsdWVzIHRoYXQgY2hhbmdlXG4gICAgICAgICAqIGluY3JlbWVudGFsbHkgbGlrZSBudW1iZXJzIG9yIHN0cmluZ3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuYyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyXG4gICAgICAgICAqIHNvbWVvbmUgXCJmaW5pc2hlc1wiIGNoYW5naW5nIHRoZSB2YWx1ZSB2aWEgdGhpcyBDb250cm9sbGVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7ZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXJ9IHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIG9uRmluaXNoQ2hhbmdlOiBmdW5jdGlvbihmbmMpIHtcbiAgICAgICAgICB0aGlzLl9fb25GaW5pc2hDaGFuZ2UgPSBmbmM7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZSB0aGUgdmFsdWUgb2YgPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG5ld1ZhbHVlIFRoZSBuZXcgdmFsdWUgb2YgPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT5cbiAgICAgICAgICovXG4gICAgICAgIHNldFZhbHVlOiBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICAgIHRoaXMub2JqZWN0W3RoaXMucHJvcGVydHldID0gbmV3VmFsdWU7XG4gICAgICAgICAgaWYgKHRoaXMuX19vbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5fX29uQ2hhbmdlLmNhbGwodGhpcywgbmV3VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnVwZGF0ZURpc3BsYXkoKTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgdmFsdWUgb2YgPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGN1cnJlbnQgdmFsdWUgb2YgPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT5cbiAgICAgICAgICovXG4gICAgICAgIGdldFZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5vYmplY3RbdGhpcy5wcm9wZXJ0eV07XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZnJlc2hlcyB0aGUgdmlzdWFsIGRpc3BsYXkgb2YgYSBDb250cm9sbGVyIGluIG9yZGVyIHRvIGtlZXAgc3luY1xuICAgICAgICAgKiB3aXRoIHRoZSBvYmplY3QncyBjdXJyZW50IHZhbHVlLlxuICAgICAgICAgKiBAcmV0dXJucyB7ZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXJ9IHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIHVwZGF0ZURpc3BsYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgdmFsdWUgaGFzIGRldmlhdGVkIGZyb20gaW5pdGlhbFZhbHVlXG4gICAgICAgICAqL1xuICAgICAgICBpc01vZGlmaWVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsVmFsdWUgIT09IHRoaXMuZ2V0VmFsdWUoKVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICApO1xuXG4gIHJldHVybiBDb250cm9sbGVyO1xuXG5cbn0pKGRhdC51dGlscy5jb21tb24pO1xuXG5cbmRhdC5kb20uZG9tID0gKGZ1bmN0aW9uIChjb21tb24pIHtcblxuICB2YXIgRVZFTlRfTUFQID0ge1xuICAgICdIVE1MRXZlbnRzJzogWydjaGFuZ2UnXSxcbiAgICAnTW91c2VFdmVudHMnOiBbJ2NsaWNrJywnbW91c2Vtb3ZlJywnbW91c2Vkb3duJywnbW91c2V1cCcsICdtb3VzZW92ZXInXSxcbiAgICAnS2V5Ym9hcmRFdmVudHMnOiBbJ2tleWRvd24nXVxuICB9O1xuXG4gIHZhciBFVkVOVF9NQVBfSU5WID0ge307XG4gIGNvbW1vbi5lYWNoKEVWRU5UX01BUCwgZnVuY3Rpb24odiwgaykge1xuICAgIGNvbW1vbi5lYWNoKHYsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIEVWRU5UX01BUF9JTlZbZV0gPSBrO1xuICAgIH0pO1xuICB9KTtcblxuICB2YXIgQ1NTX1ZBTFVFX1BJWEVMUyA9IC8oXFxkKyhcXC5cXGQrKT8pcHgvO1xuXG4gIGZ1bmN0aW9uIGNzc1ZhbHVlVG9QaXhlbHModmFsKSB7XG5cbiAgICBpZiAodmFsID09PSAnMCcgfHwgY29tbW9uLmlzVW5kZWZpbmVkKHZhbCkpIHJldHVybiAwO1xuXG4gICAgdmFyIG1hdGNoID0gdmFsLm1hdGNoKENTU19WQUxVRV9QSVhFTFMpO1xuXG4gICAgaWYgKCFjb21tb24uaXNOdWxsKG1hdGNoKSkge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICAgIH1cblxuICAgIC8vIFRPRE8gLi4uZW1zPyAlP1xuXG4gICAgcmV0dXJuIDA7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZXNwYWNlXG4gICAqIEBtZW1iZXIgZGF0LmRvbVxuICAgKi9cbiAgdmFyIGRvbSA9IHtcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBlbGVtXG4gICAgICogQHBhcmFtIHNlbGVjdGFibGVcbiAgICAgKi9cbiAgICBtYWtlU2VsZWN0YWJsZTogZnVuY3Rpb24oZWxlbSwgc2VsZWN0YWJsZSkge1xuXG4gICAgICBpZiAoZWxlbSA9PT0gdW5kZWZpbmVkIHx8IGVsZW0uc3R5bGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICBlbGVtLm9uc2VsZWN0c3RhcnQgPSBzZWxlY3RhYmxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gOiBmdW5jdGlvbigpIHtcbiAgICAgIH07XG5cbiAgICAgIGVsZW0uc3R5bGUuTW96VXNlclNlbGVjdCA9IHNlbGVjdGFibGUgPyAnYXV0bycgOiAnbm9uZSc7XG4gICAgICBlbGVtLnN0eWxlLktodG1sVXNlclNlbGVjdCA9IHNlbGVjdGFibGUgPyAnYXV0bycgOiAnbm9uZSc7XG4gICAgICBlbGVtLnVuc2VsZWN0YWJsZSA9IHNlbGVjdGFibGUgPyAnb24nIDogJ29mZic7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbVxuICAgICAqIEBwYXJhbSBob3Jpem9udGFsXG4gICAgICogQHBhcmFtIHZlcnRpY2FsXG4gICAgICovXG4gICAgbWFrZUZ1bGxzY3JlZW46IGZ1bmN0aW9uKGVsZW0sIGhvcml6b250YWwsIHZlcnRpY2FsKSB7XG5cbiAgICAgIGlmIChjb21tb24uaXNVbmRlZmluZWQoaG9yaXpvbnRhbCkpIGhvcml6b250YWwgPSB0cnVlO1xuICAgICAgaWYgKGNvbW1vbi5pc1VuZGVmaW5lZCh2ZXJ0aWNhbCkpIHZlcnRpY2FsID0gdHJ1ZTtcblxuICAgICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cbiAgICAgIGlmIChob3Jpem9udGFsKSB7XG4gICAgICAgIGVsZW0uc3R5bGUubGVmdCA9IDA7XG4gICAgICAgIGVsZW0uc3R5bGUucmlnaHQgPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgIGVsZW0uc3R5bGUudG9wID0gMDtcbiAgICAgICAgZWxlbS5zdHlsZS5ib3R0b20gPSAwO1xuICAgICAgfVxuXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1cbiAgICAgKiBAcGFyYW0gZXZlbnRUeXBlXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIGZha2VFdmVudDogZnVuY3Rpb24oZWxlbSwgZXZlbnRUeXBlLCBwYXJhbXMsIGF1eCkge1xuICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IEVWRU5UX01BUF9JTlZbZXZlbnRUeXBlXTtcbiAgICAgIGlmICghY2xhc3NOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgdHlwZSAnICsgZXZlbnRUeXBlICsgJyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgfVxuICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KGNsYXNzTmFtZSk7XG4gICAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgICBjYXNlICdNb3VzZUV2ZW50cyc6XG4gICAgICAgICAgdmFyIGNsaWVudFggPSBwYXJhbXMueCB8fCBwYXJhbXMuY2xpZW50WCB8fCAwO1xuICAgICAgICAgIHZhciBjbGllbnRZID0gcGFyYW1zLnkgfHwgcGFyYW1zLmNsaWVudFkgfHwgMDtcbiAgICAgICAgICBldnQuaW5pdE1vdXNlRXZlbnQoZXZlbnRUeXBlLCBwYXJhbXMuYnViYmxlcyB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgcGFyYW1zLmNhbmNlbGFibGUgfHwgdHJ1ZSwgd2luZG93LCBwYXJhbXMuY2xpY2tDb3VudCB8fCAxLFxuICAgICAgICAgICAgICAwLCAvL3NjcmVlbiBYXG4gICAgICAgICAgICAgIDAsIC8vc2NyZWVuIFlcbiAgICAgICAgICAgICAgY2xpZW50WCwgLy9jbGllbnQgWFxuICAgICAgICAgICAgICBjbGllbnRZLCAvL2NsaWVudCBZXG4gICAgICAgICAgICAgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnS2V5Ym9hcmRFdmVudHMnOlxuICAgICAgICAgIHZhciBpbml0ID0gZXZ0LmluaXRLZXlib2FyZEV2ZW50IHx8IGV2dC5pbml0S2V5RXZlbnQ7IC8vIHdlYmtpdCB8fCBtb3pcbiAgICAgICAgICBjb21tb24uZGVmYXVsdHMocGFyYW1zLCB7XG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY3RybEtleTogZmFsc2UsXG4gICAgICAgICAgICBhbHRLZXk6IGZhbHNlLFxuICAgICAgICAgICAgc2hpZnRLZXk6IGZhbHNlLFxuICAgICAgICAgICAgbWV0YUtleTogZmFsc2UsXG4gICAgICAgICAgICBrZXlDb2RlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGFyQ29kZTogdW5kZWZpbmVkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5pdChldmVudFR5cGUsIHBhcmFtcy5idWJibGVzIHx8IGZhbHNlLFxuICAgICAgICAgICAgICBwYXJhbXMuY2FuY2VsYWJsZSwgd2luZG93LFxuICAgICAgICAgICAgICBwYXJhbXMuY3RybEtleSwgcGFyYW1zLmFsdEtleSxcbiAgICAgICAgICAgICAgcGFyYW1zLnNoaWZ0S2V5LCBwYXJhbXMubWV0YUtleSxcbiAgICAgICAgICAgICAgcGFyYW1zLmtleUNvZGUsIHBhcmFtcy5jaGFyQ29kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZXZ0LmluaXRFdmVudChldmVudFR5cGUsIHBhcmFtcy5idWJibGVzIHx8IGZhbHNlLFxuICAgICAgICAgICAgICBwYXJhbXMuY2FuY2VsYWJsZSB8fCB0cnVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbW1vbi5kZWZhdWx0cyhldnQsIGF1eCk7XG4gICAgICBlbGVtLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbVxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqIEBwYXJhbSBmdW5jXG4gICAgICogQHBhcmFtIGJvb2xcbiAgICAgKi9cbiAgICBiaW5kOiBmdW5jdGlvbihlbGVtLCBldmVudCwgZnVuYywgYm9vbCkge1xuICAgICAgYm9vbCA9IGJvb2wgfHwgZmFsc2U7XG4gICAgICBpZiAoZWxlbS5hZGRFdmVudExpc3RlbmVyKVxuICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmMsIGJvb2wpO1xuICAgICAgZWxzZSBpZiAoZWxlbS5hdHRhY2hFdmVudClcbiAgICAgICAgZWxlbS5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGZ1bmMpO1xuICAgICAgcmV0dXJuIGRvbTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbVxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqIEBwYXJhbSBmdW5jXG4gICAgICogQHBhcmFtIGJvb2xcbiAgICAgKi9cbiAgICB1bmJpbmQ6IGZ1bmN0aW9uKGVsZW0sIGV2ZW50LCBmdW5jLCBib29sKSB7XG4gICAgICBib29sID0gYm9vbCB8fCBmYWxzZTtcbiAgICAgIGlmIChlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIpXG4gICAgICAgIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZnVuYywgYm9vbCk7XG4gICAgICBlbHNlIGlmIChlbGVtLmRldGFjaEV2ZW50KVxuICAgICAgICBlbGVtLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgZnVuYyk7XG4gICAgICByZXR1cm4gZG9tO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGVtXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZVxuICAgICAqL1xuICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtLCBjbGFzc05hbWUpIHtcbiAgICAgIGlmIChlbGVtLmNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVsZW0uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgfSBlbHNlIGlmIChlbGVtLmNsYXNzTmFtZSAhPT0gY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciBjbGFzc2VzID0gZWxlbS5jbGFzc05hbWUuc3BsaXQoLyArLyk7XG4gICAgICAgIGlmIChjbGFzc2VzLmluZGV4T2YoY2xhc3NOYW1lKSA9PSAtMSkge1xuICAgICAgICAgIGNsYXNzZXMucHVzaChjbGFzc05hbWUpO1xuICAgICAgICAgIGVsZW0uY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJykucmVwbGFjZSgvXlxccysvLCAnJykucmVwbGFjZSgvXFxzKyQvLCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkb207XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1cbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lXG4gICAgICovXG4gICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW0sIGNsYXNzTmFtZSkge1xuICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoZWxlbS5jbGFzc05hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIGVsZW0uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW0uY2xhc3NOYW1lID09PSBjbGFzc05hbWUpIHtcbiAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY2xhc3NlcyA9IGVsZW0uY2xhc3NOYW1lLnNwbGl0KC8gKy8pO1xuICAgICAgICAgIHZhciBpbmRleCA9IGNsYXNzZXMuaW5kZXhPZihjbGFzc05hbWUpO1xuICAgICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgY2xhc3Nlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0uY2xhc3NOYW1lID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvbTtcbiAgICB9LFxuXG4gICAgaGFzQ2xhc3M6IGZ1bmN0aW9uKGVsZW0sIGNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyg/Ol58XFxcXHMrKScgKyBjbGFzc05hbWUgKyAnKD86XFxcXHMrfCQpJykudGVzdChlbGVtLmNsYXNzTmFtZSkgfHwgZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1cbiAgICAgKi9cbiAgICBnZXRXaWR0aDogZnVuY3Rpb24oZWxlbSkge1xuXG4gICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xuXG4gICAgICByZXR1cm4gY3NzVmFsdWVUb1BpeGVscyhzdHlsZVsnYm9yZGVyLWxlZnQtd2lkdGgnXSkgK1xuICAgICAgICAgIGNzc1ZhbHVlVG9QaXhlbHMoc3R5bGVbJ2JvcmRlci1yaWdodC13aWR0aCddKSArXG4gICAgICAgICAgY3NzVmFsdWVUb1BpeGVscyhzdHlsZVsncGFkZGluZy1sZWZ0J10pICtcbiAgICAgICAgICBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlWydwYWRkaW5nLXJpZ2h0J10pICtcbiAgICAgICAgICBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlWyd3aWR0aCddKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbVxuICAgICAqL1xuICAgIGdldEhlaWdodDogZnVuY3Rpb24oZWxlbSkge1xuXG4gICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xuXG4gICAgICByZXR1cm4gY3NzVmFsdWVUb1BpeGVscyhzdHlsZVsnYm9yZGVyLXRvcC13aWR0aCddKSArXG4gICAgICAgICAgY3NzVmFsdWVUb1BpeGVscyhzdHlsZVsnYm9yZGVyLWJvdHRvbS13aWR0aCddKSArXG4gICAgICAgICAgY3NzVmFsdWVUb1BpeGVscyhzdHlsZVsncGFkZGluZy10b3AnXSkgK1xuICAgICAgICAgIGNzc1ZhbHVlVG9QaXhlbHMoc3R5bGVbJ3BhZGRpbmctYm90dG9tJ10pICtcbiAgICAgICAgICBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlWydoZWlnaHQnXSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1cbiAgICAgKi9cbiAgICBnZXRPZmZzZXQ6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgIHZhciBvZmZzZXQgPSB7bGVmdDogMCwgdG9wOjB9O1xuICAgICAgaWYgKGVsZW0ub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBvZmZzZXQubGVmdCArPSBlbGVtLm9mZnNldExlZnQ7XG4gICAgICAgICAgb2Zmc2V0LnRvcCArPSBlbGVtLm9mZnNldFRvcDtcbiAgICAgICAgfSB3aGlsZSAoZWxlbSA9IGVsZW0ub2Zmc2V0UGFyZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfSxcblxuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9wb3N0cy8yNjg0NTYxL3JldmlzaW9uc1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBlbGVtXG4gICAgICovXG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgIHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICggZWxlbS50eXBlIHx8IGVsZW0uaHJlZiApO1xuICAgIH1cblxuICB9O1xuXG4gIHJldHVybiBkb207XG5cbn0pKGRhdC51dGlscy5jb21tb24pO1xuXG5cbmRhdC5jb250cm9sbGVycy5PcHRpb25Db250cm9sbGVyID0gKGZ1bmN0aW9uIChDb250cm9sbGVyLCBkb20sIGNvbW1vbikge1xuXG4gIC8qKlxuICAgKiBAY2xhc3MgUHJvdmlkZXMgYSBzZWxlY3QgaW5wdXQgdG8gYWx0ZXIgdGhlIHByb3BlcnR5IG9mIGFuIG9iamVjdCwgdXNpbmcgYVxuICAgKiBsaXN0IG9mIGFjY2VwdGVkIHZhbHVlcy5cbiAgICpcbiAgICogQGV4dGVuZHMgZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXJcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGJlIG1hbmlwdWxhdGVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gYmUgbWFuaXB1bGF0ZWRcbiAgICogQHBhcmFtIHtPYmplY3R8c3RyaW5nW119IG9wdGlvbnMgQSBtYXAgb2YgbGFiZWxzIHRvIGFjY2VwdGFibGUgdmFsdWVzLCBvclxuICAgKiBhIGxpc3Qgb2YgYWNjZXB0YWJsZSBzdHJpbmcgdmFsdWVzLlxuICAgKlxuICAgKiBAbWVtYmVyIGRhdC5jb250cm9sbGVyc1xuICAgKi9cbiAgdmFyIE9wdGlvbkNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBvcHRpb25zKSB7XG5cbiAgICBPcHRpb25Db250cm9sbGVyLnN1cGVyY2xhc3MuY2FsbCh0aGlzLCBvYmplY3QsIHByb3BlcnR5KTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZHJvcCBkb3duIG1lbnVcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5fX3NlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuXG4gICAgaWYgKGNvbW1vbi5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICB2YXIgbWFwID0ge307XG4gICAgICBjb21tb24uZWFjaChvcHRpb25zLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIG1hcFtlbGVtZW50XSA9IGVsZW1lbnQ7XG4gICAgICB9KTtcbiAgICAgIG9wdGlvbnMgPSBtYXA7XG4gICAgfVxuXG4gICAgY29tbW9uLmVhY2gob3B0aW9ucywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXG4gICAgICB2YXIgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBvcHQuaW5uZXJIVE1MID0ga2V5O1xuICAgICAgb3B0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB2YWx1ZSk7XG4gICAgICBfdGhpcy5fX3NlbGVjdC5hcHBlbmRDaGlsZChvcHQpO1xuXG4gICAgfSk7XG5cbiAgICAvLyBBY2tub3dsZWRnZSBvcmlnaW5hbCB2YWx1ZVxuICAgIHRoaXMudXBkYXRlRGlzcGxheSgpO1xuXG4gICAgZG9tLmJpbmQodGhpcy5fX3NlbGVjdCwgJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRlc2lyZWRWYWx1ZSA9IHRoaXMub3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xuICAgICAgX3RoaXMuc2V0VmFsdWUoZGVzaXJlZFZhbHVlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fc2VsZWN0KTtcblxuICB9O1xuXG4gIE9wdGlvbkNvbnRyb2xsZXIuc3VwZXJjbGFzcyA9IENvbnRyb2xsZXI7XG5cbiAgY29tbW9uLmV4dGVuZChcblxuICAgICAgT3B0aW9uQ29udHJvbGxlci5wcm90b3R5cGUsXG4gICAgICBDb250cm9sbGVyLnByb3RvdHlwZSxcblxuICAgICAge1xuXG4gICAgICAgIHNldFZhbHVlOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgdmFyIHRvUmV0dXJuID0gT3B0aW9uQ29udHJvbGxlci5zdXBlcmNsYXNzLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsIHYpO1xuICAgICAgICAgIGlmICh0aGlzLl9fb25GaW5pc2hDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHRoaXMsIHRoaXMuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0b1JldHVybjtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVEaXNwbGF5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aGlzLl9fc2VsZWN0LnZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBPcHRpb25Db250cm9sbGVyLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgKTtcblxuICByZXR1cm4gT3B0aW9uQ29udHJvbGxlcjtcblxufSkoZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsXG5kYXQuZG9tLmRvbSxcbmRhdC51dGlscy5jb21tb24pO1xuXG5cbmRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyID0gKGZ1bmN0aW9uIChDb250cm9sbGVyLCBjb21tb24pIHtcblxuICAvKipcbiAgICogQGNsYXNzIFJlcHJlc2VudHMgYSBnaXZlbiBwcm9wZXJ0eSBvZiBhbiBvYmplY3QgdGhhdCBpcyBhIG51bWJlci5cbiAgICpcbiAgICogQGV4dGVuZHMgZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXJcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGJlIG1hbmlwdWxhdGVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gYmUgbWFuaXB1bGF0ZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbXNdIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbXMubWluXSBNaW5pbXVtIGFsbG93ZWQgdmFsdWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbXMubWF4XSBNYXhpbXVtIGFsbG93ZWQgdmFsdWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbXMuc3RlcF0gSW5jcmVtZW50IGJ5IHdoaWNoIHRvIGNoYW5nZSB2YWx1ZVxuICAgKlxuICAgKiBAbWVtYmVyIGRhdC5jb250cm9sbGVyc1xuICAgKi9cbiAgdmFyIE51bWJlckNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBwYXJhbXMpIHtcblxuICAgIE51bWJlckNvbnRyb2xsZXIuc3VwZXJjbGFzcy5jYWxsKHRoaXMsIG9iamVjdCwgcHJvcGVydHkpO1xuXG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuXG4gICAgdGhpcy5fX21pbiA9IHBhcmFtcy5taW47XG4gICAgdGhpcy5fX21heCA9IHBhcmFtcy5tYXg7XG4gICAgdGhpcy5fX3N0ZXAgPSBwYXJhbXMuc3RlcDtcblxuICAgIGlmIChjb21tb24uaXNVbmRlZmluZWQodGhpcy5fX3N0ZXApKSB7XG5cbiAgICAgIGlmICh0aGlzLmluaXRpYWxWYWx1ZSA9PSAwKSB7XG4gICAgICAgIHRoaXMuX19pbXBsaWVkU3RlcCA9IDE7IC8vIFdoYXQgYXJlIHdlLCBwc3ljaGljcz9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhleSBEb3VnLCBjaGVjayB0aGlzIG91dC5cbiAgICAgICAgdGhpcy5fX2ltcGxpZWRTdGVwID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IoTWF0aC5sb2codGhpcy5pbml0aWFsVmFsdWUpL01hdGguTE4xMCkpLzEwO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgdGhpcy5fX2ltcGxpZWRTdGVwID0gdGhpcy5fX3N0ZXA7XG5cbiAgICB9XG5cbiAgICB0aGlzLl9fcHJlY2lzaW9uID0gbnVtRGVjaW1hbHModGhpcy5fX2ltcGxpZWRTdGVwKTtcblxuXG4gIH07XG5cbiAgTnVtYmVyQ29udHJvbGxlci5zdXBlcmNsYXNzID0gQ29udHJvbGxlcjtcblxuICBjb21tb24uZXh0ZW5kKFxuXG4gICAgICBOdW1iZXJDb250cm9sbGVyLnByb3RvdHlwZSxcbiAgICAgIENvbnRyb2xsZXIucHJvdG90eXBlLFxuXG4gICAgICAvKiogQGxlbmRzIGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyLnByb3RvdHlwZSAqL1xuICAgICAge1xuXG4gICAgICAgIHNldFZhbHVlOiBmdW5jdGlvbih2KSB7XG5cbiAgICAgICAgICBpZiAodGhpcy5fX21pbiAhPT0gdW5kZWZpbmVkICYmIHYgPCB0aGlzLl9fbWluKSB7XG4gICAgICAgICAgICB2ID0gdGhpcy5fX21pbjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX19tYXggIT09IHVuZGVmaW5lZCAmJiB2ID4gdGhpcy5fX21heCkge1xuICAgICAgICAgICAgdiA9IHRoaXMuX19tYXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMuX19zdGVwICE9PSB1bmRlZmluZWQgJiYgdiAlIHRoaXMuX19zdGVwICE9IDApIHtcbiAgICAgICAgICAgIHYgPSBNYXRoLnJvdW5kKHYgLyB0aGlzLl9fc3RlcCkgKiB0aGlzLl9fc3RlcDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gTnVtYmVyQ29udHJvbGxlci5zdXBlcmNsYXNzLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsIHYpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZnkgYSBtaW5pbXVtIHZhbHVlIGZvciA8Y29kZT5vYmplY3RbcHJvcGVydHldPC9jb2RlPi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG1pblZhbHVlIFRoZSBtaW5pbXVtIHZhbHVlIGZvclxuICAgICAgICAgKiA8Y29kZT5vYmplY3RbcHJvcGVydHldPC9jb2RlPlxuICAgICAgICAgKiBAcmV0dXJucyB7ZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJ9IHRoaXNcbiAgICAgICAgICovXG4gICAgICAgIG1pbjogZnVuY3Rpb24odikge1xuICAgICAgICAgIHRoaXMuX19taW4gPSB2O1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZ5IGEgbWF4aW11bSB2YWx1ZSBmb3IgPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhWYWx1ZSBUaGUgbWF4aW11bSB2YWx1ZSBmb3JcbiAgICAgICAgICogPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT5cbiAgICAgICAgICogQHJldHVybnMge2RhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyfSB0aGlzXG4gICAgICAgICAqL1xuICAgICAgICBtYXg6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICB0aGlzLl9fbWF4ID0gdjtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmeSBhIHN0ZXAgdmFsdWUgdGhhdCBkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclxuICAgICAgICAgKiBpbmNyZW1lbnRzIGJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RlcFZhbHVlIFRoZSBzdGVwIHZhbHVlIGZvclxuICAgICAgICAgKiBkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclxuICAgICAgICAgKiBAZGVmYXVsdCBpZiBtaW5pbXVtIGFuZCBtYXhpbXVtIHNwZWNpZmllZCBpbmNyZW1lbnQgaXMgMSUgb2YgdGhlXG4gICAgICAgICAqIGRpZmZlcmVuY2Ugb3RoZXJ3aXNlIHN0ZXBWYWx1ZSBpcyAxXG4gICAgICAgICAqIEByZXR1cm5zIHtkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlcn0gdGhpc1xuICAgICAgICAgKi9cbiAgICAgICAgc3RlcDogZnVuY3Rpb24odikge1xuICAgICAgICAgIHRoaXMuX19zdGVwID0gdjtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgKTtcblxuICBmdW5jdGlvbiBudW1EZWNpbWFscyh4KSB7XG4gICAgeCA9IHgudG9TdHJpbmcoKTtcbiAgICBpZiAoeC5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgcmV0dXJuIHgubGVuZ3RoIC0geC5pbmRleE9mKCcuJykgLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gTnVtYmVyQ29udHJvbGxlcjtcblxufSkoZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsXG5kYXQudXRpbHMuY29tbW9uKTtcblxuXG5kYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlckJveCA9IChmdW5jdGlvbiAoTnVtYmVyQ29udHJvbGxlciwgZG9tLCBjb21tb24pIHtcblxuICAvKipcbiAgICogQGNsYXNzIFJlcHJlc2VudHMgYSBnaXZlbiBwcm9wZXJ0eSBvZiBhbiBvYmplY3QgdGhhdCBpcyBhIG51bWJlciBhbmRcbiAgICogcHJvdmlkZXMgYW4gaW5wdXQgZWxlbWVudCB3aXRoIHdoaWNoIHRvIG1hbmlwdWxhdGUgaXQuXG4gICAqXG4gICAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyXG4gICAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiZSBtYW5pcHVsYXRlZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGJlIG1hbmlwdWxhdGVkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1zLm1pbl0gTWluaW11bSBhbGxvd2VkIHZhbHVlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1zLm1heF0gTWF4aW11bSBhbGxvd2VkIHZhbHVlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1zLnN0ZXBdIEluY3JlbWVudCBieSB3aGljaCB0byBjaGFuZ2UgdmFsdWVcbiAgICpcbiAgICogQG1lbWJlciBkYXQuY29udHJvbGxlcnNcbiAgICovXG4gIHZhciBOdW1iZXJDb250cm9sbGVyQm94ID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgcGFyYW1zKSB7XG5cbiAgICB0aGlzLl9fdHJ1bmNhdGlvblN1c3BlbmRlZCA9IGZhbHNlO1xuXG4gICAgTnVtYmVyQ29udHJvbGxlckJveC5zdXBlcmNsYXNzLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSwgcGFyYW1zKTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiB7TnVtYmVyfSBQcmV2aW91cyBtb3VzZSB5IHBvc2l0aW9uXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHZhciBwcmV2X3k7XG5cbiAgICB0aGlzLl9faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRoaXMuX19pbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuXG4gICAgLy8gTWFrZXMgaXQgc28gbWFudWFsbHkgc3BlY2lmaWVkIHZhbHVlcyBhcmUgbm90IHRydW5jYXRlZC5cblxuICAgIGRvbS5iaW5kKHRoaXMuX19pbnB1dCwgJ2NoYW5nZScsIG9uQ2hhbmdlKTtcbiAgICBkb20uYmluZCh0aGlzLl9faW5wdXQsICdibHVyJywgb25CbHVyKTtcbiAgICBkb20uYmluZCh0aGlzLl9faW5wdXQsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG4gICAgZG9tLmJpbmQodGhpcy5fX2lucHV0LCAna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgLy8gV2hlbiBwcmVzc2luZyBlbnRpcmUsIHlvdSBjYW4gYmUgYXMgcHJlY2lzZSBhcyB5b3Ugd2FudC5cbiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIF90aGlzLl9fdHJ1bmNhdGlvblN1c3BlbmRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYmx1cigpO1xuICAgICAgICBfdGhpcy5fX3RydW5jYXRpb25TdXNwZW5kZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICB2YXIgYXR0ZW1wdGVkID0gcGFyc2VGbG9hdChfdGhpcy5fX2lucHV0LnZhbHVlKTtcbiAgICAgIGlmICghY29tbW9uLmlzTmFOKGF0dGVtcHRlZCkpIF90aGlzLnNldFZhbHVlKGF0dGVtcHRlZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgb25DaGFuZ2UoKTtcbiAgICAgIGlmIChfdGhpcy5fX29uRmluaXNoQ2hhbmdlKSB7XG4gICAgICAgIF90aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChfdGhpcywgX3RoaXMuZ2V0VmFsdWUoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuICAgICAgZG9tLmJpbmQod2luZG93LCAnbW91c2Vtb3ZlJywgb25Nb3VzZURyYWcpO1xuICAgICAgZG9tLmJpbmQod2luZG93LCAnbW91c2V1cCcsIG9uTW91c2VVcCk7XG4gICAgICBwcmV2X3kgPSBlLmNsaWVudFk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZURyYWcoZSkge1xuXG4gICAgICB2YXIgZGlmZiA9IHByZXZfeSAtIGUuY2xpZW50WTtcbiAgICAgIF90aGlzLnNldFZhbHVlKF90aGlzLmdldFZhbHVlKCkgKyBkaWZmICogX3RoaXMuX19pbXBsaWVkU3RlcCk7XG5cbiAgICAgIHByZXZfeSA9IGUuY2xpZW50WTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTW91c2VVcCgpIHtcbiAgICAgIGRvbS51bmJpbmQod2luZG93LCAnbW91c2Vtb3ZlJywgb25Nb3VzZURyYWcpO1xuICAgICAgZG9tLnVuYmluZCh3aW5kb3csICdtb3VzZXVwJywgb25Nb3VzZVVwKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZURpc3BsYXkoKTtcblxuICAgIHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9faW5wdXQpO1xuXG4gIH07XG5cbiAgTnVtYmVyQ29udHJvbGxlckJveC5zdXBlcmNsYXNzID0gTnVtYmVyQ29udHJvbGxlcjtcblxuICBjb21tb24uZXh0ZW5kKFxuXG4gICAgICBOdW1iZXJDb250cm9sbGVyQm94LnByb3RvdHlwZSxcbiAgICAgIE51bWJlckNvbnRyb2xsZXIucHJvdG90eXBlLFxuXG4gICAgICB7XG5cbiAgICAgICAgdXBkYXRlRGlzcGxheTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICB0aGlzLl9faW5wdXQudmFsdWUgPSB0aGlzLl9fdHJ1bmNhdGlvblN1c3BlbmRlZCA/IHRoaXMuZ2V0VmFsdWUoKSA6IHJvdW5kVG9EZWNpbWFsKHRoaXMuZ2V0VmFsdWUoKSwgdGhpcy5fX3ByZWNpc2lvbik7XG4gICAgICAgICAgcmV0dXJuIE51bWJlckNvbnRyb2xsZXJCb3guc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgIH1cblxuICApO1xuXG4gIGZ1bmN0aW9uIHJvdW5kVG9EZWNpbWFsKHZhbHVlLCBkZWNpbWFscykge1xuICAgIHZhciB0ZW5UbyA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiB0ZW5UbykgLyB0ZW5UbztcbiAgfVxuXG4gIHJldHVybiBOdW1iZXJDb250cm9sbGVyQm94O1xuXG59KShkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlcixcbmRhdC5kb20uZG9tLFxuZGF0LnV0aWxzLmNvbW1vbik7XG5cblxuZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJTbGlkZXIgPSAoZnVuY3Rpb24gKE51bWJlckNvbnRyb2xsZXIsIGRvbSwgY3NzLCBjb21tb24sIHN0eWxlU2hlZXQpIHtcblxuICAvKipcbiAgICogQGNsYXNzIFJlcHJlc2VudHMgYSBnaXZlbiBwcm9wZXJ0eSBvZiBhbiBvYmplY3QgdGhhdCBpcyBhIG51bWJlciwgY29udGFpbnNcbiAgICogYSBtaW5pbXVtIGFuZCBtYXhpbXVtLCBhbmQgcHJvdmlkZXMgYSBzbGlkZXIgZWxlbWVudCB3aXRoIHdoaWNoIHRvXG4gICAqIG1hbmlwdWxhdGUgaXQuIEl0IHNob3VsZCBiZSBub3RlZCB0aGF0IHRoZSBzbGlkZXIgZWxlbWVudCBpcyBtYWRlIHVwIG9mXG4gICAqIDxjb2RlPiZsdDtkaXYmZ3Q7PC9jb2RlPiB0YWdzLCA8c3Ryb25nPm5vdDwvc3Ryb25nPiB0aGUgaHRtbDVcbiAgICogPGNvZGU+Jmx0O3NsaWRlciZndDs8L2NvZGU+IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyXG4gICAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyXG4gICAqIFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmUgbWFuaXB1bGF0ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBiZSBtYW5pcHVsYXRlZFxuICAgKiBAcGFyYW0ge051bWJlcn0gbWluVmFsdWUgTWluaW11bSBhbGxvd2VkIHZhbHVlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhWYWx1ZSBNYXhpbXVtIGFsbG93ZWQgdmFsdWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHN0ZXBWYWx1ZSBJbmNyZW1lbnQgYnkgd2hpY2ggdG8gY2hhbmdlIHZhbHVlXG4gICAqXG4gICAqIEBtZW1iZXIgZGF0LmNvbnRyb2xsZXJzXG4gICAqL1xuICB2YXIgTnVtYmVyQ29udHJvbGxlclNsaWRlciA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHksIG1pbiwgbWF4LCBzdGVwKSB7XG5cbiAgICBOdW1iZXJDb250cm9sbGVyU2xpZGVyLnN1cGVyY2xhc3MuY2FsbCh0aGlzLCBvYmplY3QsIHByb3BlcnR5LCB7IG1pbjogbWluLCBtYXg6IG1heCwgc3RlcDogc3RlcCB9KTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLl9fYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX19mb3JlZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG5cblxuICAgIGRvbS5iaW5kKHRoaXMuX19iYWNrZ3JvdW5kLCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24pO1xuICAgIFxuICAgIGRvbS5hZGRDbGFzcyh0aGlzLl9fYmFja2dyb3VuZCwgJ3NsaWRlcicpO1xuICAgIGRvbS5hZGRDbGFzcyh0aGlzLl9fZm9yZWdyb3VuZCwgJ3NsaWRlci1mZycpO1xuXG4gICAgZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuXG4gICAgICBkb20uYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBvbk1vdXNlRHJhZyk7XG4gICAgICBkb20uYmluZCh3aW5kb3csICdtb3VzZXVwJywgb25Nb3VzZVVwKTtcblxuICAgICAgb25Nb3VzZURyYWcoZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZURyYWcoZSkge1xuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBkb20uZ2V0T2Zmc2V0KF90aGlzLl9fYmFja2dyb3VuZCk7XG4gICAgICB2YXIgd2lkdGggPSBkb20uZ2V0V2lkdGgoX3RoaXMuX19iYWNrZ3JvdW5kKTtcbiAgICAgIFxuICAgICAgX3RoaXMuc2V0VmFsdWUoXG4gICAgICAgIG1hcChlLmNsaWVudFgsIG9mZnNldC5sZWZ0LCBvZmZzZXQubGVmdCArIHdpZHRoLCBfdGhpcy5fX21pbiwgX3RoaXMuX19tYXgpXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIG9uTW91c2VEcmFnKTtcbiAgICAgIGRvbS51bmJpbmQod2luZG93LCAnbW91c2V1cCcsIG9uTW91c2VVcCk7XG4gICAgICBpZiAoX3RoaXMuX19vbkZpbmlzaENoYW5nZSkge1xuICAgICAgICBfdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwoX3RoaXMsIF90aGlzLmdldFZhbHVlKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudXBkYXRlRGlzcGxheSgpO1xuXG4gICAgdGhpcy5fX2JhY2tncm91bmQuYXBwZW5kQ2hpbGQodGhpcy5fX2ZvcmVncm91bmQpO1xuICAgIHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fYmFja2dyb3VuZCk7XG5cbiAgfTtcblxuICBOdW1iZXJDb250cm9sbGVyU2xpZGVyLnN1cGVyY2xhc3MgPSBOdW1iZXJDb250cm9sbGVyO1xuXG4gIC8qKlxuICAgKiBJbmplY3RzIGRlZmF1bHQgc3R5bGVzaGVldCBmb3Igc2xpZGVyIGVsZW1lbnRzLlxuICAgKi9cbiAgTnVtYmVyQ29udHJvbGxlclNsaWRlci51c2VEZWZhdWx0U3R5bGVzID0gZnVuY3Rpb24oKSB7XG4gICAgY3NzLmluamVjdChzdHlsZVNoZWV0KTtcbiAgfTtcblxuICBjb21tb24uZXh0ZW5kKFxuXG4gICAgICBOdW1iZXJDb250cm9sbGVyU2xpZGVyLnByb3RvdHlwZSxcbiAgICAgIE51bWJlckNvbnRyb2xsZXIucHJvdG90eXBlLFxuXG4gICAgICB7XG5cbiAgICAgICAgdXBkYXRlRGlzcGxheTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHBjdCA9ICh0aGlzLmdldFZhbHVlKCkgLSB0aGlzLl9fbWluKS8odGhpcy5fX21heCAtIHRoaXMuX19taW4pO1xuICAgICAgICAgIHRoaXMuX19mb3JlZ3JvdW5kLnN0eWxlLndpZHRoID0gcGN0KjEwMCsnJSc7XG4gICAgICAgICAgcmV0dXJuIE51bWJlckNvbnRyb2xsZXJTbGlkZXIuc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgIH1cblxuXG5cbiAgKTtcblxuICBmdW5jdGlvbiBtYXAodiwgaTEsIGkyLCBvMSwgbzIpIHtcbiAgICByZXR1cm4gbzEgKyAobzIgLSBvMSkgKiAoKHYgLSBpMSkgLyAoaTIgLSBpMSkpO1xuICB9XG5cbiAgcmV0dXJuIE51bWJlckNvbnRyb2xsZXJTbGlkZXI7XG4gIFxufSkoZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXIsXG5kYXQuZG9tLmRvbSxcbmRhdC51dGlscy5jc3MsXG5kYXQudXRpbHMuY29tbW9uLFxuXCIuc2xpZGVyIHtcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMTUpO1xcbiAgaGVpZ2h0OiAxZW07XFxuICBib3JkZXItcmFkaXVzOiAxZW07XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbiAgcGFkZGluZzogMCAwLjVlbTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxufVxcblxcbi5zbGlkZXItZmcge1xcbiAgcGFkZGluZzogMXB4IDAgMnB4IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWFhO1xcbiAgaGVpZ2h0OiAxZW07XFxuICBtYXJnaW4tbGVmdDogLTAuNWVtO1xcbiAgcGFkZGluZy1yaWdodDogMC41ZW07XFxuICBib3JkZXItcmFkaXVzOiAxZW0gMCAwIDFlbTtcXG59XFxuXFxuLnNsaWRlci1mZzphZnRlciB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBib3JkZXItcmFkaXVzOiAxZW07XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyOiAgMXB4IHNvbGlkICNhYWE7XFxuICBjb250ZW50OiAnJztcXG4gIGZsb2F0OiByaWdodDtcXG4gIG1hcmdpbi1yaWdodDogLTFlbTtcXG4gIG1hcmdpbi10b3A6IC0xcHg7XFxuICBoZWlnaHQ6IDAuOWVtO1xcbiAgd2lkdGg6IDAuOWVtO1xcbn1cIik7XG5cblxuZGF0LmNvbnRyb2xsZXJzLkZ1bmN0aW9uQ29udHJvbGxlciA9IChmdW5jdGlvbiAoQ29udHJvbGxlciwgZG9tLCBjb21tb24pIHtcblxuICAvKipcbiAgICogQGNsYXNzIFByb3ZpZGVzIGEgR1VJIGludGVyZmFjZSB0byBmaXJlIGEgc3BlY2lmaWVkIG1ldGhvZCwgYSBwcm9wZXJ0eSBvZiBhbiBvYmplY3QuXG4gICAqXG4gICAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiZSBtYW5pcHVsYXRlZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGJlIG1hbmlwdWxhdGVkXG4gICAqXG4gICAqIEBtZW1iZXIgZGF0LmNvbnRyb2xsZXJzXG4gICAqL1xuICB2YXIgRnVuY3Rpb25Db250cm9sbGVyID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgdGV4dCkge1xuXG4gICAgRnVuY3Rpb25Db250cm9sbGVyLnN1cGVyY2xhc3MuY2FsbCh0aGlzLCBvYmplY3QsIHByb3BlcnR5KTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLl9fYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fX2J1dHRvbi5pbm5lckhUTUwgPSB0ZXh0ID09PSB1bmRlZmluZWQgPyAnRmlyZScgOiB0ZXh0O1xuICAgIGRvbS5iaW5kKHRoaXMuX19idXR0b24sICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90aGlzLmZpcmUoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIGRvbS5hZGRDbGFzcyh0aGlzLl9fYnV0dG9uLCAnYnV0dG9uJyk7XG5cbiAgICB0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2J1dHRvbik7XG5cblxuICB9O1xuXG4gIEZ1bmN0aW9uQ29udHJvbGxlci5zdXBlcmNsYXNzID0gQ29udHJvbGxlcjtcblxuICBjb21tb24uZXh0ZW5kKFxuXG4gICAgICBGdW5jdGlvbkNvbnRyb2xsZXIucHJvdG90eXBlLFxuICAgICAgQ29udHJvbGxlci5wcm90b3R5cGUsXG4gICAgICB7XG4gICAgICAgIFxuICAgICAgICBmaXJlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGhpcy5fX29uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLl9fb25DaGFuZ2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuX19vbkZpbmlzaENoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwodGhpcywgdGhpcy5nZXRWYWx1ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5nZXRWYWx1ZSgpLmNhbGwodGhpcy5vYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgKTtcblxuICByZXR1cm4gRnVuY3Rpb25Db250cm9sbGVyO1xuXG59KShkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixcbmRhdC5kb20uZG9tLFxuZGF0LnV0aWxzLmNvbW1vbik7XG5cblxuZGF0LmNvbnRyb2xsZXJzLkJvb2xlYW5Db250cm9sbGVyID0gKGZ1bmN0aW9uIChDb250cm9sbGVyLCBkb20sIGNvbW1vbikge1xuXG4gIC8qKlxuICAgKiBAY2xhc3MgUHJvdmlkZXMgYSBjaGVja2JveCBpbnB1dCB0byBhbHRlciB0aGUgYm9vbGVhbiBwcm9wZXJ0eSBvZiBhbiBvYmplY3QuXG4gICAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiZSBtYW5pcHVsYXRlZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGJlIG1hbmlwdWxhdGVkXG4gICAqXG4gICAqIEBtZW1iZXIgZGF0LmNvbnRyb2xsZXJzXG4gICAqL1xuICB2YXIgQm9vbGVhbkNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG5cbiAgICBCb29sZWFuQ29udHJvbGxlci5zdXBlcmNsYXNzLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSk7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMuX19wcmV2ID0gdGhpcy5nZXRWYWx1ZSgpO1xuXG4gICAgdGhpcy5fX2NoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0aGlzLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG5cblxuICAgIGRvbS5iaW5kKHRoaXMuX19jaGVja2JveCwgJ2NoYW5nZScsIG9uQ2hhbmdlLCBmYWxzZSk7XG5cbiAgICB0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2NoZWNrYm94KTtcblxuICAgIC8vIE1hdGNoIG9yaWdpbmFsIHZhbHVlXG4gICAgdGhpcy51cGRhdGVEaXNwbGF5KCk7XG5cbiAgICBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICAgIF90aGlzLnNldFZhbHVlKCFfdGhpcy5fX3ByZXYpO1xuICAgIH1cblxuICB9O1xuXG4gIEJvb2xlYW5Db250cm9sbGVyLnN1cGVyY2xhc3MgPSBDb250cm9sbGVyO1xuXG4gIGNvbW1vbi5leHRlbmQoXG5cbiAgICAgIEJvb2xlYW5Db250cm9sbGVyLnByb3RvdHlwZSxcbiAgICAgIENvbnRyb2xsZXIucHJvdG90eXBlLFxuXG4gICAgICB7XG5cbiAgICAgICAgc2V0VmFsdWU6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICB2YXIgdG9SZXR1cm4gPSBCb29sZWFuQ29udHJvbGxlci5zdXBlcmNsYXNzLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsIHYpO1xuICAgICAgICAgIGlmICh0aGlzLl9fb25GaW5pc2hDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHRoaXMsIHRoaXMuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX19wcmV2ID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgICAgICAgIHJldHVybiB0b1JldHVybjtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVEaXNwbGF5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodGhpcy5nZXRWYWx1ZSgpID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIHRoaXMuX19jaGVja2JveC5jaGVja2VkID0gdHJ1ZTsgICAgXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5fX2NoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gQm9vbGVhbkNvbnRyb2xsZXIuc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIH1cblxuXG4gICAgICB9XG5cbiAgKTtcblxuICByZXR1cm4gQm9vbGVhbkNvbnRyb2xsZXI7XG5cbn0pKGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLFxuZGF0LmRvbS5kb20sXG5kYXQudXRpbHMuY29tbW9uKTtcblxuXG5kYXQuY29sb3IudG9TdHJpbmcgPSAoZnVuY3Rpb24gKGNvbW1vbikge1xuXG4gIHJldHVybiBmdW5jdGlvbihjb2xvcikge1xuXG4gICAgaWYgKGNvbG9yLmEgPT0gMSB8fCBjb21tb24uaXNVbmRlZmluZWQoY29sb3IuYSkpIHtcblxuICAgICAgdmFyIHMgPSBjb2xvci5oZXgudG9TdHJpbmcoMTYpO1xuICAgICAgd2hpbGUgKHMubGVuZ3RoIDwgNikge1xuICAgICAgICBzID0gJzAnICsgcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICcjJyArIHM7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICByZXR1cm4gJ3JnYmEoJyArIE1hdGgucm91bmQoY29sb3IucikgKyAnLCcgKyBNYXRoLnJvdW5kKGNvbG9yLmcpICsgJywnICsgTWF0aC5yb3VuZChjb2xvci5iKSArICcsJyArIGNvbG9yLmEgKyAnKSc7XG5cbiAgICB9XG5cbiAgfVxuXG59KShkYXQudXRpbHMuY29tbW9uKTtcblxuXG5kYXQuY29sb3IuaW50ZXJwcmV0ID0gKGZ1bmN0aW9uICh0b1N0cmluZywgY29tbW9uKSB7XG5cbiAgdmFyIHJlc3VsdCwgdG9SZXR1cm47XG5cbiAgdmFyIGludGVycHJldCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdG9SZXR1cm4gPSBmYWxzZTtcblxuICAgIHZhciBvcmlnaW5hbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gY29tbW9uLnRvQXJyYXkoYXJndW1lbnRzKSA6IGFyZ3VtZW50c1swXTtcblxuICAgIGNvbW1vbi5lYWNoKElOVEVSUFJFVEFUSU9OUywgZnVuY3Rpb24oZmFtaWx5KSB7XG5cbiAgICAgIGlmIChmYW1pbHkubGl0bXVzKG9yaWdpbmFsKSkge1xuXG4gICAgICAgIGNvbW1vbi5lYWNoKGZhbWlseS5jb252ZXJzaW9ucywgZnVuY3Rpb24oY29udmVyc2lvbiwgY29udmVyc2lvbk5hbWUpIHtcblxuICAgICAgICAgIHJlc3VsdCA9IGNvbnZlcnNpb24ucmVhZChvcmlnaW5hbCk7XG5cbiAgICAgICAgICBpZiAodG9SZXR1cm4gPT09IGZhbHNlICYmIHJlc3VsdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRvUmV0dXJuID0gcmVzdWx0O1xuICAgICAgICAgICAgcmVzdWx0LmNvbnZlcnNpb25OYW1lID0gY29udmVyc2lvbk5hbWU7XG4gICAgICAgICAgICByZXN1bHQuY29udmVyc2lvbiA9IGNvbnZlcnNpb247XG4gICAgICAgICAgICByZXR1cm4gY29tbW9uLkJSRUFLO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb21tb24uQlJFQUs7XG5cbiAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRvUmV0dXJuO1xuXG4gIH07XG5cbiAgdmFyIElOVEVSUFJFVEFUSU9OUyA9IFtcblxuICAgIC8vIFN0cmluZ3NcbiAgICB7XG5cbiAgICAgIGxpdG11czogY29tbW9uLmlzU3RyaW5nLFxuXG4gICAgICBjb252ZXJzaW9uczoge1xuXG4gICAgICAgIFRIUkVFX0NIQVJfSEVYOiB7XG5cbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuXG4gICAgICAgICAgICB2YXIgdGVzdCA9IG9yaWdpbmFsLm1hdGNoKC9eIyhbQS1GMC05XSkoW0EtRjAtOV0pKFtBLUYwLTldKSQvaSk7XG4gICAgICAgICAgICBpZiAodGVzdCA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzcGFjZTogJ0hFWCcsXG4gICAgICAgICAgICAgIGhleDogcGFyc2VJbnQoXG4gICAgICAgICAgICAgICAgICAnMHgnICtcbiAgICAgICAgICAgICAgICAgICAgICB0ZXN0WzFdLnRvU3RyaW5nKCkgKyB0ZXN0WzFdLnRvU3RyaW5nKCkgK1xuICAgICAgICAgICAgICAgICAgICAgIHRlc3RbMl0udG9TdHJpbmcoKSArIHRlc3RbMl0udG9TdHJpbmcoKSArXG4gICAgICAgICAgICAgICAgICAgICAgdGVzdFszXS50b1N0cmluZygpICsgdGVzdFszXS50b1N0cmluZygpKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogdG9TdHJpbmdcblxuICAgICAgICB9LFxuXG4gICAgICAgIFNJWF9DSEFSX0hFWDoge1xuXG4gICAgICAgICAgcmVhZDogZnVuY3Rpb24ob3JpZ2luYWwpIHtcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBvcmlnaW5hbC5tYXRjaCgvXiMoW0EtRjAtOV17Nn0pJC9pKTtcbiAgICAgICAgICAgIGlmICh0ZXN0ID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAnSEVYJyxcbiAgICAgICAgICAgICAgaGV4OiBwYXJzZUludCgnMHgnICsgdGVzdFsxXS50b1N0cmluZygpKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogdG9TdHJpbmdcblxuICAgICAgICB9LFxuXG4gICAgICAgIENTU19SR0I6IHtcblxuICAgICAgICAgIHJlYWQ6IGZ1bmN0aW9uKG9yaWdpbmFsKSB7XG5cbiAgICAgICAgICAgIHZhciB0ZXN0ID0gb3JpZ2luYWwubWF0Y2goL15yZ2JcXChcXHMqKC4rKVxccyosXFxzKiguKylcXHMqLFxccyooLispXFxzKlxcKS8pO1xuICAgICAgICAgICAgaWYgKHRlc3QgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3BhY2U6ICdSR0InLFxuICAgICAgICAgICAgICByOiBwYXJzZUZsb2F0KHRlc3RbMV0pLFxuICAgICAgICAgICAgICBnOiBwYXJzZUZsb2F0KHRlc3RbMl0pLFxuICAgICAgICAgICAgICBiOiBwYXJzZUZsb2F0KHRlc3RbM10pXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHdyaXRlOiB0b1N0cmluZ1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgQ1NTX1JHQkE6IHtcblxuICAgICAgICAgIHJlYWQ6IGZ1bmN0aW9uKG9yaWdpbmFsKSB7XG5cbiAgICAgICAgICAgIHZhciB0ZXN0ID0gb3JpZ2luYWwubWF0Y2goL15yZ2JhXFwoXFxzKiguKylcXHMqLFxccyooLispXFxzKixcXHMqKC4rKVxccypcXCxcXHMqKC4rKVxccypcXCkvKTtcbiAgICAgICAgICAgIGlmICh0ZXN0ID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAnUkdCJyxcbiAgICAgICAgICAgICAgcjogcGFyc2VGbG9hdCh0ZXN0WzFdKSxcbiAgICAgICAgICAgICAgZzogcGFyc2VGbG9hdCh0ZXN0WzJdKSxcbiAgICAgICAgICAgICAgYjogcGFyc2VGbG9hdCh0ZXN0WzNdKSxcbiAgICAgICAgICAgICAgYTogcGFyc2VGbG9hdCh0ZXN0WzRdKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogdG9TdHJpbmdcblxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICAvLyBOdW1iZXJzXG4gICAge1xuXG4gICAgICBsaXRtdXM6IGNvbW1vbi5pc051bWJlcixcblxuICAgICAgY29udmVyc2lvbnM6IHtcblxuICAgICAgICBIRVg6IHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3BhY2U6ICdIRVgnLFxuICAgICAgICAgICAgICBoZXg6IG9yaWdpbmFsLFxuICAgICAgICAgICAgICBjb252ZXJzaW9uTmFtZTogJ0hFWCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3IuaGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgLy8gQXJyYXlzXG4gICAge1xuXG4gICAgICBsaXRtdXM6IGNvbW1vbi5pc0FycmF5LFxuXG4gICAgICBjb252ZXJzaW9uczoge1xuXG4gICAgICAgIFJHQl9BUlJBWToge1xuICAgICAgICAgIHJlYWQ6IGZ1bmN0aW9uKG9yaWdpbmFsKSB7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoICE9IDMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAnUkdCJyxcbiAgICAgICAgICAgICAgcjogb3JpZ2luYWxbMF0sXG4gICAgICAgICAgICAgIGc6IG9yaWdpbmFsWzFdLFxuICAgICAgICAgICAgICBiOiBvcmlnaW5hbFsyXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gW2NvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmJdO1xuICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIFJHQkFfQVJSQVk6IHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsLmxlbmd0aCAhPSA0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzcGFjZTogJ1JHQicsXG4gICAgICAgICAgICAgIHI6IG9yaWdpbmFsWzBdLFxuICAgICAgICAgICAgICBnOiBvcmlnaW5hbFsxXSxcbiAgICAgICAgICAgICAgYjogb3JpZ2luYWxbMl0sXG4gICAgICAgICAgICAgIGE6IG9yaWdpbmFsWzNdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogZnVuY3Rpb24oY29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBbY29sb3IuciwgY29sb3IuZywgY29sb3IuYiwgY29sb3IuYV07XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgfSxcblxuICAgIC8vIE9iamVjdHNcbiAgICB7XG5cbiAgICAgIGxpdG11czogY29tbW9uLmlzT2JqZWN0LFxuXG4gICAgICBjb252ZXJzaW9uczoge1xuXG4gICAgICAgIFJHQkFfT0JKOiB7XG4gICAgICAgICAgcmVhZDogZnVuY3Rpb24ob3JpZ2luYWwpIHtcbiAgICAgICAgICAgIGlmIChjb21tb24uaXNOdW1iZXIob3JpZ2luYWwucikgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuZykgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuYikgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuYSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzcGFjZTogJ1JHQicsXG4gICAgICAgICAgICAgICAgcjogb3JpZ2luYWwucixcbiAgICAgICAgICAgICAgICBnOiBvcmlnaW5hbC5nLFxuICAgICAgICAgICAgICAgIGI6IG9yaWdpbmFsLmIsXG4gICAgICAgICAgICAgICAgYTogb3JpZ2luYWwuYVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHdyaXRlOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcjogY29sb3IucixcbiAgICAgICAgICAgICAgZzogY29sb3IuZyxcbiAgICAgICAgICAgICAgYjogY29sb3IuYixcbiAgICAgICAgICAgICAgYTogY29sb3IuYVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBSR0JfT0JKOiB7XG4gICAgICAgICAgcmVhZDogZnVuY3Rpb24ob3JpZ2luYWwpIHtcbiAgICAgICAgICAgIGlmIChjb21tb24uaXNOdW1iZXIob3JpZ2luYWwucikgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuZykgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuYikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzcGFjZTogJ1JHQicsXG4gICAgICAgICAgICAgICAgcjogb3JpZ2luYWwucixcbiAgICAgICAgICAgICAgICBnOiBvcmlnaW5hbC5nLFxuICAgICAgICAgICAgICAgIGI6IG9yaWdpbmFsLmJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogZnVuY3Rpb24oY29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHI6IGNvbG9yLnIsXG4gICAgICAgICAgICAgIGc6IGNvbG9yLmcsXG4gICAgICAgICAgICAgIGI6IGNvbG9yLmJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgSFNWQV9PQko6IHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuICAgICAgICAgICAgaWYgKGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5oKSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5zKSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC52KSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5hKSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNwYWNlOiAnSFNWJyxcbiAgICAgICAgICAgICAgICBoOiBvcmlnaW5hbC5oLFxuICAgICAgICAgICAgICAgIHM6IG9yaWdpbmFsLnMsXG4gICAgICAgICAgICAgICAgdjogb3JpZ2luYWwudixcbiAgICAgICAgICAgICAgICBhOiBvcmlnaW5hbC5hXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBoOiBjb2xvci5oLFxuICAgICAgICAgICAgICBzOiBjb2xvci5zLFxuICAgICAgICAgICAgICB2OiBjb2xvci52LFxuICAgICAgICAgICAgICBhOiBjb2xvci5hXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIEhTVl9PQko6IHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuICAgICAgICAgICAgaWYgKGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5oKSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5zKSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC52KSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNwYWNlOiAnSFNWJyxcbiAgICAgICAgICAgICAgICBoOiBvcmlnaW5hbC5oLFxuICAgICAgICAgICAgICAgIHM6IG9yaWdpbmFsLnMsXG4gICAgICAgICAgICAgICAgdjogb3JpZ2luYWwudlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHdyaXRlOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaDogY29sb3IuaCxcbiAgICAgICAgICAgICAgczogY29sb3IucyxcbiAgICAgICAgICAgICAgdjogY29sb3IudlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH1cblxuXG4gIF07XG5cbiAgcmV0dXJuIGludGVycHJldDtcblxuXG59KShkYXQuY29sb3IudG9TdHJpbmcsXG5kYXQudXRpbHMuY29tbW9uKTtcblxuXG5kYXQuR1VJID0gZGF0Lmd1aS5HVUkgPSAoZnVuY3Rpb24gKGNzcywgc2F2ZURpYWxvZ3VlQ29udGVudHMsIHN0eWxlU2hlZXQsIGNvbnRyb2xsZXJGYWN0b3J5LCBDb250cm9sbGVyLCBCb29sZWFuQ29udHJvbGxlciwgRnVuY3Rpb25Db250cm9sbGVyLCBOdW1iZXJDb250cm9sbGVyQm94LCBOdW1iZXJDb250cm9sbGVyU2xpZGVyLCBPcHRpb25Db250cm9sbGVyLCBDb2xvckNvbnRyb2xsZXIsIHJlcXVlc3RBbmltYXRpb25GcmFtZSwgQ2VudGVyZWREaXYsIGRvbSwgY29tbW9uKSB7XG5cbiAgY3NzLmluamVjdChzdHlsZVNoZWV0KTtcblxuICAvKiogT3V0ZXItbW9zdCBjbGFzc05hbWUgZm9yIEdVSSdzICovXG4gIHZhciBDU1NfTkFNRVNQQUNFID0gJ2RnJztcblxuICB2YXIgSElERV9LRVlfQ09ERSA9IDcyO1xuXG4gIC8qKiBUaGUgb25seSB2YWx1ZSBzaGFyZWQgYmV0d2VlbiB0aGUgSlMgYW5kIFNDU1MuIFVzZSBjYXV0aW9uLiAqL1xuICB2YXIgQ0xPU0VfQlVUVE9OX0hFSUdIVCA9IDIwO1xuXG4gIHZhciBERUZBVUxUX0RFRkFVTFRfUFJFU0VUX05BTUUgPSAnRGVmYXVsdCc7XG5cbiAgdmFyIFNVUFBPUlRTX0xPQ0FMX1NUT1JBR0UgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAnbG9jYWxTdG9yYWdlJyBpbiB3aW5kb3cgJiYgd2luZG93Wydsb2NhbFN0b3JhZ2UnXSAhPT0gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KSgpO1xuXG4gIHZhciBTQVZFX0RJQUxPR1VFO1xuXG4gIC8qKiBIYXZlIHdlIHlldCB0byBjcmVhdGUgYW4gYXV0b1BsYWNlIEdVST8gKi9cbiAgdmFyIGF1dG9fcGxhY2VfdmlyZ2luID0gdHJ1ZTtcblxuICAvKiogRml4ZWQgcG9zaXRpb24gZGl2IHRoYXQgYXV0byBwbGFjZSBHVUkncyBnbyBpbnNpZGUgKi9cbiAgdmFyIGF1dG9fcGxhY2VfY29udGFpbmVyO1xuXG4gIC8qKiBBcmUgd2UgaGlkaW5nIHRoZSBHVUkncyA/ICovXG4gIHZhciBoaWRlID0gZmFsc2U7XG5cbiAgLyoqIEdVSSdzIHdoaWNoIHNob3VsZCBiZSBoaWRkZW4gKi9cbiAgdmFyIGhpZGVhYmxlX2d1aXMgPSBbXTtcblxuICAvKipcbiAgICogQSBsaWdodHdlaWdodCBjb250cm9sbGVyIGxpYnJhcnkgZm9yIEphdmFTY3JpcHQuIEl0IGFsbG93cyB5b3UgdG8gZWFzaWx5XG4gICAqIG1hbmlwdWxhdGUgdmFyaWFibGVzIGFuZCBmaXJlIGZ1bmN0aW9ucyBvbiB0aGUgZmx5LlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICogQG1lbWJlciBkYXQuZ3VpXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3BhcmFtcy5uYW1lXSBUaGUgbmFtZSBvZiB0aGlzIEdVSS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbXMubG9hZF0gSlNPTiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzYXZlZCBzdGF0ZSBvZlxuICAgKiB0aGlzIEdVSS5cbiAgICogQHBhcmFtIHtCb29sZWFufSBbcGFyYW1zLmF1dG89dHJ1ZV1cbiAgICogQHBhcmFtIHtkYXQuZ3VpLkdVSX0gW3BhcmFtcy5wYXJlbnRdIFRoZSBHVUkgSSdtIG5lc3RlZCBpbi5cbiAgICogQHBhcmFtIHtCb29sZWFufSBbcGFyYW1zLmNsb3NlZF0gSWYgdHJ1ZSwgc3RhcnRzIGNsb3NlZFxuICAgKi9cbiAgdmFyIEdVSSA9IGZ1bmN0aW9uKHBhcmFtcykge1xuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIE91dGVybW9zdCBET00gRWxlbWVudFxuICAgICAqIEB0eXBlIERPTUVsZW1lbnRcbiAgICAgKi9cbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9fdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fdWwpO1xuXG4gICAgZG9tLmFkZENsYXNzKHRoaXMuZG9tRWxlbWVudCwgQ1NTX05BTUVTUEFDRSk7XG5cbiAgICAvKipcbiAgICAgKiBOZXN0ZWQgR1VJJ3MgYnkgbmFtZVxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLl9fZm9sZGVycyA9IHt9O1xuXG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIG9iamVjdHMgSSdtIHJlbWVtYmVyaW5nIGZvciBzYXZlLCBvbmx5IHVzZWQgaW4gdG9wIGxldmVsIEdVSVxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGluZGV4IG9mIHJlbWVtYmVyZWQgb2JqZWN0cyB0byBhIG1hcCBvZiBjb250cm9sbGVycywgb25seSB1c2VkXG4gICAgICogaW4gdG9wIGxldmVsIEdVSS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlnbm9yZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBbXG4gICAgICogIHtcbiAgICAgKiAgICBwcm9wZXJ0eU5hbWU6IENvbnRyb2xsZXIsXG4gICAgICogICAgYW5vdGhlclByb3BlcnR5TmFtZTogQ29udHJvbGxlclxuICAgICAqICB9LFxuICAgICAqICB7XG4gICAgICogICAgcHJvcGVydHlOYW1lOiBDb250cm9sbGVyXG4gICAgICogIH1cbiAgICAgKiBdXG4gICAgICovXG4gICAgdGhpcy5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVycyA9IFtdO1xuXG4gICAgdGhpcy5fX2xpc3RlbmluZyA9IFtdO1xuXG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuXG4gICAgLy8gRGVmYXVsdCBwYXJhbWV0ZXJzXG4gICAgcGFyYW1zID0gY29tbW9uLmRlZmF1bHRzKHBhcmFtcywge1xuICAgICAgYXV0b1BsYWNlOiB0cnVlLFxuICAgICAgd2lkdGg6IEdVSS5ERUZBVUxUX1dJRFRIXG4gICAgfSk7XG5cbiAgICBwYXJhbXMgPSBjb21tb24uZGVmYXVsdHMocGFyYW1zLCB7XG4gICAgICByZXNpemFibGU6IHBhcmFtcy5hdXRvUGxhY2UsXG4gICAgICBoaWRlYWJsZTogcGFyYW1zLmF1dG9QbGFjZVxuICAgIH0pO1xuXG5cbiAgICBpZiAoIWNvbW1vbi5pc1VuZGVmaW5lZChwYXJhbXMubG9hZCkpIHtcblxuICAgICAgLy8gRXhwbGljaXQgcHJlc2V0XG4gICAgICBpZiAocGFyYW1zLnByZXNldCkgcGFyYW1zLmxvYWQucHJlc2V0ID0gcGFyYW1zLnByZXNldDtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIHBhcmFtcy5sb2FkID0geyBwcmVzZXQ6IERFRkFVTFRfREVGQVVMVF9QUkVTRVRfTkFNRSB9O1xuXG4gICAgfVxuXG4gICAgaWYgKGNvbW1vbi5pc1VuZGVmaW5lZChwYXJhbXMucGFyZW50KSAmJiBwYXJhbXMuaGlkZWFibGUpIHtcbiAgICAgIGhpZGVhYmxlX2d1aXMucHVzaCh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBPbmx5IHJvb3QgbGV2ZWwgR1VJJ3MgYXJlIHJlc2l6YWJsZS5cbiAgICBwYXJhbXMucmVzaXphYmxlID0gY29tbW9uLmlzVW5kZWZpbmVkKHBhcmFtcy5wYXJlbnQpICYmIHBhcmFtcy5yZXNpemFibGU7XG5cblxuICAgIGlmIChwYXJhbXMuYXV0b1BsYWNlICYmIGNvbW1vbi5pc1VuZGVmaW5lZChwYXJhbXMuc2Nyb2xsYWJsZSkpIHtcbiAgICAgIHBhcmFtcy5zY3JvbGxhYmxlID0gdHJ1ZTtcbiAgICB9XG4vLyAgICBwYXJhbXMuc2Nyb2xsYWJsZSA9IGNvbW1vbi5pc1VuZGVmaW5lZChwYXJhbXMucGFyZW50KSAmJiBwYXJhbXMuc2Nyb2xsYWJsZSA9PT0gdHJ1ZTtcblxuICAgIC8vIE5vdCBwYXJ0IG9mIHBhcmFtcyBiZWNhdXNlIEkgZG9uJ3Qgd2FudCBwZW9wbGUgcGFzc2luZyB0aGlzIGluIHZpYVxuICAgIC8vIGNvbnN0cnVjdG9yLiBTaG91bGQgYmUgYSAncmVtZW1iZXJlZCcgdmFsdWUuXG4gICAgdmFyIHVzZV9sb2NhbF9zdG9yYWdlID1cbiAgICAgICAgU1VQUE9SVFNfTE9DQUxfU1RPUkFHRSAmJlxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlSGFzaCh0aGlzLCAnaXNMb2NhbCcpKSA9PT0gJ3RydWUnO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyxcblxuICAgICAgICAvKiogQGxlbmRzIGRhdC5ndWkuR1VJLnByb3RvdHlwZSAqL1xuICAgICAgICB7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgcGFyZW50IDxjb2RlPkdVSTwvY29kZT5cbiAgICAgICAgICAgKiBAdHlwZSBkYXQuZ3VpLkdVSVxuICAgICAgICAgICAqL1xuICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcy5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHNjcm9sbGFibGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJhbXMuc2Nyb2xsYWJsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogSGFuZGxlcyA8Y29kZT5HVUk8L2NvZGU+J3MgZWxlbWVudCBwbGFjZW1lbnQgZm9yIHlvdVxuICAgICAgICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhdXRvUGxhY2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJhbXMuYXV0b1BsYWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgaWRlbnRpZmllciBmb3IgYSBzZXQgb2Ygc2F2ZWQgdmFsdWVzXG4gICAgICAgICAgICogQHR5cGUgU3RyaW5nXG4gICAgICAgICAgICovXG4gICAgICAgICAgcHJlc2V0OiB7XG5cbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmIChfdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Um9vdCgpLnByZXNldDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zLmxvYWQucHJlc2V0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgaWYgKF90aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmdldFJvb3QoKS5wcmVzZXQgPSB2O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5sb2FkLnByZXNldCA9IHY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0UHJlc2V0U2VsZWN0SW5kZXgodGhpcyk7XG4gICAgICAgICAgICAgIF90aGlzLnJldmVydCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSB3aWR0aCBvZiA8Y29kZT5HVUk8L2NvZGU+IGVsZW1lbnRcbiAgICAgICAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgICAgICAgKi9cbiAgICAgICAgICB3aWR0aDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcy53aWR0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgcGFyYW1zLndpZHRoID0gdjtcbiAgICAgICAgICAgICAgc2V0V2lkdGgoX3RoaXMsIHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUaGUgbmFtZSBvZiA8Y29kZT5HVUk8L2NvZGU+LiBVc2VkIGZvciBmb2xkZXJzLiBpLmVcbiAgICAgICAgICAgKiBhIGZvbGRlcidzIG5hbWVcbiAgICAgICAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zLm5hbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgIC8vIFRPRE8gQ2hlY2sgZm9yIGNvbGxpc2lvbnMgYW1vbmcgc2libGluZyBmb2xkZXJzXG4gICAgICAgICAgICAgIHBhcmFtcy5uYW1lID0gdjtcbiAgICAgICAgICAgICAgaWYgKHRpdGxlX3Jvd19uYW1lKSB7XG4gICAgICAgICAgICAgICAgdGl0bGVfcm93X25hbWUuaW5uZXJIVE1MID0gcGFyYW1zLm5hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogV2hldGhlciB0aGUgPGNvZGU+R1VJPC9jb2RlPiBpcyBjb2xsYXBzZWQgb3Igbm90XG4gICAgICAgICAgICogQHR5cGUgQm9vbGVhblxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNsb3NlZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcy5jbG9zZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgIHBhcmFtcy5jbG9zZWQgPSB2O1xuICAgICAgICAgICAgICBpZiAocGFyYW1zLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGRvbS5hZGRDbGFzcyhfdGhpcy5fX3VsLCBHVUkuQ0xBU1NfQ0xPU0VEKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQ2xhc3MoX3RoaXMuX191bCwgR1VJLkNMQVNTX0NMT1NFRCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gRm9yIGJyb3dzZXJzIHRoYXQgYXJlbid0IGdvaW5nIHRvIHJlc3BlY3QgdGhlIENTUyB0cmFuc2l0aW9uLFxuICAgICAgICAgICAgICAvLyBMZXRzIGp1c3QgY2hlY2sgb3VyIGhlaWdodCBhZ2FpbnN0IHRoZSB3aW5kb3cgaGVpZ2h0IHJpZ2h0IG9mZlxuICAgICAgICAgICAgICAvLyB0aGUgYmF0LlxuICAgICAgICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG5cbiAgICAgICAgICAgICAgaWYgKF90aGlzLl9fY2xvc2VCdXR0b24pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fX2Nsb3NlQnV0dG9uLmlubmVySFRNTCA9IHYgPyBHVUkuVEVYVF9PUEVOIDogR1VJLlRFWFRfQ0xPU0VEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIENvbnRhaW5zIGFsbCBwcmVzZXRzXG4gICAgICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICAgICovXG4gICAgICAgICAgbG9hZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcy5sb2FkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRvIHVzZSA8YSBocmVmPVwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL1N0b3JhZ2UjbG9jYWxTdG9yYWdlXCI+bG9jYWxTdG9yYWdlPC9hPiBhcyB0aGUgbWVhbnMgZm9yXG4gICAgICAgICAgICogPGNvZGU+cmVtZW1iZXI8L2NvZGU+aW5nXG4gICAgICAgICAgICogQHR5cGUgQm9vbGVhblxuICAgICAgICAgICAqL1xuICAgICAgICAgIHVzZUxvY2FsU3RvcmFnZToge1xuXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdXNlX2xvY2FsX3N0b3JhZ2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihib29sKSB7XG4gICAgICAgICAgICAgIGlmIChTVVBQT1JUU19MT0NBTF9TVE9SQUdFKSB7XG4gICAgICAgICAgICAgICAgdXNlX2xvY2FsX3N0b3JhZ2UgPSBib29sO1xuICAgICAgICAgICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICAgICAgICBkb20uYmluZCh3aW5kb3csICd1bmxvYWQnLCBzYXZlVG9Mb2NhbFN0b3JhZ2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBkb20udW5iaW5kKHdpbmRvdywgJ3VubG9hZCcsIHNhdmVUb0xvY2FsU3RvcmFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdldExvY2FsU3RvcmFnZUhhc2goX3RoaXMsICdpc0xvY2FsJyksIGJvb2wpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAvLyBBcmUgd2UgYSByb290IGxldmVsIEdVST9cbiAgICBpZiAoY29tbW9uLmlzVW5kZWZpbmVkKHBhcmFtcy5wYXJlbnQpKSB7XG5cbiAgICAgIHBhcmFtcy5jbG9zZWQgPSBmYWxzZTtcblxuICAgICAgZG9tLmFkZENsYXNzKHRoaXMuZG9tRWxlbWVudCwgR1VJLkNMQVNTX01BSU4pO1xuICAgICAgZG9tLm1ha2VTZWxlY3RhYmxlKHRoaXMuZG9tRWxlbWVudCwgZmFsc2UpO1xuXG4gICAgICAvLyBBcmUgd2Ugc3VwcG9zZWQgdG8gYmUgbG9hZGluZyBsb2NhbGx5P1xuICAgICAgaWYgKFNVUFBPUlRTX0xPQ0FMX1NUT1JBR0UpIHtcblxuICAgICAgICBpZiAodXNlX2xvY2FsX3N0b3JhZ2UpIHtcblxuICAgICAgICAgIF90aGlzLnVzZUxvY2FsU3RvcmFnZSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgc2F2ZWRfZ3VpID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlSGFzaCh0aGlzLCAnZ3VpJykpO1xuXG4gICAgICAgICAgaWYgKHNhdmVkX2d1aSkge1xuICAgICAgICAgICAgcGFyYW1zLmxvYWQgPSBKU09OLnBhcnNlKHNhdmVkX2d1aSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICB0aGlzLl9fY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuX19jbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSBHVUkuVEVYVF9DTE9TRUQ7XG4gICAgICBkb20uYWRkQ2xhc3ModGhpcy5fX2Nsb3NlQnV0dG9uLCBHVUkuQ0xBU1NfQ0xPU0VfQlVUVE9OKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fY2xvc2VCdXR0b24pO1xuXG4gICAgICBkb20uYmluZCh0aGlzLl9fY2xvc2VCdXR0b24sICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIF90aGlzLmNsb3NlZCA9ICFfdGhpcy5jbG9zZWQ7XG5cblxuICAgICAgfSk7XG5cblxuICAgICAgLy8gT2gsIHlvdSdyZSBhIG5lc3RlZCBHVUkhXG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKHBhcmFtcy5jbG9zZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXJhbXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRpdGxlX3Jvd19uYW1lID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocGFyYW1zLm5hbWUpO1xuICAgICAgZG9tLmFkZENsYXNzKHRpdGxlX3Jvd19uYW1lLCAnY29udHJvbGxlci1uYW1lJyk7XG5cbiAgICAgIHZhciB0aXRsZV9yb3cgPSBhZGRSb3coX3RoaXMsIHRpdGxlX3Jvd19uYW1lKTtcblxuICAgICAgdmFyIG9uX2NsaWNrX3RpdGxlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLmNsb3NlZCA9ICFfdGhpcy5jbG9zZWQ7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgIGRvbS5hZGRDbGFzcyh0aGlzLl9fdWwsIEdVSS5DTEFTU19DTE9TRUQpO1xuXG4gICAgICBkb20uYWRkQ2xhc3ModGl0bGVfcm93LCAndGl0bGUnKTtcbiAgICAgIGRvbS5iaW5kKHRpdGxlX3JvdywgJ2NsaWNrJywgb25fY2xpY2tfdGl0bGUpO1xuXG4gICAgICBpZiAoIXBhcmFtcy5jbG9zZWQpIHtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmIChwYXJhbXMuYXV0b1BsYWNlKSB7XG5cbiAgICAgIGlmIChjb21tb24uaXNVbmRlZmluZWQocGFyYW1zLnBhcmVudCkpIHtcblxuICAgICAgICBpZiAoYXV0b19wbGFjZV92aXJnaW4pIHtcbiAgICAgICAgICBhdXRvX3BsYWNlX2NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIGRvbS5hZGRDbGFzcyhhdXRvX3BsYWNlX2NvbnRhaW5lciwgQ1NTX05BTUVTUEFDRSk7XG4gICAgICAgICAgZG9tLmFkZENsYXNzKGF1dG9fcGxhY2VfY29udGFpbmVyLCBHVUkuQ0xBU1NfQVVUT19QTEFDRV9DT05UQUlORVIpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXV0b19wbGFjZV9jb250YWluZXIpO1xuICAgICAgICAgIGF1dG9fcGxhY2VfdmlyZ2luID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQdXQgaXQgaW4gdGhlIGRvbSBmb3IgeW91LlxuICAgICAgICBhdXRvX3BsYWNlX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW1lbnQpO1xuXG4gICAgICAgIC8vIEFwcGx5IHRoZSBhdXRvIHN0eWxlc1xuICAgICAgICBkb20uYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LCBHVUkuQ0xBU1NfQVVUT19QTEFDRSk7XG5cbiAgICAgIH1cblxuXG4gICAgICAvLyBNYWtlIGl0IG5vdCBlbGFzdGljLlxuICAgICAgaWYgKCF0aGlzLnBhcmVudCkgc2V0V2lkdGgoX3RoaXMsIHBhcmFtcy53aWR0aCk7XG5cbiAgICB9XG5cbiAgICBkb20uYmluZCh3aW5kb3csICdyZXNpemUnLCBmdW5jdGlvbigpIHsgX3RoaXMub25SZXNpemUoKSB9KTtcbiAgICBkb20uYmluZCh0aGlzLl9fdWwsICd3ZWJraXRUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24oKSB7IF90aGlzLm9uUmVzaXplKCk7IH0pO1xuICAgIGRvbS5iaW5kKHRoaXMuX191bCwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbigpIHsgX3RoaXMub25SZXNpemUoKSB9KTtcbiAgICBkb20uYmluZCh0aGlzLl9fdWwsICdvVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uKCkgeyBfdGhpcy5vblJlc2l6ZSgpIH0pO1xuICAgIHRoaXMub25SZXNpemUoKTtcblxuXG4gICAgaWYgKHBhcmFtcy5yZXNpemFibGUpIHtcbiAgICAgIGFkZFJlc2l6ZUhhbmRsZSh0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzYXZlVG9Mb2NhbFN0b3JhZ2UoKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShnZXRMb2NhbFN0b3JhZ2VIYXNoKF90aGlzLCAnZ3VpJyksIEpTT04uc3RyaW5naWZ5KF90aGlzLmdldFNhdmVPYmplY3QoKSkpO1xuICAgIH1cblxuICAgIHZhciByb290ID0gX3RoaXMuZ2V0Um9vdCgpO1xuICAgIGZ1bmN0aW9uIHJlc2V0V2lkdGgoKSB7XG4gICAgICAgIHZhciByb290ID0gX3RoaXMuZ2V0Um9vdCgpO1xuICAgICAgICByb290LndpZHRoICs9IDE7XG4gICAgICAgIGNvbW1vbi5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICByb290LndpZHRoIC09IDE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXBhcmFtcy5wYXJlbnQpIHtcbiAgICAgICAgcmVzZXRXaWR0aCgpO1xuICAgICAgfVxuXG4gIH07XG5cbiAgR1VJLnRvZ2dsZUhpZGUgPSBmdW5jdGlvbigpIHtcblxuICAgIGhpZGUgPSAhaGlkZTtcbiAgICBjb21tb24uZWFjaChoaWRlYWJsZV9ndWlzLCBmdW5jdGlvbihndWkpIHtcbiAgICAgIGd1aS5kb21FbGVtZW50LnN0eWxlLnpJbmRleCA9IGhpZGUgPyAtOTk5IDogOTk5O1xuICAgICAgZ3VpLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IGhpZGUgPyAwIDogMTtcbiAgICB9KTtcbiAgfTtcblxuICBHVUkuQ0xBU1NfQVVUT19QTEFDRSA9ICdhJztcbiAgR1VJLkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSID0gJ2FjJztcbiAgR1VJLkNMQVNTX01BSU4gPSAnbWFpbic7XG4gIEdVSS5DTEFTU19DT05UUk9MTEVSX1JPVyA9ICdjcic7XG4gIEdVSS5DTEFTU19UT09fVEFMTCA9ICd0YWxsZXItdGhhbi13aW5kb3cnO1xuICBHVUkuQ0xBU1NfQ0xPU0VEID0gJ2Nsb3NlZCc7XG4gIEdVSS5DTEFTU19DTE9TRV9CVVRUT04gPSAnY2xvc2UtYnV0dG9uJztcbiAgR1VJLkNMQVNTX0RSQUcgPSAnZHJhZyc7XG5cbiAgR1VJLkRFRkFVTFRfV0lEVEggPSAyNDU7XG4gIEdVSS5URVhUX0NMT1NFRCA9ICdDbG9zZSBDb250cm9scyc7XG4gIEdVSS5URVhUX09QRU4gPSAnT3BlbiBDb250cm9scyc7XG5cbiAgZG9tLmJpbmQod2luZG93LCAna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcblxuICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50LnR5cGUgIT09ICd0ZXh0JyAmJlxuICAgICAgICAoZS53aGljaCA9PT0gSElERV9LRVlfQ09ERSB8fCBlLmtleUNvZGUgPT0gSElERV9LRVlfQ09ERSkpIHtcbiAgICAgIEdVSS50b2dnbGVIaWRlKCk7XG4gICAgfVxuXG4gIH0sIGZhbHNlKTtcblxuICBjb21tb24uZXh0ZW5kKFxuXG4gICAgICBHVUkucHJvdG90eXBlLFxuXG4gICAgICAvKiogQGxlbmRzIGRhdC5ndWkuR1VJICovXG4gICAgICB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBvYmplY3RcbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5XG4gICAgICAgICAqIEByZXR1cm5zIHtkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcn0gVGhlIG5ldyBjb250cm9sbGVyIHRoYXQgd2FzIGFkZGVkLlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGFkZDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xuXG4gICAgICAgICAgcmV0dXJuIGFkZChcbiAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZhY3RvcnlBcmdzOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBvYmplY3RcbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5XG4gICAgICAgICAqIEByZXR1cm5zIHtkYXQuY29udHJvbGxlcnMuQ29sb3JDb250cm9sbGVyfSBUaGUgbmV3IGNvbnRyb2xsZXIgdGhhdCB3YXMgYWRkZWQuXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgYWRkQ29sb3I6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcblxuICAgICAgICAgIHJldHVybiBhZGQoXG4gICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgIG9iamVjdCxcbiAgICAgICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gY29udHJvbGxlclxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oY29udHJvbGxlcikge1xuXG4gICAgICAgICAgLy8gVE9ETyBsaXN0ZW5pbmc/XG4gICAgICAgICAgdGhpcy5fX3VsLnJlbW92ZUNoaWxkKGNvbnRyb2xsZXIuX19saSk7XG4gICAgICAgICAgdGhpcy5fX2NvbnRyb2xsZXJzLnNsaWNlKHRoaXMuX19jb250cm9sbGVycy5pbmRleE9mKGNvbnRyb2xsZXIpLCAxKTtcbiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgIGNvbW1vbi5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF90aGlzLm9uUmVzaXplKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgIGlmICh0aGlzLmF1dG9QbGFjZSkge1xuICAgICAgICAgICAgYXV0b19wbGFjZV9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5kb21FbGVtZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIG5hbWVcbiAgICAgICAgICogQHJldHVybnMge2RhdC5ndWkuR1VJfSBUaGUgbmV3IGZvbGRlci5cbiAgICAgICAgICogQHRocm93cyB7RXJyb3J9IGlmIHRoaXMgR1VJIGFscmVhZHkgaGFzIGEgZm9sZGVyIGJ5IHRoZSBzcGVjaWZpZWRcbiAgICAgICAgICogbmFtZVxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGFkZEZvbGRlcjogZnVuY3Rpb24obmFtZSkge1xuXG4gICAgICAgICAgLy8gV2UgaGF2ZSB0byBwcmV2ZW50IGNvbGxpc2lvbnMgb24gbmFtZXMgaW4gb3JkZXIgdG8gaGF2ZSBhIGtleVxuICAgICAgICAgIC8vIGJ5IHdoaWNoIHRvIHJlbWVtYmVyIHNhdmVkIHZhbHVlc1xuICAgICAgICAgIGlmICh0aGlzLl9fZm9sZGVyc1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhbHJlYWR5IGhhdmUgYSBmb2xkZXIgaW4gdGhpcyBHVUkgYnkgdGhlJyArXG4gICAgICAgICAgICAgICAgJyBuYW1lIFwiJyArIG5hbWUgKyAnXCInKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbmV3X2d1aV9wYXJhbXMgPSB7IG5hbWU6IG5hbWUsIHBhcmVudDogdGhpcyB9O1xuXG4gICAgICAgICAgLy8gV2UgbmVlZCB0byBwYXNzIGRvd24gdGhlIGF1dG9QbGFjZSB0cmFpdCBzbyB0aGF0IHdlIGNhblxuICAgICAgICAgIC8vIGF0dGFjaCBldmVudCBsaXN0ZW5lcnMgdG8gb3Blbi9jbG9zZSBmb2xkZXIgYWN0aW9ucyB0b1xuICAgICAgICAgIC8vIGVuc3VyZSB0aGF0IGEgc2Nyb2xsYmFyIGFwcGVhcnMgaWYgdGhlIHdpbmRvdyBpcyB0b28gc2hvcnQuXG4gICAgICAgICAgbmV3X2d1aV9wYXJhbXMuYXV0b1BsYWNlID0gdGhpcy5hdXRvUGxhY2U7XG5cbiAgICAgICAgICAvLyBEbyB3ZSBoYXZlIHNhdmVkIGFwcGVhcmFuY2UgZGF0YSBmb3IgdGhpcyBmb2xkZXI/XG5cbiAgICAgICAgICBpZiAodGhpcy5sb2FkICYmIC8vIEFueXRoaW5nIGxvYWRlZD9cbiAgICAgICAgICAgICAgdGhpcy5sb2FkLmZvbGRlcnMgJiYgLy8gV2FzIG15IHBhcmVudCBhIGRlYWQtZW5kP1xuICAgICAgICAgICAgICB0aGlzLmxvYWQuZm9sZGVyc1tuYW1lXSkgeyAvLyBEaWQgZGFkZHkgcmVtZW1iZXIgbWU/XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IG1lIGNsb3NlZCBpZiBJIHdhcyBjbG9zZWRcbiAgICAgICAgICAgIG5ld19ndWlfcGFyYW1zLmNsb3NlZCA9IHRoaXMubG9hZC5mb2xkZXJzW25hbWVdLmNsb3NlZDtcblxuICAgICAgICAgICAgLy8gUGFzcyBkb3duIHRoZSBsb2FkZWQgZGF0YVxuICAgICAgICAgICAgbmV3X2d1aV9wYXJhbXMubG9hZCA9IHRoaXMubG9hZC5mb2xkZXJzW25hbWVdO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGd1aSA9IG5ldyBHVUkobmV3X2d1aV9wYXJhbXMpO1xuICAgICAgICAgIHRoaXMuX19mb2xkZXJzW25hbWVdID0gZ3VpO1xuXG4gICAgICAgICAgdmFyIGxpID0gYWRkUm93KHRoaXMsIGd1aS5kb21FbGVtZW50KTtcbiAgICAgICAgICBkb20uYWRkQ2xhc3MobGksICdmb2xkZXInKTtcbiAgICAgICAgICByZXR1cm4gZ3VpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgIHZhciByb290ID0gdGhpcy5nZXRSb290KCk7XG5cbiAgICAgICAgICBpZiAocm9vdC5zY3JvbGxhYmxlKSB7XG5cbiAgICAgICAgICAgIHZhciB0b3AgPSBkb20uZ2V0T2Zmc2V0KHJvb3QuX191bCkudG9wO1xuICAgICAgICAgICAgdmFyIGggPSAwO1xuXG4gICAgICAgICAgICBjb21tb24uZWFjaChyb290Ll9fdWwuY2hpbGROb2RlcywgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICBpZiAoISAocm9vdC5hdXRvUGxhY2UgJiYgbm9kZSA9PT0gcm9vdC5fX3NhdmVfcm93KSlcbiAgICAgICAgICAgICAgICBoICs9IGRvbS5nZXRIZWlnaHQobm9kZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCAtIHRvcCAtIENMT1NFX0JVVFRPTl9IRUlHSFQgPCBoKSB7XG4gICAgICAgICAgICAgIGRvbS5hZGRDbGFzcyhyb290LmRvbUVsZW1lbnQsIEdVSS5DTEFTU19UT09fVEFMTCk7XG4gICAgICAgICAgICAgIHJvb3QuX191bC5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSB0b3AgLSBDTE9TRV9CVVRUT05fSEVJR0hUICsgJ3B4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRvbS5yZW1vdmVDbGFzcyhyb290LmRvbUVsZW1lbnQsIEdVSS5DTEFTU19UT09fVEFMTCk7XG4gICAgICAgICAgICAgIHJvb3QuX191bC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocm9vdC5fX3Jlc2l6ZV9oYW5kbGUpIHtcbiAgICAgICAgICAgIGNvbW1vbi5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcm9vdC5fX3Jlc2l6ZV9oYW5kbGUuc3R5bGUuaGVpZ2h0ID0gcm9vdC5fX3VsLm9mZnNldEhlaWdodCArICdweCc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocm9vdC5fX2Nsb3NlQnV0dG9uKSB7XG4gICAgICAgICAgICByb290Ll9fY2xvc2VCdXR0b24uc3R5bGUud2lkdGggPSByb290LndpZHRoICsgJ3B4JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFyayBvYmplY3RzIGZvciBzYXZpbmcuIFRoZSBvcmRlciBvZiB0aGVzZSBvYmplY3RzIGNhbm5vdCBjaGFuZ2UgYXNcbiAgICAgICAgICogdGhlIEdVSSBncm93cy4gV2hlbiByZW1lbWJlcmluZyBuZXcgb2JqZWN0cywgYXBwZW5kIHRoZW0gdG8gdGhlIGVuZFxuICAgICAgICAgKiBvZiB0aGUgbGlzdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3QuLi59IG9iamVjdHNcbiAgICAgICAgICogQHRocm93cyB7RXJyb3J9IGlmIG5vdCBjYWxsZWQgb24gYSB0b3AgbGV2ZWwgR1VJLlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHJlbWVtYmVyOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgIGlmIChjb21tb24uaXNVbmRlZmluZWQoU0FWRV9ESUFMT0dVRSkpIHtcbiAgICAgICAgICAgIFNBVkVfRElBTE9HVUUgPSBuZXcgQ2VudGVyZWREaXYoKTtcbiAgICAgICAgICAgIFNBVkVfRElBTE9HVUUuZG9tRWxlbWVudC5pbm5lckhUTUwgPSBzYXZlRGlhbG9ndWVDb250ZW50cztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW4gb25seSBjYWxsIHJlbWVtYmVyIG9uIGEgdG9wIGxldmVsIEdVSS5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgIGNvbW1vbi5lYWNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgYWRkU2F2ZU1lbnUoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMuaW5kZXhPZihvYmplY3QpID09IC0xKSB7XG4gICAgICAgICAgICAgIF90aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMucHVzaChvYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHRoaXMuYXV0b1BsYWNlKSB7XG4gICAgICAgICAgICAvLyBTZXQgc2F2ZSByb3cgd2lkdGhcbiAgICAgICAgICAgIHNldFdpZHRoKHRoaXMsIHRoaXMud2lkdGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7ZGF0Lmd1aS5HVUl9IHRoZSB0b3Btb3N0IHBhcmVudCBHVUkgb2YgYSBuZXN0ZWQgR1VJLlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGdldFJvb3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBndWkgPSB0aGlzO1xuICAgICAgICAgIHdoaWxlIChndWkucGFyZW50KSB7XG4gICAgICAgICAgICBndWkgPSBndWkucGFyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZ3VpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBhIEpTT04gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdGF0ZSBvZlxuICAgICAgICAgKiB0aGlzIEdVSSBhcyB3ZWxsIGFzIGl0cyByZW1lbWJlcmVkIHByb3BlcnRpZXMuXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2F2ZU9iamVjdDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICB2YXIgdG9SZXR1cm4gPSB0aGlzLmxvYWQ7XG5cbiAgICAgICAgICB0b1JldHVybi5jbG9zZWQgPSB0aGlzLmNsb3NlZDtcblxuICAgICAgICAgIC8vIEFtIEkgcmVtZW1iZXJpbmcgYW55IHZhbHVlcz9cbiAgICAgICAgICBpZiAodGhpcy5fX3JlbWVtYmVyZWRPYmplY3RzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgdG9SZXR1cm4ucHJlc2V0ID0gdGhpcy5wcmVzZXQ7XG5cbiAgICAgICAgICAgIGlmICghdG9SZXR1cm4ucmVtZW1iZXJlZCkge1xuICAgICAgICAgICAgICB0b1JldHVybi5yZW1lbWJlcmVkID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRvUmV0dXJuLnJlbWVtYmVyZWRbdGhpcy5wcmVzZXRdID0gZ2V0Q3VycmVudFByZXNldCh0aGlzKTtcblxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRvUmV0dXJuLmZvbGRlcnMgPSB7fTtcbiAgICAgICAgICBjb21tb24uZWFjaCh0aGlzLl9fZm9sZGVycywgZnVuY3Rpb24oZWxlbWVudCwga2V5KSB7XG4gICAgICAgICAgICB0b1JldHVybi5mb2xkZXJzW2tleV0gPSBlbGVtZW50LmdldFNhdmVPYmplY3QoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiB0b1JldHVybjtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgaWYgKCF0aGlzLmxvYWQucmVtZW1iZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2FkLnJlbWVtYmVyZWQgPSB7fTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmxvYWQucmVtZW1iZXJlZFt0aGlzLnByZXNldF0gPSBnZXRDdXJyZW50UHJlc2V0KHRoaXMpO1xuICAgICAgICAgIG1hcmtQcmVzZXRNb2RpZmllZCh0aGlzLCBmYWxzZSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzYXZlQXM6IGZ1bmN0aW9uKHByZXNldE5hbWUpIHtcblxuICAgICAgICAgIGlmICghdGhpcy5sb2FkLnJlbWVtYmVyZWQpIHtcblxuICAgICAgICAgICAgLy8gUmV0YWluIGRlZmF1bHQgdmFsdWVzIHVwb24gZmlyc3Qgc2F2ZVxuICAgICAgICAgICAgdGhpcy5sb2FkLnJlbWVtYmVyZWQgPSB7fTtcbiAgICAgICAgICAgIHRoaXMubG9hZC5yZW1lbWJlcmVkW0RFRkFVTFRfREVGQVVMVF9QUkVTRVRfTkFNRV0gPSBnZXRDdXJyZW50UHJlc2V0KHRoaXMsIHRydWUpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5sb2FkLnJlbWVtYmVyZWRbcHJlc2V0TmFtZV0gPSBnZXRDdXJyZW50UHJlc2V0KHRoaXMpO1xuICAgICAgICAgIHRoaXMucHJlc2V0ID0gcHJlc2V0TmFtZTtcbiAgICAgICAgICBhZGRQcmVzZXRPcHRpb24odGhpcywgcHJlc2V0TmFtZSwgdHJ1ZSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZXZlcnQ6IGZ1bmN0aW9uKGd1aSkge1xuXG4gICAgICAgICAgY29tbW9uLmVhY2godGhpcy5fX2NvbnRyb2xsZXJzLCBmdW5jdGlvbihjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAvLyBNYWtlIHJldmVydCB3b3JrIG9uIERlZmF1bHQuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0Um9vdCgpLmxvYWQucmVtZW1iZXJlZCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlKGNvbnRyb2xsZXIuaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlY2FsbFNhdmVkVmFsdWUoZ3VpIHx8IHRoaXMuZ2V0Um9vdCgpLCBjb250cm9sbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgIGNvbW1vbi5lYWNoKHRoaXMuX19mb2xkZXJzLCBmdW5jdGlvbihmb2xkZXIpIHtcbiAgICAgICAgICAgIGZvbGRlci5yZXZlcnQoZm9sZGVyKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghZ3VpKSB7XG4gICAgICAgICAgICBtYXJrUHJlc2V0TW9kaWZpZWQodGhpcy5nZXRSb290KCksIGZhbHNlKTtcbiAgICAgICAgICB9XG5cblxuICAgICAgICB9LFxuXG4gICAgICAgIGxpc3RlbjogZnVuY3Rpb24oY29udHJvbGxlcikge1xuXG4gICAgICAgICAgdmFyIGluaXQgPSB0aGlzLl9fbGlzdGVuaW5nLmxlbmd0aCA9PSAwO1xuICAgICAgICAgIHRoaXMuX19saXN0ZW5pbmcucHVzaChjb250cm9sbGVyKTtcbiAgICAgICAgICBpZiAoaW5pdCkgdXBkYXRlRGlzcGxheXModGhpcy5fX2xpc3RlbmluZyk7XG5cbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgKTtcblxuICBmdW5jdGlvbiBhZGQoZ3VpLCBvYmplY3QsIHByb3BlcnR5LCBwYXJhbXMpIHtcblxuICAgIGlmIChvYmplY3RbcHJvcGVydHldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk9iamVjdCBcIiArIG9iamVjdCArIFwiIGhhcyBubyBwcm9wZXJ0eSBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIlwiKTtcbiAgICB9XG5cbiAgICB2YXIgY29udHJvbGxlcjtcblxuICAgIGlmIChwYXJhbXMuY29sb3IpIHtcblxuICAgICAgY29udHJvbGxlciA9IG5ldyBDb2xvckNvbnRyb2xsZXIob2JqZWN0LCBwcm9wZXJ0eSk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICB2YXIgZmFjdG9yeUFyZ3MgPSBbb2JqZWN0LHByb3BlcnR5XS5jb25jYXQocGFyYW1zLmZhY3RvcnlBcmdzKTtcbiAgICAgIGNvbnRyb2xsZXIgPSBjb250cm9sbGVyRmFjdG9yeS5hcHBseShndWksIGZhY3RvcnlBcmdzKTtcblxuICAgIH1cblxuICAgIGlmIChwYXJhbXMuYmVmb3JlIGluc3RhbmNlb2YgQ29udHJvbGxlcikge1xuICAgICAgcGFyYW1zLmJlZm9yZSA9IHBhcmFtcy5iZWZvcmUuX19saTtcbiAgICB9XG5cbiAgICByZWNhbGxTYXZlZFZhbHVlKGd1aSwgY29udHJvbGxlcik7XG5cbiAgICBkb20uYWRkQ2xhc3MoY29udHJvbGxlci5kb21FbGVtZW50LCAnYycpO1xuXG4gICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgZG9tLmFkZENsYXNzKG5hbWUsICdwcm9wZXJ0eS1uYW1lJyk7XG4gICAgbmFtZS5pbm5lckhUTUwgPSBjb250cm9sbGVyLnByb3BlcnR5O1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChuYW1lKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbGxlci5kb21FbGVtZW50KTtcblxuICAgIHZhciBsaSA9IGFkZFJvdyhndWksIGNvbnRhaW5lciwgcGFyYW1zLmJlZm9yZSk7XG5cbiAgICBkb20uYWRkQ2xhc3MobGksIEdVSS5DTEFTU19DT05UUk9MTEVSX1JPVyk7XG4gICAgZG9tLmFkZENsYXNzKGxpLCB0eXBlb2YgY29udHJvbGxlci5nZXRWYWx1ZSgpKTtcblxuICAgIGF1Z21lbnRDb250cm9sbGVyKGd1aSwgbGksIGNvbnRyb2xsZXIpO1xuXG4gICAgZ3VpLl9fY29udHJvbGxlcnMucHVzaChjb250cm9sbGVyKTtcblxuICAgIHJldHVybiBjb250cm9sbGVyO1xuXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgcm93IHRvIHRoZSBlbmQgb2YgdGhlIEdVSSBvciBiZWZvcmUgYW5vdGhlciByb3cuXG4gICAqXG4gICAqIEBwYXJhbSBndWlcbiAgICogQHBhcmFtIFtkb21dIElmIHNwZWNpZmllZCwgaW5zZXJ0cyB0aGUgZG9tIGNvbnRlbnQgaW4gdGhlIG5ldyByb3dcbiAgICogQHBhcmFtIFtsaUJlZm9yZV0gSWYgc3BlY2lmaWVkLCBwbGFjZXMgdGhlIG5ldyByb3cgYmVmb3JlIGFub3RoZXIgcm93XG4gICAqL1xuICBmdW5jdGlvbiBhZGRSb3coZ3VpLCBkb20sIGxpQmVmb3JlKSB7XG4gICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBpZiAoZG9tKSBsaS5hcHBlbmRDaGlsZChkb20pO1xuICAgIGlmIChsaUJlZm9yZSkge1xuICAgICAgZ3VpLl9fdWwuaW5zZXJ0QmVmb3JlKGxpLCBwYXJhbXMuYmVmb3JlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ3VpLl9fdWwuYXBwZW5kQ2hpbGQobGkpO1xuICAgIH1cbiAgICBndWkub25SZXNpemUoKTtcbiAgICByZXR1cm4gbGk7XG4gIH1cblxuICBmdW5jdGlvbiBhdWdtZW50Q29udHJvbGxlcihndWksIGxpLCBjb250cm9sbGVyKSB7XG5cbiAgICBjb250cm9sbGVyLl9fbGkgPSBsaTtcbiAgICBjb250cm9sbGVyLl9fZ3VpID0gZ3VpO1xuXG4gICAgY29tbW9uLmV4dGVuZChjb250cm9sbGVyLCB7XG5cbiAgICAgIG9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBjb250cm9sbGVyLnJlbW92ZSgpO1xuXG4gICAgICAgICAgcmV0dXJuIGFkZChcbiAgICAgICAgICAgICAgZ3VpLFxuICAgICAgICAgICAgICBjb250cm9sbGVyLm9iamVjdCxcbiAgICAgICAgICAgICAgY29udHJvbGxlci5wcm9wZXJ0eSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJlZm9yZTogY29udHJvbGxlci5fX2xpLm5leHRFbGVtZW50U2libGluZyxcbiAgICAgICAgICAgICAgICBmYWN0b3J5QXJnczogW2NvbW1vbi50b0FycmF5KGFyZ3VtZW50cyldXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tbW9uLmlzQXJyYXkob3B0aW9ucykgfHwgY29tbW9uLmlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgICAgY29udHJvbGxlci5yZW1vdmUoKTtcblxuICAgICAgICAgIHJldHVybiBhZGQoXG4gICAgICAgICAgICAgIGd1aSxcbiAgICAgICAgICAgICAgY29udHJvbGxlci5vYmplY3QsXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIucHJvcGVydHksXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiZWZvcmU6IGNvbnRyb2xsZXIuX19saS5uZXh0RWxlbWVudFNpYmxpbmcsXG4gICAgICAgICAgICAgICAgZmFjdG9yeUFyZ3M6IFtvcHRpb25zXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgKTtcblxuICAgICAgICB9XG5cbiAgICAgIH0sXG5cbiAgICAgIG5hbWU6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgY29udHJvbGxlci5fX2xpLmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkLmlubmVySFRNTCA9IHY7XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyO1xuICAgICAgfSxcblxuICAgICAgbGlzdGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29udHJvbGxlci5fX2d1aS5saXN0ZW4oY29udHJvbGxlcik7XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29udHJvbGxlci5fX2d1aS5yZW1vdmUoY29udHJvbGxlcik7XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyO1xuICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAvLyBBbGwgc2xpZGVycyBzaG91bGQgYmUgYWNjb21wYW5pZWQgYnkgYSBib3guXG4gICAgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBOdW1iZXJDb250cm9sbGVyU2xpZGVyKSB7XG5cbiAgICAgIHZhciBib3ggPSBuZXcgTnVtYmVyQ29udHJvbGxlckJveChjb250cm9sbGVyLm9iamVjdCwgY29udHJvbGxlci5wcm9wZXJ0eSxcbiAgICAgICAgICB7IG1pbjogY29udHJvbGxlci5fX21pbiwgbWF4OiBjb250cm9sbGVyLl9fbWF4LCBzdGVwOiBjb250cm9sbGVyLl9fc3RlcCB9KTtcblxuICAgICAgY29tbW9uLmVhY2goWyd1cGRhdGVEaXNwbGF5JywgJ29uQ2hhbmdlJywgJ29uRmluaXNoQ2hhbmdlJ10sIGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICB2YXIgcGMgPSBjb250cm9sbGVyW21ldGhvZF07XG4gICAgICAgIHZhciBwYiA9IGJveFttZXRob2RdO1xuICAgICAgICBjb250cm9sbGVyW21ldGhvZF0gPSBib3hbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICBwYy5hcHBseShjb250cm9sbGVyLCBhcmdzKTtcbiAgICAgICAgICByZXR1cm4gcGIuYXBwbHkoYm94LCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGRvbS5hZGRDbGFzcyhsaSwgJ2hhcy1zbGlkZXInKTtcbiAgICAgIGNvbnRyb2xsZXIuZG9tRWxlbWVudC5pbnNlcnRCZWZvcmUoYm94LmRvbUVsZW1lbnQsIGNvbnRyb2xsZXIuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICB9XG4gICAgZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIE51bWJlckNvbnRyb2xsZXJCb3gpIHtcblxuICAgICAgdmFyIHIgPSBmdW5jdGlvbihyZXR1cm5lZCkge1xuXG4gICAgICAgIC8vIEhhdmUgd2UgZGVmaW5lZCBib3RoIGJvdW5kYXJpZXM/XG4gICAgICAgIGlmIChjb21tb24uaXNOdW1iZXIoY29udHJvbGxlci5fX21pbikgJiYgY29tbW9uLmlzTnVtYmVyKGNvbnRyb2xsZXIuX19tYXgpKSB7XG5cbiAgICAgICAgICAvLyBXZWxsLCB0aGVuIGxldHMganVzdCByZXBsYWNlIHRoaXMgd2l0aCBhIHNsaWRlci5cbiAgICAgICAgICBjb250cm9sbGVyLnJlbW92ZSgpO1xuICAgICAgICAgIHJldHVybiBhZGQoXG4gICAgICAgICAgICAgIGd1aSxcbiAgICAgICAgICAgICAgY29udHJvbGxlci5vYmplY3QsXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIucHJvcGVydHksXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiZWZvcmU6IGNvbnRyb2xsZXIuX19saS5uZXh0RWxlbWVudFNpYmxpbmcsXG4gICAgICAgICAgICAgICAgZmFjdG9yeUFyZ3M6IFtjb250cm9sbGVyLl9fbWluLCBjb250cm9sbGVyLl9fbWF4LCBjb250cm9sbGVyLl9fc3RlcF1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXR1cm5lZDtcblxuICAgICAgfTtcblxuICAgICAgY29udHJvbGxlci5taW4gPSBjb21tb24uY29tcG9zZShyLCBjb250cm9sbGVyLm1pbik7XG4gICAgICBjb250cm9sbGVyLm1heCA9IGNvbW1vbi5jb21wb3NlKHIsIGNvbnRyb2xsZXIubWF4KTtcblxuICAgIH1cbiAgICBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgQm9vbGVhbkNvbnRyb2xsZXIpIHtcblxuICAgICAgZG9tLmJpbmQobGksICdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBkb20uZmFrZUV2ZW50KGNvbnRyb2xsZXIuX19jaGVja2JveCwgJ2NsaWNrJyk7XG4gICAgICB9KTtcblxuICAgICAgZG9tLmJpbmQoY29udHJvbGxlci5fX2NoZWNrYm94LCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFByZXZlbnRzIGRvdWJsZS10b2dnbGVcbiAgICAgIH0pXG5cbiAgICB9XG4gICAgZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIEZ1bmN0aW9uQ29udHJvbGxlcikge1xuXG4gICAgICBkb20uYmluZChsaSwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvbS5mYWtlRXZlbnQoY29udHJvbGxlci5fX2J1dHRvbiwgJ2NsaWNrJyk7XG4gICAgICB9KTtcblxuICAgICAgZG9tLmJpbmQobGksICdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZG9tLmFkZENsYXNzKGNvbnRyb2xsZXIuX19idXR0b24sICdob3ZlcicpO1xuICAgICAgfSk7XG5cbiAgICAgIGRvbS5iaW5kKGxpLCAnbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZG9tLnJlbW92ZUNsYXNzKGNvbnRyb2xsZXIuX19idXR0b24sICdob3ZlcicpO1xuICAgICAgfSk7XG5cbiAgICB9XG4gICAgZWxzZSBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIENvbG9yQ29udHJvbGxlcikge1xuXG4gICAgICBkb20uYWRkQ2xhc3MobGksICdjb2xvcicpO1xuICAgICAgY29udHJvbGxlci51cGRhdGVEaXNwbGF5ID0gY29tbW9uLmNvbXBvc2UoZnVuY3Rpb24ocikge1xuICAgICAgICBsaS5zdHlsZS5ib3JkZXJMZWZ0Q29sb3IgPSBjb250cm9sbGVyLl9fY29sb3IudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9LCBjb250cm9sbGVyLnVwZGF0ZURpc3BsYXkpO1xuXG4gICAgICBjb250cm9sbGVyLnVwZGF0ZURpc3BsYXkoKTtcblxuICAgIH1cblxuICAgIGNvbnRyb2xsZXIuc2V0VmFsdWUgPSBjb21tb24uY29tcG9zZShmdW5jdGlvbihyKSB7XG4gICAgICBpZiAoZ3VpLmdldFJvb3QoKS5fX3ByZXNldF9zZWxlY3QgJiYgY29udHJvbGxlci5pc01vZGlmaWVkKCkpIHtcbiAgICAgICAgbWFya1ByZXNldE1vZGlmaWVkKGd1aS5nZXRSb290KCksIHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHI7XG4gICAgfSwgY29udHJvbGxlci5zZXRWYWx1ZSk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY2FsbFNhdmVkVmFsdWUoZ3VpLCBjb250cm9sbGVyKSB7XG5cbiAgICAvLyBGaW5kIHRoZSB0b3Btb3N0IEdVSSwgdGhhdCdzIHdoZXJlIHJlbWVtYmVyZWQgb2JqZWN0cyBsaXZlLlxuICAgIHZhciByb290ID0gZ3VpLmdldFJvb3QoKTtcblxuICAgIC8vIERvZXMgdGhlIG9iamVjdCB3ZSdyZSBjb250cm9sbGluZyBtYXRjaCBhbnl0aGluZyB3ZSd2ZSBiZWVuIHRvbGQgdG9cbiAgICAvLyByZW1lbWJlcj9cbiAgICB2YXIgbWF0Y2hlZF9pbmRleCA9IHJvb3QuX19yZW1lbWJlcmVkT2JqZWN0cy5pbmRleE9mKGNvbnRyb2xsZXIub2JqZWN0KTtcblxuICAgIC8vIFdoeSB5ZXMsIGl0IGRvZXMhXG4gICAgaWYgKG1hdGNoZWRfaW5kZXggIT0gLTEpIHtcblxuICAgICAgLy8gTGV0IG1lIGZldGNoIGEgbWFwIG9mIGNvbnRyb2xsZXJzIGZvciB0aGNvbW1vbi5pc09iamVjdC5cbiAgICAgIHZhciBjb250cm9sbGVyX21hcCA9XG4gICAgICAgICAgcm9vdC5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1ttYXRjaGVkX2luZGV4XTtcblxuICAgICAgLy8gT2hwLCBJIGJlbGlldmUgdGhpcyBpcyB0aGUgZmlyc3QgY29udHJvbGxlciB3ZSd2ZSBjcmVhdGVkIGZvciB0aGlzXG4gICAgICAvLyBvYmplY3QuIExldHMgbWFrZSB0aGUgbWFwIGZyZXNoLlxuICAgICAgaWYgKGNvbnRyb2xsZXJfbWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udHJvbGxlcl9tYXAgPSB7fTtcbiAgICAgICAgcm9vdC5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1ttYXRjaGVkX2luZGV4XSA9XG4gICAgICAgICAgICBjb250cm9sbGVyX21hcDtcbiAgICAgIH1cblxuICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGlzIGNvbnRyb2xsZXJcbiAgICAgIGNvbnRyb2xsZXJfbWFwW2NvbnRyb2xsZXIucHJvcGVydHldID0gY29udHJvbGxlcjtcblxuICAgICAgLy8gT2theSwgbm93IGhhdmUgd2Ugc2F2ZWQgYW55IHZhbHVlcyBmb3IgdGhpcyBjb250cm9sbGVyP1xuICAgICAgaWYgKHJvb3QubG9hZCAmJiByb290LmxvYWQucmVtZW1iZXJlZCkge1xuXG4gICAgICAgIHZhciBwcmVzZXRfbWFwID0gcm9vdC5sb2FkLnJlbWVtYmVyZWQ7XG5cbiAgICAgICAgLy8gV2hpY2ggcHJlc2V0IGFyZSB3ZSB0cnlpbmcgdG8gbG9hZD9cbiAgICAgICAgdmFyIHByZXNldDtcblxuICAgICAgICBpZiAocHJlc2V0X21hcFtndWkucHJlc2V0XSkge1xuXG4gICAgICAgICAgcHJlc2V0ID0gcHJlc2V0X21hcFtndWkucHJlc2V0XTtcblxuICAgICAgICB9IGVsc2UgaWYgKHByZXNldF9tYXBbREVGQVVMVF9ERUZBVUxUX1BSRVNFVF9OQU1FXSkge1xuXG4gICAgICAgICAgLy8gVWhoLCB5b3UgY2FuIGhhdmUgdGhlIGRlZmF1bHQgaW5zdGVhZD9cbiAgICAgICAgICBwcmVzZXQgPSBwcmVzZXRfbWFwW0RFRkFVTFRfREVGQVVMVF9QUkVTRVRfTkFNRV07XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIC8vIE5hZGEuXG5cbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gRGlkIHRoZSBsb2FkZWQgb2JqZWN0IHJlbWVtYmVyIHRoY29tbW9uLmlzT2JqZWN0P1xuICAgICAgICBpZiAocHJlc2V0W21hdGNoZWRfaW5kZXhdICYmXG5cbiAgICAgICAgICAvLyBEaWQgd2UgcmVtZW1iZXIgdGhpcyBwYXJ0aWN1bGFyIHByb3BlcnR5P1xuICAgICAgICAgICAgcHJlc2V0W21hdGNoZWRfaW5kZXhdW2NvbnRyb2xsZXIucHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgIC8vIFdlIGRpZCByZW1lbWJlciBzb21ldGhpbmcgZm9yIHRoaXMgZ3V5IC4uLlxuICAgICAgICAgIHZhciB2YWx1ZSA9IHByZXNldFttYXRjaGVkX2luZGV4XVtjb250cm9sbGVyLnByb3BlcnR5XTtcblxuICAgICAgICAgIC8vIEFuZCB0aGF0J3Mgd2hhdCBpdCBpcy5cbiAgICAgICAgICBjb250cm9sbGVyLmluaXRpYWxWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIGNvbnRyb2xsZXIuc2V0VmFsdWUodmFsdWUpO1xuXG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2VIYXNoKGd1aSwga2V5KSB7XG4gICAgLy8gVE9ETyBob3cgZG9lcyB0aGlzIGRlYWwgd2l0aCBtdWx0aXBsZSBHVUkncz9cbiAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb24uaHJlZiArICcuJyArIGtleTtcblxuICB9XG5cbiAgZnVuY3Rpb24gYWRkU2F2ZU1lbnUoZ3VpKSB7XG5cbiAgICB2YXIgZGl2ID0gZ3VpLl9fc2F2ZV9yb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXG4gICAgZG9tLmFkZENsYXNzKGd1aS5kb21FbGVtZW50LCAnaGFzLXNhdmUnKTtcblxuICAgIGd1aS5fX3VsLmluc2VydEJlZm9yZShkaXYsIGd1aS5fX3VsLmZpcnN0Q2hpbGQpO1xuXG4gICAgZG9tLmFkZENsYXNzKGRpdiwgJ3NhdmUtcm93Jyk7XG5cbiAgICB2YXIgZ2VhcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgZ2VhcnMuaW5uZXJIVE1MID0gJyZuYnNwOyc7XG4gICAgZG9tLmFkZENsYXNzKGdlYXJzLCAnYnV0dG9uIGdlYXJzJyk7XG5cbiAgICAvLyBUT0RPIHJlcGxhY2Ugd2l0aCBGdW5jdGlvbkNvbnRyb2xsZXJcbiAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnU2F2ZSc7XG4gICAgZG9tLmFkZENsYXNzKGJ1dHRvbiwgJ2J1dHRvbicpO1xuICAgIGRvbS5hZGRDbGFzcyhidXR0b24sICdzYXZlJyk7XG5cbiAgICB2YXIgYnV0dG9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBidXR0b24yLmlubmVySFRNTCA9ICdOZXcnO1xuICAgIGRvbS5hZGRDbGFzcyhidXR0b24yLCAnYnV0dG9uJyk7XG4gICAgZG9tLmFkZENsYXNzKGJ1dHRvbjIsICdzYXZlLWFzJyk7XG5cbiAgICB2YXIgYnV0dG9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBidXR0b24zLmlubmVySFRNTCA9ICdSZXZlcnQnO1xuICAgIGRvbS5hZGRDbGFzcyhidXR0b24zLCAnYnV0dG9uJyk7XG4gICAgZG9tLmFkZENsYXNzKGJ1dHRvbjMsICdyZXZlcnQnKTtcblxuICAgIHZhciBzZWxlY3QgPSBndWkuX19wcmVzZXRfc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG5cbiAgICBpZiAoZ3VpLmxvYWQgJiYgZ3VpLmxvYWQucmVtZW1iZXJlZCkge1xuXG4gICAgICBjb21tb24uZWFjaChndWkubG9hZC5yZW1lbWJlcmVkLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGFkZFByZXNldE9wdGlvbihndWksIGtleSwga2V5ID09IGd1aS5wcmVzZXQpO1xuICAgICAgfSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgYWRkUHJlc2V0T3B0aW9uKGd1aSwgREVGQVVMVF9ERUZBVUxUX1BSRVNFVF9OQU1FLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgZG9tLmJpbmQoc2VsZWN0LCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGd1aS5fX3ByZXNldF9zZWxlY3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGd1aS5fX3ByZXNldF9zZWxlY3RbaW5kZXhdLmlubmVySFRNTCA9IGd1aS5fX3ByZXNldF9zZWxlY3RbaW5kZXhdLnZhbHVlO1xuICAgICAgfVxuXG4gICAgICBndWkucHJlc2V0ID0gdGhpcy52YWx1ZTtcblxuICAgIH0pO1xuXG4gICAgZGl2LmFwcGVuZENoaWxkKHNlbGVjdCk7XG4gICAgZGl2LmFwcGVuZENoaWxkKGdlYXJzKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoYnV0dG9uMik7XG4gICAgZGl2LmFwcGVuZENoaWxkKGJ1dHRvbjMpO1xuXG4gICAgaWYgKFNVUFBPUlRTX0xPQ0FMX1NUT1JBR0UpIHtcblxuICAgICAgdmFyIHNhdmVMb2NhbGx5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RnLXNhdmUtbG9jYWxseScpO1xuICAgICAgdmFyIGV4cGxhaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGctbG9jYWwtZXhwbGFpbicpO1xuXG4gICAgICBzYXZlTG9jYWxseS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgdmFyIGxvY2FsU3RvcmFnZUNoZWNrQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RnLWxvY2FsLXN0b3JhZ2UnKTtcblxuICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGdldExvY2FsU3RvcmFnZUhhc2goZ3VpLCAnaXNMb2NhbCcpKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZUNoZWNrQm94LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICdjaGVja2VkJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNob3dIaWRlRXhwbGFpbigpIHtcbiAgICAgICAgZXhwbGFpbi5zdHlsZS5kaXNwbGF5ID0gZ3VpLnVzZUxvY2FsU3RvcmFnZSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICB9XG5cbiAgICAgIHNob3dIaWRlRXhwbGFpbigpO1xuXG4gICAgICAvLyBUT0RPOiBVc2UgYSBib29sZWFuIGNvbnRyb2xsZXIsIGZvb2whXG4gICAgICBkb20uYmluZChsb2NhbFN0b3JhZ2VDaGVja0JveCwgJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBndWkudXNlTG9jYWxTdG9yYWdlID0gIWd1aS51c2VMb2NhbFN0b3JhZ2U7XG4gICAgICAgIHNob3dIaWRlRXhwbGFpbigpO1xuICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICB2YXIgbmV3Q29uc3RydWN0b3JUZXh0QXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZy1uZXctY29uc3RydWN0b3InKTtcblxuICAgIGRvbS5iaW5kKG5ld0NvbnN0cnVjdG9yVGV4dEFyZWEsICdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUubWV0YUtleSAmJiAoZS53aGljaCA9PT0gNjcgfHwgZS5rZXlDb2RlID09IDY3KSkge1xuICAgICAgICBTQVZFX0RJQUxPR1VFLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvbS5iaW5kKGdlYXJzLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIG5ld0NvbnN0cnVjdG9yVGV4dEFyZWEuaW5uZXJIVE1MID0gSlNPTi5zdHJpbmdpZnkoZ3VpLmdldFNhdmVPYmplY3QoKSwgdW5kZWZpbmVkLCAyKTtcbiAgICAgIFNBVkVfRElBTE9HVUUuc2hvdygpO1xuICAgICAgbmV3Q29uc3RydWN0b3JUZXh0QXJlYS5mb2N1cygpO1xuICAgICAgbmV3Q29uc3RydWN0b3JUZXh0QXJlYS5zZWxlY3QoKTtcbiAgICB9KTtcblxuICAgIGRvbS5iaW5kKGJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBndWkuc2F2ZSgpO1xuICAgIH0pO1xuXG4gICAgZG9tLmJpbmQoYnV0dG9uMiwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcHJlc2V0TmFtZSA9IHByb21wdCgnRW50ZXIgYSBuZXcgcHJlc2V0IG5hbWUuJyk7XG4gICAgICBpZiAocHJlc2V0TmFtZSkgZ3VpLnNhdmVBcyhwcmVzZXROYW1lKTtcbiAgICB9KTtcblxuICAgIGRvbS5iaW5kKGJ1dHRvbjMsICdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgZ3VpLnJldmVydCgpO1xuICAgIH0pO1xuXG4vLyAgICBkaXYuYXBwZW5kQ2hpbGQoYnV0dG9uMik7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFJlc2l6ZUhhbmRsZShndWkpIHtcblxuICAgIGd1aS5fX3Jlc2l6ZV9oYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGNvbW1vbi5leHRlbmQoZ3VpLl9fcmVzaXplX2hhbmRsZS5zdHlsZSwge1xuXG4gICAgICB3aWR0aDogJzZweCcsXG4gICAgICBtYXJnaW5MZWZ0OiAnLTNweCcsXG4gICAgICBoZWlnaHQ6ICcyMDBweCcsXG4gICAgICBjdXJzb3I6ICdldy1yZXNpemUnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbi8vICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIGJsdWUnXG5cbiAgICB9KTtcblxuICAgIHZhciBwbW91c2VYO1xuXG4gICAgZG9tLmJpbmQoZ3VpLl9fcmVzaXplX2hhbmRsZSwgJ21vdXNlZG93bicsIGRyYWdTdGFydCk7XG4gICAgZG9tLmJpbmQoZ3VpLl9fY2xvc2VCdXR0b24sICdtb3VzZWRvd24nLCBkcmFnU3RhcnQpO1xuXG4gICAgZ3VpLmRvbUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGd1aS5fX3Jlc2l6ZV9oYW5kbGUsIGd1aS5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKTtcblxuICAgIGZ1bmN0aW9uIGRyYWdTdGFydChlKSB7XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgcG1vdXNlWCA9IGUuY2xpZW50WDtcblxuICAgICAgZG9tLmFkZENsYXNzKGd1aS5fX2Nsb3NlQnV0dG9uLCBHVUkuQ0xBU1NfRFJBRyk7XG4gICAgICBkb20uYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBkcmFnKTtcbiAgICAgIGRvbS5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBkcmFnU3RvcCk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYWcoZSkge1xuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGd1aS53aWR0aCArPSBwbW91c2VYIC0gZS5jbGllbnRYO1xuICAgICAgZ3VpLm9uUmVzaXplKCk7XG4gICAgICBwbW91c2VYID0gZS5jbGllbnRYO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmFnU3RvcCgpIHtcblxuICAgICAgZG9tLnJlbW92ZUNsYXNzKGd1aS5fX2Nsb3NlQnV0dG9uLCBHVUkuQ0xBU1NfRFJBRyk7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIGRyYWcpO1xuICAgICAgZG9tLnVuYmluZCh3aW5kb3csICdtb3VzZXVwJywgZHJhZ1N0b3ApO1xuXG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBzZXRXaWR0aChndWksIHcpIHtcbiAgICBndWkuZG9tRWxlbWVudC5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuICAgIC8vIEF1dG8gcGxhY2VkIHNhdmUtcm93cyBhcmUgcG9zaXRpb24gZml4ZWQsIHNvIHdlIGhhdmUgdG9cbiAgICAvLyBzZXQgdGhlIHdpZHRoIG1hbnVhbGx5IGlmIHdlIHdhbnQgaXQgdG8gYmxlZWQgdG8gdGhlIGVkZ2VcbiAgICBpZiAoZ3VpLl9fc2F2ZV9yb3cgJiYgZ3VpLmF1dG9QbGFjZSkge1xuICAgICAgZ3VpLl9fc2F2ZV9yb3cuc3R5bGUud2lkdGggPSB3ICsgJ3B4JztcbiAgICB9aWYgKGd1aS5fX2Nsb3NlQnV0dG9uKSB7XG4gICAgICBndWkuX19jbG9zZUJ1dHRvbi5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRQcmVzZXQoZ3VpLCB1c2VJbml0aWFsVmFsdWVzKSB7XG5cbiAgICB2YXIgdG9SZXR1cm4gPSB7fTtcblxuICAgIC8vIEZvciBlYWNoIG9iamVjdCBJJ20gcmVtZW1iZXJpbmdcbiAgICBjb21tb24uZWFjaChndWkuX19yZW1lbWJlcmVkT2JqZWN0cywgZnVuY3Rpb24odmFsLCBpbmRleCkge1xuXG4gICAgICB2YXIgc2F2ZWRfdmFsdWVzID0ge307XG5cbiAgICAgIC8vIFRoZSBjb250cm9sbGVycyBJJ3ZlIG1hZGUgZm9yIHRoY29tbW9uLmlzT2JqZWN0IGJ5IHByb3BlcnR5XG4gICAgICB2YXIgY29udHJvbGxlcl9tYXAgPVxuICAgICAgICAgIGd1aS5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1tpbmRleF07XG5cbiAgICAgIC8vIFJlbWVtYmVyIGVhY2ggdmFsdWUgZm9yIGVhY2ggcHJvcGVydHlcbiAgICAgIGNvbW1vbi5lYWNoKGNvbnRyb2xsZXJfbWFwLCBmdW5jdGlvbihjb250cm9sbGVyLCBwcm9wZXJ0eSkge1xuICAgICAgICBzYXZlZF92YWx1ZXNbcHJvcGVydHldID0gdXNlSW5pdGlhbFZhbHVlcyA/IGNvbnRyb2xsZXIuaW5pdGlhbFZhbHVlIDogY29udHJvbGxlci5nZXRWYWx1ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNhdmUgdGhlIHZhbHVlcyBmb3IgdGhjb21tb24uaXNPYmplY3RcbiAgICAgIHRvUmV0dXJuW2luZGV4XSA9IHNhdmVkX3ZhbHVlcztcblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRvUmV0dXJuO1xuXG4gIH1cblxuICBmdW5jdGlvbiBhZGRQcmVzZXRPcHRpb24oZ3VpLCBuYW1lLCBzZXRTZWxlY3RlZCkge1xuICAgIHZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBvcHQuaW5uZXJIVE1MID0gbmFtZTtcbiAgICBvcHQudmFsdWUgPSBuYW1lO1xuICAgIGd1aS5fX3ByZXNldF9zZWxlY3QuYXBwZW5kQ2hpbGQob3B0KTtcbiAgICBpZiAoc2V0U2VsZWN0ZWQpIHtcbiAgICAgIGd1aS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleCA9IGd1aS5fX3ByZXNldF9zZWxlY3QubGVuZ3RoIC0gMTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRQcmVzZXRTZWxlY3RJbmRleChndWkpIHtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZ3VpLl9fcHJlc2V0X3NlbGVjdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGlmIChndWkuX19wcmVzZXRfc2VsZWN0W2luZGV4XS52YWx1ZSA9PSBndWkucHJlc2V0KSB7XG4gICAgICAgIGd1aS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcmtQcmVzZXRNb2RpZmllZChndWksIG1vZGlmaWVkKSB7XG4gICAgdmFyIG9wdCA9IGd1aS5fX3ByZXNldF9zZWxlY3RbZ3VpLl9fcHJlc2V0X3NlbGVjdC5zZWxlY3RlZEluZGV4XTtcbi8vICAgIGNvbnNvbGUubG9nKCdtYXJrJywgbW9kaWZpZWQsIG9wdCk7XG4gICAgaWYgKG1vZGlmaWVkKSB7XG4gICAgICBvcHQuaW5uZXJIVE1MID0gb3B0LnZhbHVlICsgXCIqXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdC5pbm5lckhUTUwgPSBvcHQudmFsdWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRGlzcGxheXMoY29udHJvbGxlckFycmF5KSB7XG5cblxuICAgIGlmIChjb250cm9sbGVyQXJyYXkubGVuZ3RoICE9IDApIHtcblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICB1cGRhdGVEaXNwbGF5cyhjb250cm9sbGVyQXJyYXkpO1xuICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBjb21tb24uZWFjaChjb250cm9sbGVyQXJyYXksIGZ1bmN0aW9uKGMpIHtcbiAgICAgIGMudXBkYXRlRGlzcGxheSgpO1xuICAgIH0pO1xuXG4gIH1cblxuICByZXR1cm4gR1VJO1xuXG59KShkYXQudXRpbHMuY3NzLFxuXCI8ZGl2IGlkPVxcXCJkZy1zYXZlXFxcIiBjbGFzcz1cXFwiZGcgZGlhbG9ndWVcXFwiPlxcblxcbiAgSGVyZSdzIHRoZSBuZXcgbG9hZCBwYXJhbWV0ZXIgZm9yIHlvdXIgPGNvZGU+R1VJPC9jb2RlPidzIGNvbnN0cnVjdG9yOlxcblxcbiAgPHRleHRhcmVhIGlkPVxcXCJkZy1uZXctY29uc3RydWN0b3JcXFwiPjwvdGV4dGFyZWE+XFxuXFxuICA8ZGl2IGlkPVxcXCJkZy1zYXZlLWxvY2FsbHlcXFwiPlxcblxcbiAgICA8aW5wdXQgaWQ9XFxcImRnLWxvY2FsLXN0b3JhZ2VcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIi8+IEF1dG9tYXRpY2FsbHkgc2F2ZVxcbiAgICB2YWx1ZXMgdG8gPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiBvbiBleGl0LlxcblxcbiAgICA8ZGl2IGlkPVxcXCJkZy1sb2NhbC1leHBsYWluXFxcIj5UaGUgdmFsdWVzIHNhdmVkIHRvIDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gd2lsbFxcbiAgICAgIG92ZXJyaWRlIHRob3NlIHBhc3NlZCB0byA8Y29kZT5kYXQuR1VJPC9jb2RlPidzIGNvbnN0cnVjdG9yLiBUaGlzIG1ha2VzIGl0XFxuICAgICAgZWFzaWVyIHRvIHdvcmsgaW5jcmVtZW50YWxseSwgYnV0IDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gaXMgZnJhZ2lsZSxcXG4gICAgICBhbmQgeW91ciBmcmllbmRzIG1heSBub3Qgc2VlIHRoZSBzYW1lIHZhbHVlcyB5b3UgZG8uXFxuICAgICAgXFxuICAgIDwvZGl2PlxcbiAgICBcXG4gIDwvZGl2PlxcblxcbjwvZGl2PlwiLFxuXCIuZGcgdWx7bGlzdC1zdHlsZTpub25lO21hcmdpbjowO3BhZGRpbmc6MDt3aWR0aDoxMDAlO2NsZWFyOmJvdGh9LmRnLmFje3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtyaWdodDowO2hlaWdodDowO3otaW5kZXg6MH0uZGc6bm90KC5hYykgLm1haW57b3ZlcmZsb3c6aGlkZGVufS5kZy5tYWluey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyOy1vLXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjstbW96LXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjt0cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXJ9LmRnLm1haW4udGFsbGVyLXRoYW4td2luZG93e292ZXJmbG93LXk6YXV0b30uZGcubWFpbi50YWxsZXItdGhhbi13aW5kb3cgLmNsb3NlLWJ1dHRvbntvcGFjaXR5OjE7bWFyZ2luLXRvcDotMXB4O2JvcmRlci10b3A6MXB4IHNvbGlkICMyYzJjMmN9LmRnLm1haW4gdWwuY2xvc2VkIC5jbG9zZS1idXR0b257b3BhY2l0eToxICFpbXBvcnRhbnR9LmRnLm1haW46aG92ZXIgLmNsb3NlLWJ1dHRvbiwuZGcubWFpbiAuY2xvc2UtYnV0dG9uLmRyYWd7b3BhY2l0eToxfS5kZy5tYWluIC5jbG9zZS1idXR0b257LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7LW8tdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyOy1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyO3RyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjtib3JkZXI6MDtwb3NpdGlvbjphYnNvbHV0ZTtsaW5lLWhlaWdodDoxOXB4O2hlaWdodDoyMHB4O2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQtY29sb3I6IzAwMH0uZGcubWFpbiAuY2xvc2UtYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzExMX0uZGcuYXtmbG9hdDpyaWdodDttYXJnaW4tcmlnaHQ6MTVweDtvdmVyZmxvdy14OmhpZGRlbn0uZGcuYS5oYXMtc2F2ZSB1bHttYXJnaW4tdG9wOjI3cHh9LmRnLmEuaGFzLXNhdmUgdWwuY2xvc2Vke21hcmdpbi10b3A6MH0uZGcuYSAuc2F2ZS1yb3d7cG9zaXRpb246Zml4ZWQ7dG9wOjA7ei1pbmRleDoxMDAyfS5kZyBsaXstd2Via2l0LXRyYW5zaXRpb246aGVpZ2h0IDAuMXMgZWFzZS1vdXQ7LW8tdHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dDstbW96LXRyYW5zaXRpb246aGVpZ2h0IDAuMXMgZWFzZS1vdXQ7dHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dH0uZGcgbGk6bm90KC5mb2xkZXIpe2N1cnNvcjphdXRvO2hlaWdodDoyN3B4O2xpbmUtaGVpZ2h0OjI3cHg7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MCA0cHggMCA1cHh9LmRnIGxpLmZvbGRlcntwYWRkaW5nOjA7Ym9yZGVyLWxlZnQ6NHB4IHNvbGlkIHJnYmEoMCwwLDAsMCl9LmRnIGxpLnRpdGxle2N1cnNvcjpwb2ludGVyO21hcmdpbi1sZWZ0Oi00cHh9LmRnIC5jbG9zZWQgbGk6bm90KC50aXRsZSksLmRnIC5jbG9zZWQgdWwgbGksLmRnIC5jbG9zZWQgdWwgbGkgPiAqe2hlaWdodDowO292ZXJmbG93OmhpZGRlbjtib3JkZXI6MH0uZGcgLmNye2NsZWFyOmJvdGg7cGFkZGluZy1sZWZ0OjNweDtoZWlnaHQ6MjdweH0uZGcgLnByb3BlcnR5LW5hbWV7Y3Vyc29yOmRlZmF1bHQ7ZmxvYXQ6bGVmdDtjbGVhcjpsZWZ0O3dpZHRoOjQwJTtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uZGcgLmN7ZmxvYXQ6bGVmdDt3aWR0aDo2MCV9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF17Ym9yZGVyOjA7bWFyZ2luLXRvcDo0cHg7cGFkZGluZzozcHg7d2lkdGg6MTAwJTtmbG9hdDpyaWdodH0uZGcgLmhhcy1zbGlkZXIgaW5wdXRbdHlwZT10ZXh0XXt3aWR0aDozMCU7bWFyZ2luLWxlZnQ6MH0uZGcgLnNsaWRlcntmbG9hdDpsZWZ0O3dpZHRoOjY2JTttYXJnaW4tbGVmdDotNXB4O21hcmdpbi1yaWdodDowO2hlaWdodDoxOXB4O21hcmdpbi10b3A6NHB4fS5kZyAuc2xpZGVyLWZne2hlaWdodDoxMDAlfS5kZyAuYyBpbnB1dFt0eXBlPWNoZWNrYm94XXttYXJnaW4tdG9wOjlweH0uZGcgLmMgc2VsZWN0e21hcmdpbi10b3A6NXB4fS5kZyAuY3IuZnVuY3Rpb24sLmRnIC5jci5mdW5jdGlvbiAucHJvcGVydHktbmFtZSwuZGcgLmNyLmZ1bmN0aW9uICosLmRnIC5jci5ib29sZWFuLC5kZyAuY3IuYm9vbGVhbiAqe2N1cnNvcjpwb2ludGVyfS5kZyAuc2VsZWN0b3J7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi1sZWZ0Oi05cHg7bWFyZ2luLXRvcDoyM3B4O3otaW5kZXg6MTB9LmRnIC5jOmhvdmVyIC5zZWxlY3RvciwuZGcgLnNlbGVjdG9yLmRyYWd7ZGlzcGxheTpibG9ja30uZGcgbGkuc2F2ZS1yb3d7cGFkZGluZzowfS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MHB4IDZweH0uZGcuZGlhbG9ndWV7YmFja2dyb3VuZC1jb2xvcjojMjIyO3dpZHRoOjQ2MHB4O3BhZGRpbmc6MTVweDtmb250LXNpemU6MTNweDtsaW5lLWhlaWdodDoxNXB4fSNkZy1uZXctY29uc3RydWN0b3J7cGFkZGluZzoxMHB4O2NvbG9yOiMyMjI7Zm9udC1mYW1pbHk6TW9uYWNvLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHg7Ym9yZGVyOjA7cmVzaXplOm5vbmU7Ym94LXNoYWRvdzppbnNldCAxcHggMXB4IDFweCAjODg4O3dvcmQtd3JhcDpicmVhay13b3JkO21hcmdpbjoxMnB4IDA7ZGlzcGxheTpibG9jazt3aWR0aDo0NDBweDtvdmVyZmxvdy15OnNjcm9sbDtoZWlnaHQ6MTAwcHg7cG9zaXRpb246cmVsYXRpdmV9I2RnLWxvY2FsLWV4cGxhaW57ZGlzcGxheTpub25lO2ZvbnQtc2l6ZToxMXB4O2xpbmUtaGVpZ2h0OjE3cHg7Ym9yZGVyLXJhZGl1czozcHg7YmFja2dyb3VuZC1jb2xvcjojMzMzO3BhZGRpbmc6OHB4O21hcmdpbi10b3A6MTBweH0jZGctbG9jYWwtZXhwbGFpbiBjb2Rle2ZvbnQtc2l6ZToxMHB4fSNkYXQtZ3VpLXNhdmUtbG9jYWxseXtkaXNwbGF5Om5vbmV9LmRne2NvbG9yOiNlZWU7Zm9udDoxMXB4ICdMdWNpZGEgR3JhbmRlJywgc2Fucy1zZXJpZjt0ZXh0LXNoYWRvdzowIC0xcHggMCAjMTExfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDo1cHg7YmFja2dyb3VuZDojMWExYTFhfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXJ7aGVpZ2h0OjA7ZGlzcGxheTpub25lfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOiM2NzY3Njd9LmRnIGxpOm5vdCguZm9sZGVyKXtiYWNrZ3JvdW5kOiMxYTFhMWE7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzJjMmMyY30uZGcgbGkuc2F2ZS1yb3d7bGluZS1oZWlnaHQ6MjVweDtiYWNrZ3JvdW5kOiNkYWQ1Y2I7Ym9yZGVyOjB9LmRnIGxpLnNhdmUtcm93IHNlbGVjdHttYXJnaW4tbGVmdDo1cHg7d2lkdGg6MTA4cHh9LmRnIGxpLnNhdmUtcm93IC5idXR0b257bWFyZ2luLWxlZnQ6NXB4O21hcmdpbi10b3A6MXB4O2JvcmRlci1yYWRpdXM6MnB4O2ZvbnQtc2l6ZTo5cHg7bGluZS1oZWlnaHQ6N3B4O3BhZGRpbmc6NHB4IDRweCA1cHggNHB4O2JhY2tncm91bmQ6I2M1YmRhZDtjb2xvcjojZmZmO3RleHQtc2hhZG93OjAgMXB4IDAgI2IwYTU4Zjtib3gtc2hhZG93OjAgLTFweCAwICNiMGE1OGY7Y3Vyc29yOnBvaW50ZXJ9LmRnIGxpLnNhdmUtcm93IC5idXR0b24uZ2VhcnN7YmFja2dyb3VuZDojYzViZGFkIHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFzQUFBQU5DQVlBQUFCLzlaUTdBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQVFKSlJFRlVlTnBpWUtBVS9QLy9Qd0dJQy9BcENBQmlCU0FXK0k4QUNsQWNnS3hRNFQ5aG9NQUVVcnh4MlFTR042K2VnRFgrL3ZXVDRlN044MkFNWW9QQXgvZXZ3V29Zb1NZYkFDWDJzN0t4Q3h6Y3NlekRoM2V2Rm9ERUJZVEVFcXljZ2dXQXpBOUF1VVNRUWdlWVBhOWZQdjYvWVdtL0FjeDVJUGI3dHkvZncrUVpibHc2N3ZEczhSMFlIeVFoZ09ieCt5QUprQnFtRzVkUFBEaDFhUE9HUi9ldWdXMEc0dmxJb1RJZnlGY0ErUWVraGhISmhQZFF4YmlBSWd1TUJUUVpyUEQ3MTA4TTZyb1dZREZRaUlBQXY2QW93LzFiRndYZ2lzK2YyTFVBeW53b0lhTmN6OFhOeDNEbDdNRUpVREdRcHg5Z3RROFlDdWVCK0QyNk9FQ0FBUURhZHQ3ZTQ2RDQyUUFBQUFCSlJVNUVya0pnZ2c9PSkgMnB4IDFweCBuby1yZXBlYXQ7aGVpZ2h0OjdweDt3aWR0aDo4cHh9LmRnIGxpLnNhdmUtcm93IC5idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojYmFiMTllO2JveC1zaGFkb3c6MCAtMXB4IDAgI2IwYTU4Zn0uZGcgbGkuZm9sZGVye2JvcmRlci1ib3R0b206MH0uZGcgbGkudGl0bGV7cGFkZGluZy1sZWZ0OjE2cHg7YmFja2dyb3VuZDojMDAwIHVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEkraEtnRnhvQ2dBT3c9PSkgNnB4IDEwcHggbm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4yKX0uZGcgLmNsb3NlZCBsaS50aXRsZXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEdJV3FNQ2JXQUVBT3c9PSl9LmRnIC5jci5ib29sZWFue2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjODA2Nzg3fS5kZyAuY3IuZnVuY3Rpb257Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICNlNjFkNWZ9LmRnIC5jci5udW1iZXJ7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICMyZmExZDZ9LmRnIC5jci5udW1iZXIgaW5wdXRbdHlwZT10ZXh0XXtjb2xvcjojMmZhMWQ2fS5kZyAuY3Iuc3RyaW5ne2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjMWVkMzZmfS5kZyAuY3Iuc3RyaW5nIGlucHV0W3R5cGU9dGV4dF17Y29sb3I6IzFlZDM2Zn0uZGcgLmNyLmZ1bmN0aW9uOmhvdmVyLC5kZyAuY3IuYm9vbGVhbjpob3ZlcntiYWNrZ3JvdW5kOiMxMTF9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF17YmFja2dyb3VuZDojMzAzMDMwO291dGxpbmU6bm9uZX0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XTpob3ZlcntiYWNrZ3JvdW5kOiMzYzNjM2N9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF06Zm9jdXN7YmFja2dyb3VuZDojNDk0OTQ5O2NvbG9yOiNmZmZ9LmRnIC5jIC5zbGlkZXJ7YmFja2dyb3VuZDojMzAzMDMwO2N1cnNvcjpldy1yZXNpemV9LmRnIC5jIC5zbGlkZXItZmd7YmFja2dyb3VuZDojMmZhMWQ2fS5kZyAuYyAuc2xpZGVyOmhvdmVye2JhY2tncm91bmQ6IzNjM2MzY30uZGcgLmMgLnNsaWRlcjpob3ZlciAuc2xpZGVyLWZne2JhY2tncm91bmQ6IzQ0YWJkYX1cXG5cIixcbmRhdC5jb250cm9sbGVycy5mYWN0b3J5ID0gKGZ1bmN0aW9uIChPcHRpb25Db250cm9sbGVyLCBOdW1iZXJDb250cm9sbGVyQm94LCBOdW1iZXJDb250cm9sbGVyU2xpZGVyLCBTdHJpbmdDb250cm9sbGVyLCBGdW5jdGlvbkNvbnRyb2xsZXIsIEJvb2xlYW5Db250cm9sbGVyLCBjb21tb24pIHtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcblxuICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gb2JqZWN0W3Byb3BlcnR5XTtcblxuICAgICAgICAvLyBQcm92aWRpbmcgb3B0aW9ucz9cbiAgICAgICAgaWYgKGNvbW1vbi5pc0FycmF5KGFyZ3VtZW50c1syXSkgfHwgY29tbW9uLmlzT2JqZWN0KGFyZ3VtZW50c1syXSkpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IE9wdGlvbkNvbnRyb2xsZXIob2JqZWN0LCBwcm9wZXJ0eSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByb3ZpZGluZyBhIG1hcD9cblxuICAgICAgICBpZiAoY29tbW9uLmlzTnVtYmVyKGluaXRpYWxWYWx1ZSkpIHtcblxuICAgICAgICAgIGlmIChjb21tb24uaXNOdW1iZXIoYXJndW1lbnRzWzJdKSAmJiBjb21tb24uaXNOdW1iZXIoYXJndW1lbnRzWzNdKSkge1xuXG4gICAgICAgICAgICAvLyBIYXMgbWluIGFuZCBtYXguXG4gICAgICAgICAgICByZXR1cm4gbmV3IE51bWJlckNvbnRyb2xsZXJTbGlkZXIob2JqZWN0LCBwcm9wZXJ0eSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10pO1xuXG4gICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJDb250cm9sbGVyQm94KG9iamVjdCwgcHJvcGVydHksIHsgbWluOiBhcmd1bWVudHNbMl0sIG1heDogYXJndW1lbnRzWzNdIH0pO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tbW9uLmlzU3RyaW5nKGluaXRpYWxWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFN0cmluZ0NvbnRyb2xsZXIob2JqZWN0LCBwcm9wZXJ0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tbW9uLmlzRnVuY3Rpb24oaW5pdGlhbFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb25Db250cm9sbGVyKG9iamVjdCwgcHJvcGVydHksICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21tb24uaXNCb29sZWFuKGluaXRpYWxWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEJvb2xlYW5Db250cm9sbGVyKG9iamVjdCwgcHJvcGVydHkpO1xuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH0pKGRhdC5jb250cm9sbGVycy5PcHRpb25Db250cm9sbGVyLFxuZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJCb3gsXG5kYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclNsaWRlcixcbmRhdC5jb250cm9sbGVycy5TdHJpbmdDb250cm9sbGVyID0gKGZ1bmN0aW9uIChDb250cm9sbGVyLCBkb20sIGNvbW1vbikge1xuXG4gIC8qKlxuICAgKiBAY2xhc3MgUHJvdmlkZXMgYSB0ZXh0IGlucHV0IHRvIGFsdGVyIHRoZSBzdHJpbmcgcHJvcGVydHkgb2YgYW4gb2JqZWN0LlxuICAgKlxuICAgKiBAZXh0ZW5kcyBkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlclxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmUgbWFuaXB1bGF0ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBiZSBtYW5pcHVsYXRlZFxuICAgKlxuICAgKiBAbWVtYmVyIGRhdC5jb250cm9sbGVyc1xuICAgKi9cbiAgdmFyIFN0cmluZ0NvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG5cbiAgICBTdHJpbmdDb250cm9sbGVyLnN1cGVyY2xhc3MuY2FsbCh0aGlzLCBvYmplY3QsIHByb3BlcnR5KTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLl9faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRoaXMuX19pbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuXG4gICAgZG9tLmJpbmQodGhpcy5fX2lucHV0LCAna2V5dXAnLCBvbkNoYW5nZSk7XG4gICAgZG9tLmJpbmQodGhpcy5fX2lucHV0LCAnY2hhbmdlJywgb25DaGFuZ2UpO1xuICAgIGRvbS5iaW5kKHRoaXMuX19pbnB1dCwgJ2JsdXInLCBvbkJsdXIpO1xuICAgIGRvbS5iaW5kKHRoaXMuX19pbnB1dCwgJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICB0aGlzLmJsdXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcblxuICAgIGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuICAgICAgX3RoaXMuc2V0VmFsdWUoX3RoaXMuX19pbnB1dC52YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgaWYgKF90aGlzLl9fb25GaW5pc2hDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKF90aGlzLCBfdGhpcy5nZXRWYWx1ZSgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZURpc3BsYXkoKTtcblxuICAgIHRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9faW5wdXQpO1xuXG4gIH07XG5cbiAgU3RyaW5nQ29udHJvbGxlci5zdXBlcmNsYXNzID0gQ29udHJvbGxlcjtcblxuICBjb21tb24uZXh0ZW5kKFxuXG4gICAgICBTdHJpbmdDb250cm9sbGVyLnByb3RvdHlwZSxcbiAgICAgIENvbnRyb2xsZXIucHJvdG90eXBlLFxuXG4gICAgICB7XG5cbiAgICAgICAgdXBkYXRlRGlzcGxheTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gU3RvcHMgdGhlIGNhcmV0IGZyb20gbW92aW5nIG9uIGFjY291bnQgb2Y6XG4gICAgICAgICAgLy8ga2V5dXAgLT4gc2V0VmFsdWUgLT4gdXBkYXRlRGlzcGxheVxuICAgICAgICAgIGlmICghZG9tLmlzQWN0aXZlKHRoaXMuX19pbnB1dCkpIHtcbiAgICAgICAgICAgIHRoaXMuX19pbnB1dC52YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFN0cmluZ0NvbnRyb2xsZXIuc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgIH1cblxuICApO1xuXG4gIHJldHVybiBTdHJpbmdDb250cm9sbGVyO1xuXG59KShkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixcbmRhdC5kb20uZG9tLFxuZGF0LnV0aWxzLmNvbW1vbiksXG5kYXQuY29udHJvbGxlcnMuRnVuY3Rpb25Db250cm9sbGVyLFxuZGF0LmNvbnRyb2xsZXJzLkJvb2xlYW5Db250cm9sbGVyLFxuZGF0LnV0aWxzLmNvbW1vbiksXG5kYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixcbmRhdC5jb250cm9sbGVycy5Cb29sZWFuQ29udHJvbGxlcixcbmRhdC5jb250cm9sbGVycy5GdW5jdGlvbkNvbnRyb2xsZXIsXG5kYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlckJveCxcbmRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyU2xpZGVyLFxuZGF0LmNvbnRyb2xsZXJzLk9wdGlvbkNvbnRyb2xsZXIsXG5kYXQuY29udHJvbGxlcnMuQ29sb3JDb250cm9sbGVyID0gKGZ1bmN0aW9uIChDb250cm9sbGVyLCBkb20sIENvbG9yLCBpbnRlcnByZXQsIGNvbW1vbikge1xuXG4gIHZhciBDb2xvckNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG5cbiAgICBDb2xvckNvbnRyb2xsZXIuc3VwZXJjbGFzcy5jYWxsKHRoaXMsIG9iamVjdCwgcHJvcGVydHkpO1xuXG4gICAgdGhpcy5fX2NvbG9yID0gbmV3IENvbG9yKHRoaXMuZ2V0VmFsdWUoKSk7XG4gICAgdGhpcy5fX3RlbXAgPSBuZXcgQ29sb3IoMCk7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5kb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBkb20ubWFrZVNlbGVjdGFibGUodGhpcy5kb21FbGVtZW50LCBmYWxzZSk7XG5cbiAgICB0aGlzLl9fc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9fc2VsZWN0b3IuY2xhc3NOYW1lID0gJ3NlbGVjdG9yJztcblxuICAgIHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fX3NhdHVyYXRpb25fZmllbGQuY2xhc3NOYW1lID0gJ3NhdHVyYXRpb24tZmllbGQnO1xuXG4gICAgdGhpcy5fX2ZpZWxkX2tub2IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9fZmllbGRfa25vYi5jbGFzc05hbWUgPSAnZmllbGQta25vYic7XG4gICAgdGhpcy5fX2ZpZWxkX2tub2JfYm9yZGVyID0gJzJweCBzb2xpZCAnO1xuXG4gICAgdGhpcy5fX2h1ZV9rbm9iID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fX2h1ZV9rbm9iLmNsYXNzTmFtZSA9ICdodWUta25vYic7XG5cbiAgICB0aGlzLl9faHVlX2ZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fX2h1ZV9maWVsZC5jbGFzc05hbWUgPSAnaHVlLWZpZWxkJztcblxuICAgIHRoaXMuX19pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgdGhpcy5fX2lucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgdGhpcy5fX2lucHV0X3RleHRTaGFkb3cgPSAnMCAxcHggMXB4ICc7XG5cbiAgICBkb20uYmluZCh0aGlzLl9faW5wdXQsICdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHsgLy8gb24gZW50ZXJcbiAgICAgICAgb25CbHVyLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkb20uYmluZCh0aGlzLl9faW5wdXQsICdibHVyJywgb25CbHVyKTtcblxuICAgIGRvbS5iaW5kKHRoaXMuX19zZWxlY3RvciwgJ21vdXNlZG93bicsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgZG9tXG4gICAgICAgIC5hZGRDbGFzcyh0aGlzLCAnZHJhZycpXG4gICAgICAgIC5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZG9tLnJlbW92ZUNsYXNzKF90aGlzLl9fc2VsZWN0b3IsICdkcmFnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgICB2YXIgdmFsdWVfZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGNvbW1vbi5leHRlbmQodGhpcy5fX3NlbGVjdG9yLnN0eWxlLCB7XG4gICAgICB3aWR0aDogJzEyMnB4JyxcbiAgICAgIGhlaWdodDogJzEwMnB4JyxcbiAgICAgIHBhZGRpbmc6ICczcHgnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzIyMicsXG4gICAgICBib3hTaGFkb3c6ICcwcHggMXB4IDNweCByZ2JhKDAsMCwwLDAuMyknXG4gICAgfSk7XG5cbiAgICBjb21tb24uZXh0ZW5kKHRoaXMuX19maWVsZF9rbm9iLnN0eWxlLCB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHdpZHRoOiAnMTJweCcsXG4gICAgICBoZWlnaHQ6ICcxMnB4JyxcbiAgICAgIGJvcmRlcjogdGhpcy5fX2ZpZWxkX2tub2JfYm9yZGVyICsgKHRoaXMuX19jb2xvci52IDwgLjUgPyAnI2ZmZicgOiAnIzAwMCcpLFxuICAgICAgYm94U2hhZG93OiAnMHB4IDFweCAzcHggcmdiYSgwLDAsMCwwLjUpJyxcbiAgICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxuICAgICAgekluZGV4OiAxXG4gICAgfSk7XG4gICAgXG4gICAgY29tbW9uLmV4dGVuZCh0aGlzLl9faHVlX2tub2Iuc3R5bGUsIHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgd2lkdGg6ICcxNXB4JyxcbiAgICAgIGhlaWdodDogJzJweCcsXG4gICAgICBib3JkZXJSaWdodDogJzRweCBzb2xpZCAjZmZmJyxcbiAgICAgIHpJbmRleDogMVxuICAgIH0pO1xuXG4gICAgY29tbW9uLmV4dGVuZCh0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5zdHlsZSwge1xuICAgICAgd2lkdGg6ICcxMDBweCcsXG4gICAgICBoZWlnaHQ6ICcxMDBweCcsXG4gICAgICBib3JkZXI6ICcxcHggc29saWQgIzU1NScsXG4gICAgICBtYXJnaW5SaWdodDogJzNweCcsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgfSk7XG5cbiAgICBjb21tb24uZXh0ZW5kKHZhbHVlX2ZpZWxkLnN0eWxlLCB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBiYWNrZ3JvdW5kOiAnbm9uZSdcbiAgICB9KTtcbiAgICBcbiAgICBsaW5lYXJHcmFkaWVudCh2YWx1ZV9maWVsZCwgJ3RvcCcsICdyZ2JhKDAsMCwwLDApJywgJyMwMDAnKTtcblxuICAgIGNvbW1vbi5leHRlbmQodGhpcy5fX2h1ZV9maWVsZC5zdHlsZSwge1xuICAgICAgd2lkdGg6ICcxNXB4JyxcbiAgICAgIGhlaWdodDogJzEwMHB4JyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxuICAgICAgY3Vyc29yOiAnbnMtcmVzaXplJ1xuICAgIH0pO1xuXG4gICAgaHVlR3JhZGllbnQodGhpcy5fX2h1ZV9maWVsZCk7XG5cbiAgICBjb21tb24uZXh0ZW5kKHRoaXMuX19pbnB1dC5zdHlsZSwge1xuICAgICAgb3V0bGluZTogJ25vbmUnLFxuLy8gICAgICB3aWR0aDogJzEyMHB4JyxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4vLyAgICAgIHBhZGRpbmc6ICc0cHgnLFxuLy8gICAgICBtYXJnaW5Cb3R0b206ICc2cHgnLFxuICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgIGJvcmRlcjogMCxcbiAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgIHRleHRTaGFkb3c6IHRoaXMuX19pbnB1dF90ZXh0U2hhZG93ICsgJ3JnYmEoMCwwLDAsMC43KSdcbiAgICB9KTtcblxuICAgIGRvbS5iaW5kKHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkLCAnbW91c2Vkb3duJywgZmllbGREb3duKTtcbiAgICBkb20uYmluZCh0aGlzLl9fZmllbGRfa25vYiwgJ21vdXNlZG93bicsIGZpZWxkRG93bik7XG5cbiAgICBkb20uYmluZCh0aGlzLl9faHVlX2ZpZWxkLCAnbW91c2Vkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgc2V0SChlKTtcbiAgICAgIGRvbS5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIHNldEgpO1xuICAgICAgZG9tLmJpbmQod2luZG93LCAnbW91c2V1cCcsIHVuYmluZEgpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZmllbGREb3duKGUpIHtcbiAgICAgIHNldFNWKGUpO1xuICAgICAgLy8gZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnbm9uZSc7XG4gICAgICBkb20uYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBzZXRTVik7XG4gICAgICBkb20uYmluZCh3aW5kb3csICdtb3VzZXVwJywgdW5iaW5kU1YpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVuYmluZFNWKCkge1xuICAgICAgZG9tLnVuYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBzZXRTVik7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCB1bmJpbmRTVik7XG4gICAgICAvLyBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICB2YXIgaSA9IGludGVycHJldCh0aGlzLnZhbHVlKTtcbiAgICAgIGlmIChpICE9PSBmYWxzZSkge1xuICAgICAgICBfdGhpcy5fX2NvbG9yLl9fc3RhdGUgPSBpO1xuICAgICAgICBfdGhpcy5zZXRWYWx1ZShfdGhpcy5fX2NvbG9yLnRvT3JpZ2luYWwoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnZhbHVlID0gX3RoaXMuX19jb2xvci50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVuYmluZEgoKSB7XG4gICAgICBkb20udW5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIHNldEgpO1xuICAgICAgZG9tLnVuYmluZCh3aW5kb3csICdtb3VzZXVwJywgdW5iaW5kSCk7XG4gICAgfVxuXG4gICAgdGhpcy5fX3NhdHVyYXRpb25fZmllbGQuYXBwZW5kQ2hpbGQodmFsdWVfZmllbGQpO1xuICAgIHRoaXMuX19zZWxlY3Rvci5hcHBlbmRDaGlsZCh0aGlzLl9fZmllbGRfa25vYik7XG4gICAgdGhpcy5fX3NlbGVjdG9yLmFwcGVuZENoaWxkKHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkKTtcbiAgICB0aGlzLl9fc2VsZWN0b3IuYXBwZW5kQ2hpbGQodGhpcy5fX2h1ZV9maWVsZCk7XG4gICAgdGhpcy5fX2h1ZV9maWVsZC5hcHBlbmRDaGlsZCh0aGlzLl9faHVlX2tub2IpO1xuXG4gICAgdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19pbnB1dCk7XG4gICAgdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19zZWxlY3Rvcik7XG5cbiAgICB0aGlzLnVwZGF0ZURpc3BsYXkoKTtcblxuICAgIGZ1bmN0aW9uIHNldFNWKGUpIHtcblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB2YXIgdyA9IGRvbS5nZXRXaWR0aChfdGhpcy5fX3NhdHVyYXRpb25fZmllbGQpO1xuICAgICAgdmFyIG8gPSBkb20uZ2V0T2Zmc2V0KF90aGlzLl9fc2F0dXJhdGlvbl9maWVsZCk7XG4gICAgICB2YXIgcyA9IChlLmNsaWVudFggLSBvLmxlZnQgKyBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpIC8gdztcbiAgICAgIHZhciB2ID0gMSAtIChlLmNsaWVudFkgLSBvLnRvcCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSAvIHc7XG5cbiAgICAgIGlmICh2ID4gMSkgdiA9IDE7XG4gICAgICBlbHNlIGlmICh2IDwgMCkgdiA9IDA7XG5cbiAgICAgIGlmIChzID4gMSkgcyA9IDE7XG4gICAgICBlbHNlIGlmIChzIDwgMCkgcyA9IDA7XG5cbiAgICAgIF90aGlzLl9fY29sb3IudiA9IHY7XG4gICAgICBfdGhpcy5fX2NvbG9yLnMgPSBzO1xuXG4gICAgICBfdGhpcy5zZXRWYWx1ZShfdGhpcy5fX2NvbG9yLnRvT3JpZ2luYWwoKSk7XG5cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0SChlKSB7XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdmFyIHMgPSBkb20uZ2V0SGVpZ2h0KF90aGlzLl9faHVlX2ZpZWxkKTtcbiAgICAgIHZhciBvID0gZG9tLmdldE9mZnNldChfdGhpcy5fX2h1ZV9maWVsZCk7XG4gICAgICB2YXIgaCA9IDEgLSAoZS5jbGllbnRZIC0gby50b3AgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkgLyBzO1xuXG4gICAgICBpZiAoaCA+IDEpIGggPSAxO1xuICAgICAgZWxzZSBpZiAoaCA8IDApIGggPSAwO1xuXG4gICAgICBfdGhpcy5fX2NvbG9yLmggPSBoICogMzYwO1xuXG4gICAgICBfdGhpcy5zZXRWYWx1ZShfdGhpcy5fX2NvbG9yLnRvT3JpZ2luYWwoKSk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIH1cblxuICB9O1xuXG4gIENvbG9yQ29udHJvbGxlci5zdXBlcmNsYXNzID0gQ29udHJvbGxlcjtcblxuICBjb21tb24uZXh0ZW5kKFxuXG4gICAgICBDb2xvckNvbnRyb2xsZXIucHJvdG90eXBlLFxuICAgICAgQ29udHJvbGxlci5wcm90b3R5cGUsXG5cbiAgICAgIHtcblxuICAgICAgICB1cGRhdGVEaXNwbGF5OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgIHZhciBpID0gaW50ZXJwcmV0KHRoaXMuZ2V0VmFsdWUoKSk7XG5cbiAgICAgICAgICBpZiAoaSAhPT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgdmFyIG1pc21hdGNoID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBtaXNtYXRjaCBvbiB0aGUgaW50ZXJwcmV0ZWQgdmFsdWUuXG5cbiAgICAgICAgICAgIGNvbW1vbi5lYWNoKENvbG9yLkNPTVBPTkVOVFMsIGZ1bmN0aW9uKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgICBpZiAoIWNvbW1vbi5pc1VuZGVmaW5lZChpW2NvbXBvbmVudF0pICYmXG4gICAgICAgICAgICAgICAgICAhY29tbW9uLmlzVW5kZWZpbmVkKHRoaXMuX19jb2xvci5fX3N0YXRlW2NvbXBvbmVudF0pICYmXG4gICAgICAgICAgICAgICAgICBpW2NvbXBvbmVudF0gIT09IHRoaXMuX19jb2xvci5fX3N0YXRlW2NvbXBvbmVudF0pIHtcbiAgICAgICAgICAgICAgICBtaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9OyAvLyBicmVha1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgLy8gSWYgbm90aGluZyBkaXZlcmdlcywgd2Uga2VlcCBvdXIgcHJldmlvdXMgdmFsdWVzXG4gICAgICAgICAgICAvLyBmb3Igc3RhdGVmdWxuZXNzLCBvdGhlcndpc2Ugd2UgcmVjYWxjdWxhdGUgZnJlc2hcbiAgICAgICAgICAgIGlmIChtaXNtYXRjaCkge1xuICAgICAgICAgICAgICBjb21tb24uZXh0ZW5kKHRoaXMuX19jb2xvci5fX3N0YXRlLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbW1vbi5leHRlbmQodGhpcy5fX3RlbXAuX19zdGF0ZSwgdGhpcy5fX2NvbG9yLl9fc3RhdGUpO1xuXG4gICAgICAgICAgdGhpcy5fX3RlbXAuYSA9IDE7XG5cbiAgICAgICAgICB2YXIgZmxpcCA9ICh0aGlzLl9fY29sb3IudiA8IC41IHx8IHRoaXMuX19jb2xvci5zID4gLjUpID8gMjU1IDogMDtcbiAgICAgICAgICB2YXIgX2ZsaXAgPSAyNTUgLSBmbGlwO1xuXG4gICAgICAgICAgY29tbW9uLmV4dGVuZCh0aGlzLl9fZmllbGRfa25vYi5zdHlsZSwge1xuICAgICAgICAgICAgbWFyZ2luTGVmdDogMTAwICogdGhpcy5fX2NvbG9yLnMgLSA3ICsgJ3B4JyxcbiAgICAgICAgICAgIG1hcmdpblRvcDogMTAwICogKDEgLSB0aGlzLl9fY29sb3IudikgLSA3ICsgJ3B4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5fX3RlbXAudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGJvcmRlcjogdGhpcy5fX2ZpZWxkX2tub2JfYm9yZGVyICsgJ3JnYignICsgZmxpcCArICcsJyArIGZsaXAgKyAnLCcgKyBmbGlwICsnKSdcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRoaXMuX19odWVfa25vYi5zdHlsZS5tYXJnaW5Ub3AgPSAoMSAtIHRoaXMuX19jb2xvci5oIC8gMzYwKSAqIDEwMCArICdweCdcblxuICAgICAgICAgIHRoaXMuX190ZW1wLnMgPSAxO1xuICAgICAgICAgIHRoaXMuX190ZW1wLnYgPSAxO1xuXG4gICAgICAgICAgbGluZWFyR3JhZGllbnQodGhpcy5fX3NhdHVyYXRpb25fZmllbGQsICdsZWZ0JywgJyNmZmYnLCB0aGlzLl9fdGVtcC50b1N0cmluZygpKTtcblxuICAgICAgICAgIGNvbW1vbi5leHRlbmQodGhpcy5fX2lucHV0LnN0eWxlLCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuX19pbnB1dC52YWx1ZSA9IHRoaXMuX19jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgY29sb3I6ICdyZ2IoJyArIGZsaXAgKyAnLCcgKyBmbGlwICsgJywnICsgZmxpcCArJyknLFxuICAgICAgICAgICAgdGV4dFNoYWRvdzogdGhpcy5fX2lucHV0X3RleHRTaGFkb3cgKyAncmdiYSgnICsgX2ZsaXAgKyAnLCcgKyBfZmxpcCArICcsJyArIF9mbGlwICsnLC43KSdcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICApO1xuICBcbiAgdmFyIHZlbmRvcnMgPSBbJy1tb3otJywnLW8tJywnLXdlYmtpdC0nLCctbXMtJywnJ107XG4gIFxuICBmdW5jdGlvbiBsaW5lYXJHcmFkaWVudChlbGVtLCB4LCBhLCBiKSB7XG4gICAgZWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgY29tbW9uLmVhY2godmVuZG9ycywgZnVuY3Rpb24odmVuZG9yKSB7XG4gICAgICBlbGVtLnN0eWxlLmNzc1RleHQgKz0gJ2JhY2tncm91bmQ6ICcgKyB2ZW5kb3IgKyAnbGluZWFyLWdyYWRpZW50KCcreCsnLCAnK2ErJyAwJSwgJyArIGIgKyAnIDEwMCUpOyAnO1xuICAgIH0pO1xuICB9XG4gIFxuICBmdW5jdGlvbiBodWVHcmFkaWVudChlbGVtKSB7XG4gICAgZWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgZWxlbS5zdHlsZS5jc3NUZXh0ICs9ICdiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCAjZmYwMGZmIDE3JSwgIzAwMDBmZiAzNCUsICMwMGZmZmYgNTAlLCAjMDBmZjAwIDY3JSwgI2ZmZmYwMCA4NCUsICNmZjAwMDAgMTAwJSk7J1xuICAgIGVsZW0uc3R5bGUuY3NzVGV4dCArPSAnYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOydcbiAgICBlbGVtLnN0eWxlLmNzc1RleHQgKz0gJ2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7J1xuICAgIGVsZW0uc3R5bGUuY3NzVGV4dCArPSAnYmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7J1xuICAgIGVsZW0uc3R5bGUuY3NzVGV4dCArPSAnYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsI2ZmMDBmZiAxNyUsIzAwMDBmZiAzNCUsIzAwZmZmZiA1MCUsIzAwZmYwMCA2NyUsI2ZmZmYwMCA4NCUsI2ZmMDAwMCAxMDAlKTsnXG4gIH1cblxuXG4gIHJldHVybiBDb2xvckNvbnRyb2xsZXI7XG5cbn0pKGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLFxuZGF0LmRvbS5kb20sXG5kYXQuY29sb3IuQ29sb3IgPSAoZnVuY3Rpb24gKGludGVycHJldCwgbWF0aCwgdG9TdHJpbmcsIGNvbW1vbikge1xuXG4gIHZhciBDb2xvciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5fX3N0YXRlID0gaW50ZXJwcmV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBpZiAodGhpcy5fX3N0YXRlID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgJ0ZhaWxlZCB0byBpbnRlcnByZXQgY29sb3IgYXJndW1lbnRzJztcbiAgICB9XG5cbiAgICB0aGlzLl9fc3RhdGUuYSA9IHRoaXMuX19zdGF0ZS5hIHx8IDE7XG5cblxuICB9O1xuXG4gIENvbG9yLkNPTVBPTkVOVFMgPSBbJ3InLCdnJywnYicsJ2gnLCdzJywndicsJ2hleCcsJ2EnXTtcblxuICBjb21tb24uZXh0ZW5kKENvbG9yLnByb3RvdHlwZSwge1xuXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b09yaWdpbmFsOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc3RhdGUuY29udmVyc2lvbi53cml0ZSh0aGlzKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgZGVmaW5lUkdCQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ3InLCAyKTtcbiAgZGVmaW5lUkdCQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ2cnLCAxKTtcbiAgZGVmaW5lUkdCQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ2InLCAwKTtcblxuICBkZWZpbmVIU1ZDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAnaCcpO1xuICBkZWZpbmVIU1ZDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAncycpO1xuICBkZWZpbmVIU1ZDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAndicpO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvci5wcm90b3R5cGUsICdhJywge1xuXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc3RhdGUuYTtcbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbih2KSB7XG4gICAgICB0aGlzLl9fc3RhdGUuYSA9IHY7XG4gICAgfVxuXG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvci5wcm90b3R5cGUsICdoZXgnLCB7XG5cbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICBpZiAoIXRoaXMuX19zdGF0ZS5zcGFjZSAhPT0gJ0hFWCcpIHtcbiAgICAgICAgdGhpcy5fX3N0YXRlLmhleCA9IG1hdGgucmdiX3RvX2hleCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX19zdGF0ZS5oZXg7XG5cbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbih2KSB7XG5cbiAgICAgIHRoaXMuX19zdGF0ZS5zcGFjZSA9ICdIRVgnO1xuICAgICAgdGhpcy5fX3N0YXRlLmhleCA9IHY7XG5cbiAgICB9XG5cbiAgfSk7XG5cbiAgZnVuY3Rpb24gZGVmaW5lUkdCQ29tcG9uZW50KHRhcmdldCwgY29tcG9uZW50LCBjb21wb25lbnRIZXhJbmRleCkge1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29tcG9uZW50LCB7XG5cbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuX19zdGF0ZS5zcGFjZSA9PT0gJ1JHQicpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fX3N0YXRlW2NvbXBvbmVudF07XG4gICAgICAgIH1cblxuICAgICAgICByZWNhbGN1bGF0ZVJHQih0aGlzLCBjb21wb25lbnQsIGNvbXBvbmVudEhleEluZGV4KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fX3N0YXRlW2NvbXBvbmVudF07XG5cbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24odikge1xuXG4gICAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgIT09ICdSR0InKSB7XG4gICAgICAgICAgcmVjYWxjdWxhdGVSR0IodGhpcywgY29tcG9uZW50LCBjb21wb25lbnRIZXhJbmRleCk7XG4gICAgICAgICAgdGhpcy5fX3N0YXRlLnNwYWNlID0gJ1JHQic7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9fc3RhdGVbY29tcG9uZW50XSA9IHY7XG5cbiAgICAgIH1cblxuICAgIH0pO1xuXG4gIH1cblxuICBmdW5jdGlvbiBkZWZpbmVIU1ZDb21wb25lbnQodGFyZ2V0LCBjb21wb25lbnQpIHtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbXBvbmVudCwge1xuXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgPT09ICdIU1YnKVxuICAgICAgICAgIHJldHVybiB0aGlzLl9fc3RhdGVbY29tcG9uZW50XTtcblxuICAgICAgICByZWNhbGN1bGF0ZUhTVih0aGlzKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fX3N0YXRlW2NvbXBvbmVudF07XG5cbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24odikge1xuXG4gICAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgIT09ICdIU1YnKSB7XG4gICAgICAgICAgcmVjYWxjdWxhdGVIU1YodGhpcyk7XG4gICAgICAgICAgdGhpcy5fX3N0YXRlLnNwYWNlID0gJ0hTVic7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9fc3RhdGVbY29tcG9uZW50XSA9IHY7XG5cbiAgICAgIH1cblxuICAgIH0pO1xuXG4gIH1cblxuICBmdW5jdGlvbiByZWNhbGN1bGF0ZVJHQihjb2xvciwgY29tcG9uZW50LCBjb21wb25lbnRIZXhJbmRleCkge1xuXG4gICAgaWYgKGNvbG9yLl9fc3RhdGUuc3BhY2UgPT09ICdIRVgnKSB7XG5cbiAgICAgIGNvbG9yLl9fc3RhdGVbY29tcG9uZW50XSA9IG1hdGguY29tcG9uZW50X2Zyb21faGV4KGNvbG9yLl9fc3RhdGUuaGV4LCBjb21wb25lbnRIZXhJbmRleCk7XG5cbiAgICB9IGVsc2UgaWYgKGNvbG9yLl9fc3RhdGUuc3BhY2UgPT09ICdIU1YnKSB7XG5cbiAgICAgIGNvbW1vbi5leHRlbmQoY29sb3IuX19zdGF0ZSwgbWF0aC5oc3ZfdG9fcmdiKGNvbG9yLl9fc3RhdGUuaCwgY29sb3IuX19zdGF0ZS5zLCBjb2xvci5fX3N0YXRlLnYpKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIHRocm93ICdDb3JydXB0ZWQgY29sb3Igc3RhdGUnO1xuXG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiByZWNhbGN1bGF0ZUhTVihjb2xvcikge1xuXG4gICAgdmFyIHJlc3VsdCA9IG1hdGgucmdiX3RvX2hzdihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcblxuICAgIGNvbW1vbi5leHRlbmQoY29sb3IuX19zdGF0ZSxcbiAgICAgICAge1xuICAgICAgICAgIHM6IHJlc3VsdC5zLFxuICAgICAgICAgIHY6IHJlc3VsdC52XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKCFjb21tb24uaXNOYU4ocmVzdWx0LmgpKSB7XG4gICAgICBjb2xvci5fX3N0YXRlLmggPSByZXN1bHQuaDtcbiAgICB9IGVsc2UgaWYgKGNvbW1vbi5pc1VuZGVmaW5lZChjb2xvci5fX3N0YXRlLmgpKSB7XG4gICAgICBjb2xvci5fX3N0YXRlLmggPSAwO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIENvbG9yO1xuXG59KShkYXQuY29sb3IuaW50ZXJwcmV0LFxuZGF0LmNvbG9yLm1hdGggPSAoZnVuY3Rpb24gKCkge1xuXG4gIHZhciB0bXBDb21wb25lbnQ7XG5cbiAgcmV0dXJuIHtcblxuICAgIGhzdl90b19yZ2I6IGZ1bmN0aW9uKGgsIHMsIHYpIHtcblxuICAgICAgdmFyIGhpID0gTWF0aC5mbG9vcihoIC8gNjApICUgNjtcblxuICAgICAgdmFyIGYgPSBoIC8gNjAgLSBNYXRoLmZsb29yKGggLyA2MCk7XG4gICAgICB2YXIgcCA9IHYgKiAoMS4wIC0gcyk7XG4gICAgICB2YXIgcSA9IHYgKiAoMS4wIC0gKGYgKiBzKSk7XG4gICAgICB2YXIgdCA9IHYgKiAoMS4wIC0gKCgxLjAgLSBmKSAqIHMpKTtcbiAgICAgIHZhciBjID0gW1xuICAgICAgICBbdiwgdCwgcF0sXG4gICAgICAgIFtxLCB2LCBwXSxcbiAgICAgICAgW3AsIHYsIHRdLFxuICAgICAgICBbcCwgcSwgdl0sXG4gICAgICAgIFt0LCBwLCB2XSxcbiAgICAgICAgW3YsIHAsIHFdXG4gICAgICBdW2hpXTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcjogY1swXSAqIDI1NSxcbiAgICAgICAgZzogY1sxXSAqIDI1NSxcbiAgICAgICAgYjogY1syXSAqIDI1NVxuICAgICAgfTtcblxuICAgIH0sXG5cbiAgICByZ2JfdG9faHN2OiBmdW5jdGlvbihyLCBnLCBiKSB7XG5cbiAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKSxcbiAgICAgICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgICAgICBkZWx0YSA9IG1heCAtIG1pbixcbiAgICAgICAgICBoLCBzO1xuXG4gICAgICBpZiAobWF4ICE9IDApIHtcbiAgICAgICAgcyA9IGRlbHRhIC8gbWF4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBoOiBOYU4sXG4gICAgICAgICAgczogMCxcbiAgICAgICAgICB2OiAwXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChyID09IG1heCkge1xuICAgICAgICBoID0gKGcgLSBiKSAvIGRlbHRhO1xuICAgICAgfSBlbHNlIGlmIChnID09IG1heCkge1xuICAgICAgICBoID0gMiArIChiIC0gcikgLyBkZWx0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGggPSA0ICsgKHIgLSBnKSAvIGRlbHRhO1xuICAgICAgfVxuICAgICAgaCAvPSA2O1xuICAgICAgaWYgKGggPCAwKSB7XG4gICAgICAgIGggKz0gMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaDogaCAqIDM2MCxcbiAgICAgICAgczogcyxcbiAgICAgICAgdjogbWF4IC8gMjU1XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICByZ2JfdG9faGV4OiBmdW5jdGlvbihyLCBnLCBiKSB7XG4gICAgICB2YXIgaGV4ID0gdGhpcy5oZXhfd2l0aF9jb21wb25lbnQoMCwgMiwgcik7XG4gICAgICBoZXggPSB0aGlzLmhleF93aXRoX2NvbXBvbmVudChoZXgsIDEsIGcpO1xuICAgICAgaGV4ID0gdGhpcy5oZXhfd2l0aF9jb21wb25lbnQoaGV4LCAwLCBiKTtcbiAgICAgIHJldHVybiBoZXg7XG4gICAgfSxcblxuICAgIGNvbXBvbmVudF9mcm9tX2hleDogZnVuY3Rpb24oaGV4LCBjb21wb25lbnRJbmRleCkge1xuICAgICAgcmV0dXJuIChoZXggPj4gKGNvbXBvbmVudEluZGV4ICogOCkpICYgMHhGRjtcbiAgICB9LFxuXG4gICAgaGV4X3dpdGhfY29tcG9uZW50OiBmdW5jdGlvbihoZXgsIGNvbXBvbmVudEluZGV4LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlIDw8ICh0bXBDb21wb25lbnQgPSBjb21wb25lbnRJbmRleCAqIDgpIHwgKGhleCAmIH4gKDB4RkYgPDwgdG1wQ29tcG9uZW50KSk7XG4gICAgfVxuXG4gIH1cblxufSkoKSxcbmRhdC5jb2xvci50b1N0cmluZyxcbmRhdC51dGlscy5jb21tb24pLFxuZGF0LmNvbG9yLmludGVycHJldCxcbmRhdC51dGlscy5jb21tb24pLFxuZGF0LnV0aWxzLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IChmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIHJlcXVpcmVqcyB2ZXJzaW9uIG9mIFBhdWwgSXJpc2gncyBSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICogaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbiAgICovXG5cbiAgcmV0dXJuIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrLCBlbGVtZW50KSB7XG5cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG5cbiAgICAgIH07XG59KSgpLFxuZGF0LmRvbS5DZW50ZXJlZERpdiA9IChmdW5jdGlvbiAoZG9tLCBjb21tb24pIHtcblxuXG4gIHZhciBDZW50ZXJlZERpdiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5iYWNrZ3JvdW5kRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbW1vbi5leHRlbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZSwge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjgpJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICB6SW5kZXg6ICcxMDAwJyxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBXZWJraXRUcmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzIGxpbmVhcidcbiAgICB9KTtcblxuICAgIGRvbS5tYWtlRnVsbHNjcmVlbih0aGlzLmJhY2tncm91bmRFbGVtZW50KTtcbiAgICB0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcblxuICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbW1vbi5leHRlbmQodGhpcy5kb21FbGVtZW50LnN0eWxlLCB7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgIHpJbmRleDogJzEwMDEnLFxuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIFdlYmtpdFRyYW5zaXRpb246ICctd2Via2l0LXRyYW5zZm9ybSAwLjJzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMnMgbGluZWFyJ1xuICAgIH0pO1xuXG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuYmFja2dyb3VuZEVsZW1lbnQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50KTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgZG9tLmJpbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudCwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5oaWRlKCk7XG4gICAgfSk7XG5cblxuICB9O1xuXG4gIENlbnRlcmVkRGl2LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIFxuXG5cbiAgICB0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMDtcbi8vICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS50b3AgPSAnNTIlJztcbiAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ3NjYWxlKDEuMSknO1xuXG4gICAgdGhpcy5sYXlvdXQoKTtcblxuICAgIGNvbW1vbi5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgIF90aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgX3RoaXMuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgIF90aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ3NjYWxlKDEpJztcbiAgICB9KTtcblxuICB9O1xuXG4gIENlbnRlcmVkRGl2LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGhpZGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgX3RoaXMuZG9tRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgX3RoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgZG9tLnVuYmluZChfdGhpcy5kb21FbGVtZW50LCAnd2Via2l0VHJhbnNpdGlvbkVuZCcsIGhpZGUpO1xuICAgICAgZG9tLnVuYmluZChfdGhpcy5kb21FbGVtZW50LCAndHJhbnNpdGlvbmVuZCcsIGhpZGUpO1xuICAgICAgZG9tLnVuYmluZChfdGhpcy5kb21FbGVtZW50LCAnb1RyYW5zaXRpb25FbmQnLCBoaWRlKTtcblxuICAgIH07XG5cbiAgICBkb20uYmluZCh0aGlzLmRvbUVsZW1lbnQsICd3ZWJraXRUcmFuc2l0aW9uRW5kJywgaGlkZSk7XG4gICAgZG9tLmJpbmQodGhpcy5kb21FbGVtZW50LCAndHJhbnNpdGlvbmVuZCcsIGhpZGUpO1xuICAgIGRvbS5iaW5kKHRoaXMuZG9tRWxlbWVudCwgJ29UcmFuc2l0aW9uRW5kJywgaGlkZSk7XG5cbiAgICB0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuLy8gICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLnRvcCA9ICc0OCUnO1xuICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gJ3NjYWxlKDEuMSknO1xuXG4gIH07XG5cbiAgQ2VudGVyZWREaXYucHJvdG90eXBlLmxheW91dCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0ID0gd2luZG93LmlubmVyV2lkdGgvMiAtIGRvbS5nZXRXaWR0aCh0aGlzLmRvbUVsZW1lbnQpIC8gMiArICdweCc7XG4gICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLnRvcCA9IHdpbmRvdy5pbm5lckhlaWdodC8yIC0gZG9tLmdldEhlaWdodCh0aGlzLmRvbUVsZW1lbnQpIC8gMiArICdweCc7XG4gIH07XG4gIFxuICBmdW5jdGlvbiBsb2NrU2Nyb2xsKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxuXG4gIHJldHVybiBDZW50ZXJlZERpdjtcblxufSkoZGF0LmRvbS5kb20sXG5kYXQudXRpbHMuY29tbW9uKSxcbmRhdC5kb20uZG9tLFxuZGF0LnV0aWxzLmNvbW1vbik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZGF0LWd1aS92ZW5kb3IvZGF0Lmd1aS5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIiwiLyoqXG4gKiBkYXQtZ3VpIEphdmFTY3JpcHQgQ29udHJvbGxlciBMaWJyYXJ5XG4gKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZGF0LWd1aVxuICpcbiAqIENvcHlyaWdodCAyMDExIERhdGEgQXJ0cyBUZWFtLCBHb29nbGUgQ3JlYXRpdmUgTGFiXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICovXG5cbi8qKiBAbmFtZXNwYWNlICovXG52YXIgZGF0ID0gbW9kdWxlLmV4cG9ydHMgPSBkYXQgfHwge307XG5cbi8qKiBAbmFtZXNwYWNlICovXG5kYXQuY29sb3IgPSBkYXQuY29sb3IgfHwge307XG5cbi8qKiBAbmFtZXNwYWNlICovXG5kYXQudXRpbHMgPSBkYXQudXRpbHMgfHwge307XG5cbmRhdC51dGlscy5jb21tb24gPSAoZnVuY3Rpb24gKCkge1xuICBcbiAgdmFyIEFSUl9FQUNIID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2g7XG4gIHZhciBBUlJfU0xJQ0UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLyoqXG4gICAqIEJhbmQtYWlkIG1ldGhvZHMgZm9yIHRoaW5ncyB0aGF0IHNob3VsZCBiZSBhIGxvdCBlYXNpZXIgaW4gSmF2YVNjcmlwdC5cbiAgICogSW1wbGVtZW50YXRpb24gYW5kIHN0cnVjdHVyZSBpbnNwaXJlZCBieSB1bmRlcnNjb3JlLmpzXG4gICAqIGh0dHA6Ly9kb2N1bWVudGNsb3VkLmdpdGh1Yi5jb20vdW5kZXJzY29yZS9cbiAgICovXG5cbiAgcmV0dXJuIHsgXG4gICAgXG4gICAgQlJFQUs6IHt9LFxuICBcbiAgICBleHRlbmQ6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgXG4gICAgICB0aGlzLmVhY2goQVJSX1NMSUNFLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKVxuICAgICAgICAgIGlmICghdGhpcy5pc1VuZGVmaW5lZChvYmpba2V5XSkpIFxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgXG4gICAgICB9LCB0aGlzKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIFxuICAgIH0sXG4gICAgXG4gICAgZGVmYXVsdHM6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgXG4gICAgICB0aGlzLmVhY2goQVJSX1NMSUNFLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKVxuICAgICAgICAgIGlmICh0aGlzLmlzVW5kZWZpbmVkKHRhcmdldFtrZXldKSkgXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG9ialtrZXldO1xuICAgICAgICBcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgXG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIFxuICAgIH0sXG4gICAgXG4gICAgY29tcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdG9DYWxsID0gQVJSX1NMSUNFLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBUlJfU0xJQ0UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gdG9DYWxsLmxlbmd0aCAtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBhcmdzID0gW3RvQ2FsbFtpXS5hcHBseSh0aGlzLCBhcmdzKV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBlYWNoOiBmdW5jdGlvbihvYmosIGl0ciwgc2NvcGUpIHtcblxuICAgICAgXG4gICAgICBpZiAoQVJSX0VBQ0ggJiYgb2JqLmZvckVhY2ggPT09IEFSUl9FQUNIKSB7IFxuICAgICAgICBcbiAgICAgICAgb2JqLmZvckVhY2goaXRyLCBzY29wZSk7XG4gICAgICAgIFxuICAgICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoID09PSBvYmoubGVuZ3RoICsgMCkgeyAvLyBJcyBudW1iZXIgYnV0IG5vdCBOYU5cbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGtleSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBrZXkgPCBsOyBrZXkrKylcbiAgICAgICAgICBpZiAoa2V5IGluIG9iaiAmJiBpdHIuY2FsbChzY29wZSwgb2JqW2tleV0sIGtleSkgPT09IHRoaXMuQlJFQUspIFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIFxuICAgICAgICAgIGlmIChpdHIuY2FsbChzY29wZSwgb2JqW2tleV0sIGtleSkgPT09IHRoaXMuQlJFQUspXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgIH1cbiAgICAgICAgICAgIFxuICAgIH0sXG4gICAgXG4gICAgZGVmZXI6IGZ1bmN0aW9uKGZuYykge1xuICAgICAgc2V0VGltZW91dChmbmMsIDApO1xuICAgIH0sXG4gICAgXG4gICAgdG9BcnJheTogZnVuY3Rpb24ob2JqKSB7XG4gICAgICBpZiAob2JqLnRvQXJyYXkpIHJldHVybiBvYmoudG9BcnJheSgpO1xuICAgICAgcmV0dXJuIEFSUl9TTElDRS5jYWxsKG9iaik7XG4gICAgfSxcblxuICAgIGlzVW5kZWZpbmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogPT09IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIFxuICAgIGlzTnVsbDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09PSBudWxsO1xuICAgIH0sXG4gICAgXG4gICAgaXNOYU46IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAhPT0gb2JqO1xuICAgIH0sXG4gICAgXG4gICAgaXNBcnJheTogQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmouY29uc3RydWN0b3IgPT09IEFycmF5O1xuICAgIH0sXG4gICAgXG4gICAgaXNPYmplY3Q6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiA9PT0gT2JqZWN0KG9iaik7XG4gICAgfSxcbiAgICBcbiAgICBpc051bWJlcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09PSBvYmorMDtcbiAgICB9LFxuICAgIFxuICAgIGlzU3RyaW5nOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogPT09IG9iaisnJztcbiAgICB9LFxuICAgIFxuICAgIGlzQm9vbGVhbjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09PSBmYWxzZSB8fCBvYmogPT09IHRydWU7XG4gICAgfSxcbiAgICBcbiAgICBpc0Z1bmN0aW9uOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9XG4gIFxuICB9O1xuICAgIFxufSkoKTtcblxuXG5kYXQuY29sb3IudG9TdHJpbmcgPSAoZnVuY3Rpb24gKGNvbW1vbikge1xuXG4gIHJldHVybiBmdW5jdGlvbihjb2xvcikge1xuXG4gICAgaWYgKGNvbG9yLmEgPT0gMSB8fCBjb21tb24uaXNVbmRlZmluZWQoY29sb3IuYSkpIHtcblxuICAgICAgdmFyIHMgPSBjb2xvci5oZXgudG9TdHJpbmcoMTYpO1xuICAgICAgd2hpbGUgKHMubGVuZ3RoIDwgNikge1xuICAgICAgICBzID0gJzAnICsgcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICcjJyArIHM7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICByZXR1cm4gJ3JnYmEoJyArIE1hdGgucm91bmQoY29sb3IucikgKyAnLCcgKyBNYXRoLnJvdW5kKGNvbG9yLmcpICsgJywnICsgTWF0aC5yb3VuZChjb2xvci5iKSArICcsJyArIGNvbG9yLmEgKyAnKSc7XG5cbiAgICB9XG5cbiAgfVxuXG59KShkYXQudXRpbHMuY29tbW9uKTtcblxuXG5kYXQuQ29sb3IgPSBkYXQuY29sb3IuQ29sb3IgPSAoZnVuY3Rpb24gKGludGVycHJldCwgbWF0aCwgdG9TdHJpbmcsIGNvbW1vbikge1xuXG4gIHZhciBDb2xvciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5fX3N0YXRlID0gaW50ZXJwcmV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBpZiAodGhpcy5fX3N0YXRlID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgJ0ZhaWxlZCB0byBpbnRlcnByZXQgY29sb3IgYXJndW1lbnRzJztcbiAgICB9XG5cbiAgICB0aGlzLl9fc3RhdGUuYSA9IHRoaXMuX19zdGF0ZS5hIHx8IDE7XG5cblxuICB9O1xuXG4gIENvbG9yLkNPTVBPTkVOVFMgPSBbJ3InLCdnJywnYicsJ2gnLCdzJywndicsJ2hleCcsJ2EnXTtcblxuICBjb21tb24uZXh0ZW5kKENvbG9yLnByb3RvdHlwZSwge1xuXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b09yaWdpbmFsOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc3RhdGUuY29udmVyc2lvbi53cml0ZSh0aGlzKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgZGVmaW5lUkdCQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ3InLCAyKTtcbiAgZGVmaW5lUkdCQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ2cnLCAxKTtcbiAgZGVmaW5lUkdCQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ2InLCAwKTtcblxuICBkZWZpbmVIU1ZDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAnaCcpO1xuICBkZWZpbmVIU1ZDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAncycpO1xuICBkZWZpbmVIU1ZDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAndicpO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvci5wcm90b3R5cGUsICdhJywge1xuXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc3RhdGUuYTtcbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbih2KSB7XG4gICAgICB0aGlzLl9fc3RhdGUuYSA9IHY7XG4gICAgfVxuXG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvci5wcm90b3R5cGUsICdoZXgnLCB7XG5cbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICBpZiAoIXRoaXMuX19zdGF0ZS5zcGFjZSAhPT0gJ0hFWCcpIHtcbiAgICAgICAgdGhpcy5fX3N0YXRlLmhleCA9IG1hdGgucmdiX3RvX2hleCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX19zdGF0ZS5oZXg7XG5cbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbih2KSB7XG5cbiAgICAgIHRoaXMuX19zdGF0ZS5zcGFjZSA9ICdIRVgnO1xuICAgICAgdGhpcy5fX3N0YXRlLmhleCA9IHY7XG5cbiAgICB9XG5cbiAgfSk7XG5cbiAgZnVuY3Rpb24gZGVmaW5lUkdCQ29tcG9uZW50KHRhcmdldCwgY29tcG9uZW50LCBjb21wb25lbnRIZXhJbmRleCkge1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29tcG9uZW50LCB7XG5cbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuX19zdGF0ZS5zcGFjZSA9PT0gJ1JHQicpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fX3N0YXRlW2NvbXBvbmVudF07XG4gICAgICAgIH1cblxuICAgICAgICByZWNhbGN1bGF0ZVJHQih0aGlzLCBjb21wb25lbnQsIGNvbXBvbmVudEhleEluZGV4KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fX3N0YXRlW2NvbXBvbmVudF07XG5cbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24odikge1xuXG4gICAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgIT09ICdSR0InKSB7XG4gICAgICAgICAgcmVjYWxjdWxhdGVSR0IodGhpcywgY29tcG9uZW50LCBjb21wb25lbnRIZXhJbmRleCk7XG4gICAgICAgICAgdGhpcy5fX3N0YXRlLnNwYWNlID0gJ1JHQic7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9fc3RhdGVbY29tcG9uZW50XSA9IHY7XG5cbiAgICAgIH1cblxuICAgIH0pO1xuXG4gIH1cblxuICBmdW5jdGlvbiBkZWZpbmVIU1ZDb21wb25lbnQodGFyZ2V0LCBjb21wb25lbnQpIHtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbXBvbmVudCwge1xuXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgPT09ICdIU1YnKVxuICAgICAgICAgIHJldHVybiB0aGlzLl9fc3RhdGVbY29tcG9uZW50XTtcblxuICAgICAgICByZWNhbGN1bGF0ZUhTVih0aGlzKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fX3N0YXRlW2NvbXBvbmVudF07XG5cbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24odikge1xuXG4gICAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgIT09ICdIU1YnKSB7XG4gICAgICAgICAgcmVjYWxjdWxhdGVIU1YodGhpcyk7XG4gICAgICAgICAgdGhpcy5fX3N0YXRlLnNwYWNlID0gJ0hTVic7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9fc3RhdGVbY29tcG9uZW50XSA9IHY7XG5cbiAgICAgIH1cblxuICAgIH0pO1xuXG4gIH1cblxuICBmdW5jdGlvbiByZWNhbGN1bGF0ZVJHQihjb2xvciwgY29tcG9uZW50LCBjb21wb25lbnRIZXhJbmRleCkge1xuXG4gICAgaWYgKGNvbG9yLl9fc3RhdGUuc3BhY2UgPT09ICdIRVgnKSB7XG5cbiAgICAgIGNvbG9yLl9fc3RhdGVbY29tcG9uZW50XSA9IG1hdGguY29tcG9uZW50X2Zyb21faGV4KGNvbG9yLl9fc3RhdGUuaGV4LCBjb21wb25lbnRIZXhJbmRleCk7XG5cbiAgICB9IGVsc2UgaWYgKGNvbG9yLl9fc3RhdGUuc3BhY2UgPT09ICdIU1YnKSB7XG5cbiAgICAgIGNvbW1vbi5leHRlbmQoY29sb3IuX19zdGF0ZSwgbWF0aC5oc3ZfdG9fcmdiKGNvbG9yLl9fc3RhdGUuaCwgY29sb3IuX19zdGF0ZS5zLCBjb2xvci5fX3N0YXRlLnYpKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIHRocm93ICdDb3JydXB0ZWQgY29sb3Igc3RhdGUnO1xuXG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiByZWNhbGN1bGF0ZUhTVihjb2xvcikge1xuXG4gICAgdmFyIHJlc3VsdCA9IG1hdGgucmdiX3RvX2hzdihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcblxuICAgIGNvbW1vbi5leHRlbmQoY29sb3IuX19zdGF0ZSxcbiAgICAgICAge1xuICAgICAgICAgIHM6IHJlc3VsdC5zLFxuICAgICAgICAgIHY6IHJlc3VsdC52XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKCFjb21tb24uaXNOYU4ocmVzdWx0LmgpKSB7XG4gICAgICBjb2xvci5fX3N0YXRlLmggPSByZXN1bHQuaDtcbiAgICB9IGVsc2UgaWYgKGNvbW1vbi5pc1VuZGVmaW5lZChjb2xvci5fX3N0YXRlLmgpKSB7XG4gICAgICBjb2xvci5fX3N0YXRlLmggPSAwO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIENvbG9yO1xuXG59KShkYXQuY29sb3IuaW50ZXJwcmV0ID0gKGZ1bmN0aW9uICh0b1N0cmluZywgY29tbW9uKSB7XG5cbiAgdmFyIHJlc3VsdCwgdG9SZXR1cm47XG5cbiAgdmFyIGludGVycHJldCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdG9SZXR1cm4gPSBmYWxzZTtcblxuICAgIHZhciBvcmlnaW5hbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gY29tbW9uLnRvQXJyYXkoYXJndW1lbnRzKSA6IGFyZ3VtZW50c1swXTtcblxuICAgIGNvbW1vbi5lYWNoKElOVEVSUFJFVEFUSU9OUywgZnVuY3Rpb24oZmFtaWx5KSB7XG5cbiAgICAgIGlmIChmYW1pbHkubGl0bXVzKG9yaWdpbmFsKSkge1xuXG4gICAgICAgIGNvbW1vbi5lYWNoKGZhbWlseS5jb252ZXJzaW9ucywgZnVuY3Rpb24oY29udmVyc2lvbiwgY29udmVyc2lvbk5hbWUpIHtcblxuICAgICAgICAgIHJlc3VsdCA9IGNvbnZlcnNpb24ucmVhZChvcmlnaW5hbCk7XG5cbiAgICAgICAgICBpZiAodG9SZXR1cm4gPT09IGZhbHNlICYmIHJlc3VsdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRvUmV0dXJuID0gcmVzdWx0O1xuICAgICAgICAgICAgcmVzdWx0LmNvbnZlcnNpb25OYW1lID0gY29udmVyc2lvbk5hbWU7XG4gICAgICAgICAgICByZXN1bHQuY29udmVyc2lvbiA9IGNvbnZlcnNpb247XG4gICAgICAgICAgICByZXR1cm4gY29tbW9uLkJSRUFLO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb21tb24uQlJFQUs7XG5cbiAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRvUmV0dXJuO1xuXG4gIH07XG5cbiAgdmFyIElOVEVSUFJFVEFUSU9OUyA9IFtcblxuICAgIC8vIFN0cmluZ3NcbiAgICB7XG5cbiAgICAgIGxpdG11czogY29tbW9uLmlzU3RyaW5nLFxuXG4gICAgICBjb252ZXJzaW9uczoge1xuXG4gICAgICAgIFRIUkVFX0NIQVJfSEVYOiB7XG5cbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuXG4gICAgICAgICAgICB2YXIgdGVzdCA9IG9yaWdpbmFsLm1hdGNoKC9eIyhbQS1GMC05XSkoW0EtRjAtOV0pKFtBLUYwLTldKSQvaSk7XG4gICAgICAgICAgICBpZiAodGVzdCA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzcGFjZTogJ0hFWCcsXG4gICAgICAgICAgICAgIGhleDogcGFyc2VJbnQoXG4gICAgICAgICAgICAgICAgICAnMHgnICtcbiAgICAgICAgICAgICAgICAgICAgICB0ZXN0WzFdLnRvU3RyaW5nKCkgKyB0ZXN0WzFdLnRvU3RyaW5nKCkgK1xuICAgICAgICAgICAgICAgICAgICAgIHRlc3RbMl0udG9TdHJpbmcoKSArIHRlc3RbMl0udG9TdHJpbmcoKSArXG4gICAgICAgICAgICAgICAgICAgICAgdGVzdFszXS50b1N0cmluZygpICsgdGVzdFszXS50b1N0cmluZygpKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogdG9TdHJpbmdcblxuICAgICAgICB9LFxuXG4gICAgICAgIFNJWF9DSEFSX0hFWDoge1xuXG4gICAgICAgICAgcmVhZDogZnVuY3Rpb24ob3JpZ2luYWwpIHtcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBvcmlnaW5hbC5tYXRjaCgvXiMoW0EtRjAtOV17Nn0pJC9pKTtcbiAgICAgICAgICAgIGlmICh0ZXN0ID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAnSEVYJyxcbiAgICAgICAgICAgICAgaGV4OiBwYXJzZUludCgnMHgnICsgdGVzdFsxXS50b1N0cmluZygpKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogdG9TdHJpbmdcblxuICAgICAgICB9LFxuXG4gICAgICAgIENTU19SR0I6IHtcblxuICAgICAgICAgIHJlYWQ6IGZ1bmN0aW9uKG9yaWdpbmFsKSB7XG5cbiAgICAgICAgICAgIHZhciB0ZXN0ID0gb3JpZ2luYWwubWF0Y2goL15yZ2JcXChcXHMqKC4rKVxccyosXFxzKiguKylcXHMqLFxccyooLispXFxzKlxcKS8pO1xuICAgICAgICAgICAgaWYgKHRlc3QgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3BhY2U6ICdSR0InLFxuICAgICAgICAgICAgICByOiBwYXJzZUZsb2F0KHRlc3RbMV0pLFxuICAgICAgICAgICAgICBnOiBwYXJzZUZsb2F0KHRlc3RbMl0pLFxuICAgICAgICAgICAgICBiOiBwYXJzZUZsb2F0KHRlc3RbM10pXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHdyaXRlOiB0b1N0cmluZ1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgQ1NTX1JHQkE6IHtcblxuICAgICAgICAgIHJlYWQ6IGZ1bmN0aW9uKG9yaWdpbmFsKSB7XG5cbiAgICAgICAgICAgIHZhciB0ZXN0ID0gb3JpZ2luYWwubWF0Y2goL15yZ2JhXFwoXFxzKiguKylcXHMqLFxccyooLispXFxzKixcXHMqKC4rKVxccypcXCxcXHMqKC4rKVxccypcXCkvKTtcbiAgICAgICAgICAgIGlmICh0ZXN0ID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAnUkdCJyxcbiAgICAgICAgICAgICAgcjogcGFyc2VGbG9hdCh0ZXN0WzFdKSxcbiAgICAgICAgICAgICAgZzogcGFyc2VGbG9hdCh0ZXN0WzJdKSxcbiAgICAgICAgICAgICAgYjogcGFyc2VGbG9hdCh0ZXN0WzNdKSxcbiAgICAgICAgICAgICAgYTogcGFyc2VGbG9hdCh0ZXN0WzRdKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogdG9TdHJpbmdcblxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICAvLyBOdW1iZXJzXG4gICAge1xuXG4gICAgICBsaXRtdXM6IGNvbW1vbi5pc051bWJlcixcblxuICAgICAgY29udmVyc2lvbnM6IHtcblxuICAgICAgICBIRVg6IHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3BhY2U6ICdIRVgnLFxuICAgICAgICAgICAgICBoZXg6IG9yaWdpbmFsLFxuICAgICAgICAgICAgICBjb252ZXJzaW9uTmFtZTogJ0hFWCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3IuaGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgLy8gQXJyYXlzXG4gICAge1xuXG4gICAgICBsaXRtdXM6IGNvbW1vbi5pc0FycmF5LFxuXG4gICAgICBjb252ZXJzaW9uczoge1xuXG4gICAgICAgIFJHQl9BUlJBWToge1xuICAgICAgICAgIHJlYWQ6IGZ1bmN0aW9uKG9yaWdpbmFsKSB7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoICE9IDMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAnUkdCJyxcbiAgICAgICAgICAgICAgcjogb3JpZ2luYWxbMF0sXG4gICAgICAgICAgICAgIGc6IG9yaWdpbmFsWzFdLFxuICAgICAgICAgICAgICBiOiBvcmlnaW5hbFsyXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gW2NvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmJdO1xuICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIFJHQkFfQVJSQVk6IHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsLmxlbmd0aCAhPSA0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzcGFjZTogJ1JHQicsXG4gICAgICAgICAgICAgIHI6IG9yaWdpbmFsWzBdLFxuICAgICAgICAgICAgICBnOiBvcmlnaW5hbFsxXSxcbiAgICAgICAgICAgICAgYjogb3JpZ2luYWxbMl0sXG4gICAgICAgICAgICAgIGE6IG9yaWdpbmFsWzNdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogZnVuY3Rpb24oY29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBbY29sb3IuciwgY29sb3IuZywgY29sb3IuYiwgY29sb3IuYV07XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgfSxcblxuICAgIC8vIE9iamVjdHNcbiAgICB7XG5cbiAgICAgIGxpdG11czogY29tbW9uLmlzT2JqZWN0LFxuXG4gICAgICBjb252ZXJzaW9uczoge1xuXG4gICAgICAgIFJHQkFfT0JKOiB7XG4gICAgICAgICAgcmVhZDogZnVuY3Rpb24ob3JpZ2luYWwpIHtcbiAgICAgICAgICAgIGlmIChjb21tb24uaXNOdW1iZXIob3JpZ2luYWwucikgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuZykgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuYikgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuYSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzcGFjZTogJ1JHQicsXG4gICAgICAgICAgICAgICAgcjogb3JpZ2luYWwucixcbiAgICAgICAgICAgICAgICBnOiBvcmlnaW5hbC5nLFxuICAgICAgICAgICAgICAgIGI6IG9yaWdpbmFsLmIsXG4gICAgICAgICAgICAgICAgYTogb3JpZ2luYWwuYVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHdyaXRlOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcjogY29sb3IucixcbiAgICAgICAgICAgICAgZzogY29sb3IuZyxcbiAgICAgICAgICAgICAgYjogY29sb3IuYixcbiAgICAgICAgICAgICAgYTogY29sb3IuYVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBSR0JfT0JKOiB7XG4gICAgICAgICAgcmVhZDogZnVuY3Rpb24ob3JpZ2luYWwpIHtcbiAgICAgICAgICAgIGlmIChjb21tb24uaXNOdW1iZXIob3JpZ2luYWwucikgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuZykgJiZcbiAgICAgICAgICAgICAgICBjb21tb24uaXNOdW1iZXIob3JpZ2luYWwuYikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzcGFjZTogJ1JHQicsXG4gICAgICAgICAgICAgICAgcjogb3JpZ2luYWwucixcbiAgICAgICAgICAgICAgICBnOiBvcmlnaW5hbC5nLFxuICAgICAgICAgICAgICAgIGI6IG9yaWdpbmFsLmJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB3cml0ZTogZnVuY3Rpb24oY29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHI6IGNvbG9yLnIsXG4gICAgICAgICAgICAgIGc6IGNvbG9yLmcsXG4gICAgICAgICAgICAgIGI6IGNvbG9yLmJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgSFNWQV9PQko6IHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuICAgICAgICAgICAgaWYgKGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5oKSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5zKSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC52KSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5hKSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNwYWNlOiAnSFNWJyxcbiAgICAgICAgICAgICAgICBoOiBvcmlnaW5hbC5oLFxuICAgICAgICAgICAgICAgIHM6IG9yaWdpbmFsLnMsXG4gICAgICAgICAgICAgICAgdjogb3JpZ2luYWwudixcbiAgICAgICAgICAgICAgICBhOiBvcmlnaW5hbC5hXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBoOiBjb2xvci5oLFxuICAgICAgICAgICAgICBzOiBjb2xvci5zLFxuICAgICAgICAgICAgICB2OiBjb2xvci52LFxuICAgICAgICAgICAgICBhOiBjb2xvci5hXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIEhTVl9PQko6IHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbihvcmlnaW5hbCkge1xuICAgICAgICAgICAgaWYgKGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5oKSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC5zKSAmJlxuICAgICAgICAgICAgICAgIGNvbW1vbi5pc051bWJlcihvcmlnaW5hbC52KSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNwYWNlOiAnSFNWJyxcbiAgICAgICAgICAgICAgICBoOiBvcmlnaW5hbC5oLFxuICAgICAgICAgICAgICAgIHM6IG9yaWdpbmFsLnMsXG4gICAgICAgICAgICAgICAgdjogb3JpZ2luYWwudlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHdyaXRlOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaDogY29sb3IuaCxcbiAgICAgICAgICAgICAgczogY29sb3IucyxcbiAgICAgICAgICAgICAgdjogY29sb3IudlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH1cblxuXG4gIF07XG5cbiAgcmV0dXJuIGludGVycHJldDtcblxuXG59KShkYXQuY29sb3IudG9TdHJpbmcsXG5kYXQudXRpbHMuY29tbW9uKSxcbmRhdC5jb2xvci5tYXRoID0gKGZ1bmN0aW9uICgpIHtcblxuICB2YXIgdG1wQ29tcG9uZW50O1xuXG4gIHJldHVybiB7XG5cbiAgICBoc3ZfdG9fcmdiOiBmdW5jdGlvbihoLCBzLCB2KSB7XG5cbiAgICAgIHZhciBoaSA9IE1hdGguZmxvb3IoaCAvIDYwKSAlIDY7XG5cbiAgICAgIHZhciBmID0gaCAvIDYwIC0gTWF0aC5mbG9vcihoIC8gNjApO1xuICAgICAgdmFyIHAgPSB2ICogKDEuMCAtIHMpO1xuICAgICAgdmFyIHEgPSB2ICogKDEuMCAtIChmICogcykpO1xuICAgICAgdmFyIHQgPSB2ICogKDEuMCAtICgoMS4wIC0gZikgKiBzKSk7XG4gICAgICB2YXIgYyA9IFtcbiAgICAgICAgW3YsIHQsIHBdLFxuICAgICAgICBbcSwgdiwgcF0sXG4gICAgICAgIFtwLCB2LCB0XSxcbiAgICAgICAgW3AsIHEsIHZdLFxuICAgICAgICBbdCwgcCwgdl0sXG4gICAgICAgIFt2LCBwLCBxXVxuICAgICAgXVtoaV07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHI6IGNbMF0gKiAyNTUsXG4gICAgICAgIGc6IGNbMV0gKiAyNTUsXG4gICAgICAgIGI6IGNbMl0gKiAyNTVcbiAgICAgIH07XG5cbiAgICB9LFxuXG4gICAgcmdiX3RvX2hzdjogZnVuY3Rpb24ociwgZywgYikge1xuXG4gICAgICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYiksXG4gICAgICAgICAgbWF4ID0gTWF0aC5tYXgociwgZywgYiksXG4gICAgICAgICAgZGVsdGEgPSBtYXggLSBtaW4sXG4gICAgICAgICAgaCwgcztcblxuICAgICAgaWYgKG1heCAhPSAwKSB7XG4gICAgICAgIHMgPSBkZWx0YSAvIG1heDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaDogTmFOLFxuICAgICAgICAgIHM6IDAsXG4gICAgICAgICAgdjogMFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAociA9PSBtYXgpIHtcbiAgICAgICAgaCA9IChnIC0gYikgLyBkZWx0YTtcbiAgICAgIH0gZWxzZSBpZiAoZyA9PSBtYXgpIHtcbiAgICAgICAgaCA9IDIgKyAoYiAtIHIpIC8gZGVsdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoID0gNCArIChyIC0gZykgLyBkZWx0YTtcbiAgICAgIH1cbiAgICAgIGggLz0gNjtcbiAgICAgIGlmIChoIDwgMCkge1xuICAgICAgICBoICs9IDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGg6IGggKiAzNjAsXG4gICAgICAgIHM6IHMsXG4gICAgICAgIHY6IG1heCAvIDI1NVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgcmdiX3RvX2hleDogZnVuY3Rpb24ociwgZywgYikge1xuICAgICAgdmFyIGhleCA9IHRoaXMuaGV4X3dpdGhfY29tcG9uZW50KDAsIDIsIHIpO1xuICAgICAgaGV4ID0gdGhpcy5oZXhfd2l0aF9jb21wb25lbnQoaGV4LCAxLCBnKTtcbiAgICAgIGhleCA9IHRoaXMuaGV4X3dpdGhfY29tcG9uZW50KGhleCwgMCwgYik7XG4gICAgICByZXR1cm4gaGV4O1xuICAgIH0sXG5cbiAgICBjb21wb25lbnRfZnJvbV9oZXg6IGZ1bmN0aW9uKGhleCwgY29tcG9uZW50SW5kZXgpIHtcbiAgICAgIHJldHVybiAoaGV4ID4+IChjb21wb25lbnRJbmRleCAqIDgpKSAmIDB4RkY7XG4gICAgfSxcblxuICAgIGhleF93aXRoX2NvbXBvbmVudDogZnVuY3Rpb24oaGV4LCBjb21wb25lbnRJbmRleCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PCAodG1wQ29tcG9uZW50ID0gY29tcG9uZW50SW5kZXggKiA4KSB8IChoZXggJiB+ICgweEZGIDw8IHRtcENvbXBvbmVudCkpO1xuICAgIH1cblxuICB9XG5cbn0pKCksXG5kYXQuY29sb3IudG9TdHJpbmcsXG5kYXQudXRpbHMuY29tbW9uKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9kYXQtZ3VpL3ZlbmRvci9kYXQuY29sb3IuanNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSIsIi8vIHN0YXRzLmpzIC0gaHR0cDovL2dpdGh1Yi5jb20vbXJkb29iL3N0YXRzLmpzXG4oZnVuY3Rpb24oZixlKXtcIm9iamVjdFwiPT09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTpmLlN0YXRzPWUoKX0pKHRoaXMsZnVuY3Rpb24oKXt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoYSl7Yy5hcHBlbmRDaGlsZChhLmRvbSk7cmV0dXJuIGF9ZnVuY3Rpb24gdShhKXtmb3IodmFyIGQ9MDtkPGMuY2hpbGRyZW4ubGVuZ3RoO2QrKyljLmNoaWxkcmVuW2RdLnN0eWxlLmRpc3BsYXk9ZD09PWE/XCJibG9ja1wiOlwibm9uZVwiO2w9YX12YXIgbD0wLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7Y3Vyc29yOnBvaW50ZXI7b3BhY2l0eTowLjk7ei1pbmRleDoxMDAwMFwiO2MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO1xudSgrK2wlYy5jaGlsZHJlbi5sZW5ndGgpfSwhMSk7dmFyIGs9KHBlcmZvcm1hbmNlfHxEYXRlKS5ub3coKSxnPWssYT0wLHI9ZShuZXcgZi5QYW5lbChcIkZQU1wiLFwiIzBmZlwiLFwiIzAwMlwiKSksaD1lKG5ldyBmLlBhbmVsKFwiTVNcIixcIiMwZjBcIixcIiMwMjBcIikpO2lmKHNlbGYucGVyZm9ybWFuY2UmJnNlbGYucGVyZm9ybWFuY2UubWVtb3J5KXZhciB0PWUobmV3IGYuUGFuZWwoXCJNQlwiLFwiI2YwOFwiLFwiIzIwMVwiKSk7dSgwKTtyZXR1cm57UkVWSVNJT046MTYsZG9tOmMsYWRkUGFuZWw6ZSxzaG93UGFuZWw6dSxiZWdpbjpmdW5jdGlvbigpe2s9KHBlcmZvcm1hbmNlfHxEYXRlKS5ub3coKX0sZW5kOmZ1bmN0aW9uKCl7YSsrO3ZhciBjPShwZXJmb3JtYW5jZXx8RGF0ZSkubm93KCk7aC51cGRhdGUoYy1rLDIwMCk7aWYoYz5nKzFFMyYmKHIudXBkYXRlKDFFMyphLyhjLWcpLDEwMCksZz1jLGE9MCx0KSl7dmFyIGQ9cGVyZm9ybWFuY2UubWVtb3J5O3QudXBkYXRlKGQudXNlZEpTSGVhcFNpemUvXG4xMDQ4NTc2LGQuanNIZWFwU2l6ZUxpbWl0LzEwNDg1NzYpfXJldHVybiBjfSx1cGRhdGU6ZnVuY3Rpb24oKXtrPXRoaXMuZW5kKCl9LGRvbUVsZW1lbnQ6YyxzZXRNb2RlOnV9fTtmLlBhbmVsPWZ1bmN0aW9uKGUsZixsKXt2YXIgYz1JbmZpbml0eSxrPTAsZz1NYXRoLnJvdW5kLGE9Zyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSkscj04MCphLGg9NDgqYSx0PTMqYSx2PTIqYSxkPTMqYSxtPTE1KmEsbj03NCphLHA9MzAqYSxxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cS53aWR0aD1yO3EuaGVpZ2h0PWg7cS5zdHlsZS5jc3NUZXh0PVwid2lkdGg6ODBweDtoZWlnaHQ6NDhweFwiO3ZhciBiPXEuZ2V0Q29udGV4dChcIjJkXCIpO2IuZm9udD1cImJvbGQgXCIrOSphK1wicHggSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZcIjtiLnRleHRCYXNlbGluZT1cInRvcFwiO2IuZmlsbFN0eWxlPWw7Yi5maWxsUmVjdCgwLDAscixoKTtiLmZpbGxTdHlsZT1mO2IuZmlsbFRleHQoZSx0LHYpO1xuYi5maWxsUmVjdChkLG0sbixwKTtiLmZpbGxTdHlsZT1sO2IuZ2xvYmFsQWxwaGE9Ljk7Yi5maWxsUmVjdChkLG0sbixwKTtyZXR1cm57ZG9tOnEsdXBkYXRlOmZ1bmN0aW9uKGgsdyl7Yz1NYXRoLm1pbihjLGgpO2s9TWF0aC5tYXgoayxoKTtiLmZpbGxTdHlsZT1sO2IuZ2xvYmFsQWxwaGE9MTtiLmZpbGxSZWN0KDAsMCxyLG0pO2IuZmlsbFN0eWxlPWY7Yi5maWxsVGV4dChnKGgpK1wiIFwiK2UrXCIgKFwiK2coYykrXCItXCIrZyhrKStcIilcIix0LHYpO2IuZHJhd0ltYWdlKHEsZCthLG0sbi1hLHAsZCxtLG4tYSxwKTtiLmZpbGxSZWN0KGQrbi1hLG0sYSxwKTtiLmZpbGxTdHlsZT1sO2IuZ2xvYmFsQWxwaGE9Ljk7Yi5maWxsUmVjdChkK24tYSxtLGEsZygoMS1oL3cpKnApKX19fTtyZXR1cm4gZn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3RhdHMuanMvYnVpbGQvc3RhdHMubWluLmpzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9