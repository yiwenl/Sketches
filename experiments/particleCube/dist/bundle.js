/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t,e,r={427:t=>{"use strict";t.exports=function(){try{return!!new Blob}catch(t){return!1}}()},42:(t,e,r)=>{"use strict";var n=r(187).EventEmitter;function i(){n.call(this),this.setMaxListeners(20)}i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.off=function(t,e){return e?this.removeListener(t,e):t?this.removeAllListeners(t):this.removeAllListeners()},t.exports=i},622:(t,e,r)=>{"use strict";var n=r(42),i=r(388),a=0;t.exports=function t(e){var r,o={},s=[],u=[],h=0,c=0,E={},_=function(n){return Array.isArray(n)?(n.forEach(_),r):((a=n.assets&&Array.isArray(n.assets)?t(l(n,e)):i(l(n,e))).once("destroy",A),u.push(a),E[a.id]=a,r);var a},f=function(t){return arguments.length?o[t]?o[t]:E[t]:s},l=function(t,e){return"string"==typeof t&&(t={url:t}),void 0===t.isTouchLocked&&(t.isTouchLocked=e.isTouchLocked),void 0===t.blob&&(t.blob=e.blob),void 0===t.basePath&&(t.basePath=e.basePath),t.id=t.id||t.url||String(++a),t.type=t.type||(r=t.url)&&r.split("?")[0].split(".").pop().toLowerCase(),t.crossOrigin=t.crossOrigin||e.crossOrigin,t.webAudioContext=t.webAudioContext||e.webAudioContext,t.log=e.log,t;var r},T=function(t){var e=h+t;r.emit("progress",e/c)},d=function(t,e,n){Array.isArray(t)&&(t={id:e,file:t,type:n}),h++,r.emit("progress",h/c),o[t.id]=t.file,s.push(t),r.emit("childcomplete",t),M()},R=function(t){c--,r.listeners("error").length?r.emit("error",t):console.error(t),M()},A=function(t){E[t]=null,delete E[t],o[t]=null,delete o[t],s.some((function(e,r){if(e.id===t)return s.splice(r,1),!0}))},M=function(){h>=c&&r.emit("complete",s,o,e.id,"group")};return r=Object.create(n.prototype,{_events:{value:{}},id:{get:function(){return e.id}},add:{value:_},start:{value:function(){return c=u.length,u.forEach((function(t){t.on("progress",T).once("complete",d).once("error",R).start()})),u=[],r}},get:{value:f},find:{value:function(t){if(f(t))return f(t);var e=null;return Object.keys(E).some((function(r){return!!(e=E[r].find&&E[r].find(t))})),e}},getLoader:{value:function(t){return E[t]}},loaded:{get:function(){return h>=c}},file:{get:function(){return s}},destroy:{value:function(){for(;u.length;)u.pop().destroy();return r.off("error"),r.off("progress"),r.off("complete"),s=[],o={},e.webAudioContext=null,c=0,h=0,Object.keys(E).forEach((function(t){E[t].destroy()})),E={},r.emit("destroy",r.id),r}}}),e=l(e||{},{basePath:"",blob:!1,touchLocked:!1,crossOrigin:null,webAudioContext:null,log:!1}),Array.isArray(e.assets)&&_(e.assets),r}},719:(t,e,r)=>{"use strict";var n=r(622);n.stats=r(795),t.exports=n},388:(t,e,r)=>{"use strict";var n=r(42),i=r(427),a=r(795);t.exports=function(t){var e,r,o,s,u,h,c=t.id,E=t.basePath||"",_=t.url,f=t.type,l=t.crossOrigin,T=t.isTouchLocked,d=t.blob&&i,R=t.webAudioContext,A=t.log,M=function(t){t&&(h={id:c,file:t,type:f},e.emit("progress",1),e.emit("complete",h,c,f),C())},m=function(t,e){r=e||v,(o=new XMLHttpRequest).open("GET",E+_,!0),o.responseType=t,o.addEventListener("progress",p),o.addEventListener("load",r),o.addEventListener("error",P),o.send()},p=function(t){t.lengthComputable&&e.emit("progress",t.loaded/t.total)},v=function(){L()&&M(o.response)},L=function(){return o&&o.status<400?(a.update(o,s,_,A),!0):(P(o&&o.statusText),!1)},S=function(){o=new Image,l&&(o.crossOrigin="anonymous"),o.addEventListener("error",P,!1),o.addEventListener("load",N,!1),o.src=E+_},N=function(t){window.clearTimeout(u),t||!o.error&&o.readyState?M(o):P()},I=function(){m("blob",(function(){L()&&((o=new Image).addEventListener("error",P,!1),o.addEventListener("load",g,!1),o.src=window.URL.createObjectURL(o.response))}))},g=function(){window.URL.revokeObjectURL(o.src),M(o)},b=function(){m("arraybuffer",(function(){L()&&R.decodeAudioData(o.response,(function(t){o=null,M(t)}),(function(t){P(t)}))}))},O=function(t){o=document.createElement(t),T||(window.clearTimeout(u),u=window.setTimeout(N,2e3),o.addEventListener("canplaythrough",N,!1)),o.addEventListener("error",P,!1),o.preload="auto",o.src=E+_,o.load(),T&&M(o)},P=function(t){window.clearTimeout(u);var r=t;o&&o.tagName&&o.error?r="MediaError: "+["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"][o.error.code]+" "+o.src:o&&o.statusText?r=o.statusText:t&&t.message?r=t.message:t&&t.type&&(r=t.type),e.emit("error",'Error loading "'+E+_+'" '+r),x()},C=function(){e.off("error"),e.off("progress"),e.off("complete"),o&&(o.removeEventListener("progress",p),o.removeEventListener("load",r),o.removeEventListener("error",P),o.removeEventListener("load",N),o.removeEventListener("canplaythrough",N),o.removeEventListener("load",g))},x=function(){C(),o&&o.abort&&o.readyState<4&&o.abort(),o=null,R=null,h=null,window.clearTimeout(u),e.emit("destroy",c)};return e=Object.create(n.prototype,{_events:{value:{}},id:{value:t.id},start:{value:function(){switch(s=Date.now(),f){case"json":m("json",(function(){if(L()){var t=o.response;"string"==typeof t&&(t=JSON.parse(t)),M(t)}}));break;case"jpg":case"png":case"gif":case"webp":case"svg":d?I():S();break;case"mp3":case"ogg":case"opus":case"wav":case"m4a":R?b():O("audio");break;case"ogv":case"mp4":case"webm":case"hls":d?m("blob"):O("video");break;case"bin":case"binary":m("arraybuffer");break;case"txt":case"text":m("text");break;default:throw"AssetsLoader ERROR: Unknown type for file with URL: "+E+_+" ("+f+")"}}},loaded:{get:function(){return!!h}},file:{get:function(){return h}},destroy:{value:x}})}},795:t=>{"use strict";t.exports={mbs:0,secs:0,update:function(t,e,r,n){var i,a=t.getAllResponseHeaders();if(a){var o=a.match(/content-length: (\d+)/i);o&&o.length&&(i=o[1])}if(i){var s=(i=parseInt(i,10))/1024/1024,u=(Date.now()-e)/1e3;this.secs+=u,this.mbs+=s,n&&this.log(r,s,u)}else n&&console.warn.call(console,"Can't get Content-Length:",r)},log:function(t,e,r){if(t){var n="File loaded: "+t.substr(t.lastIndexOf("/")+1)+" size:"+e.toFixed(2)+"mb time:"+r.toFixed(2)+"s speed:"+(e/r).toFixed(2)+"mbps";console.log.call(console,n)}var i="Total loaded: "+this.mbs.toFixed(2)+"mb time:"+this.secs.toFixed(2)+"s speed:"+this.getMbps().toFixed(2)+"mbps";console.log.call(console,i)},getMbps:function(){return this.mbs/this.secs}}},187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,a),n(r)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}T(t,e,a,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&T(t,"error",e,{once:!0})}(t,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,r,n){var i,a,o,h;if(s(r),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),o=a[e]),void 0===o)o=a[e]=r,++t._eventsCount;else if("function"==typeof o?o=a[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=u(t))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=o.length,h=c,console&&console.warn&&console.warn(h)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function _(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):l(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function l(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function T(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(a){n.once&&t.removeEventListener(e,i),r(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[t];if(void 0===u)return!1;if("function"==typeof u)n(u,this,e);else{var h=u.length,c=l(u,h);for(r=0;r<h;++r)n(c[r],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return s(e),this.on(t,E(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,E(this,t,e)),this},a.prototype.removeListener=function(t,e){var r,n,i,a,o;if(s(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===e||r[a].listener===e){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},a.prototype.listeners=function(t){return _(this,t,!0)},a.prototype.rawListeners=function(t){return _(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},685:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ARRAY_TYPE:()=>i,EPSILON:()=>n,RANDOM:()=>a,equals:()=>h,setMatrixArrayType:()=>o,toRadian:()=>u});var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;function o(t){i=t}var s=Math.PI/180;function u(t){return t*s}function h(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},370:(t,e,r)=>{"use strict";r.r(e),r.d(e,{glMatrix:()=>h,mat2:()=>n,mat2d:()=>i,mat3:()=>st,mat4:()=>ut,quat:()=>o,quat2:()=>s,vec2:()=>u,vec3:()=>ht,vec4:()=>a});var n={};r.r(n),r.d(n,{LDU:()=>g,add:()=>b,adjoint:()=>A,clone:()=>E,copy:()=>_,create:()=>c,determinant:()=>M,equals:()=>C,exactEquals:()=>P,frob:()=>I,fromRotation:()=>L,fromScaling:()=>S,fromValues:()=>l,identity:()=>f,invert:()=>R,mul:()=>F,multiply:()=>m,multiplyScalar:()=>x,multiplyScalarAndAdd:()=>U,rotate:()=>p,scale:()=>v,set:()=>T,str:()=>N,sub:()=>y,subtract:()=>O,transpose:()=>d});var i={};r.r(i),r.d(i,{add:()=>J,clone:()=>w,copy:()=>B,create:()=>D,determinant:()=>Y,equals:()=>it,exactEquals:()=>nt,frob:()=>Q,fromRotation:()=>K,fromScaling:()=>Z,fromTranslation:()=>z,fromValues:()=>X,identity:()=>G,invert:()=>H,mul:()=>at,multiply:()=>W,multiplyScalar:()=>et,multiplyScalarAndAdd:()=>rt,rotate:()=>j,scale:()=>q,set:()=>V,str:()=>$,sub:()=>ot,subtract:()=>tt,translate:()=>k});var a={};r.r(a),r.d(a,{add:()=>Tt,ceil:()=>Mt,clone:()=>Et,copy:()=>ft,create:()=>ct,cross:()=>Ft,dist:()=>kt,distance:()=>It,div:()=>qt,divide:()=>At,dot:()=>Ut,equals:()=>Ht,exactEquals:()=>Vt,floor:()=>mt,forEach:()=>$t,fromValues:()=>_t,inverse:()=>Ct,len:()=>Zt,length:()=>bt,lerp:()=>yt,max:()=>vt,min:()=>pt,mul:()=>jt,multiply:()=>Rt,negate:()=>Pt,normalize:()=>xt,random:()=>Dt,round:()=>Lt,scale:()=>St,scaleAndAdd:()=>Nt,set:()=>lt,sqrDist:()=>Kt,sqrLen:()=>zt,squaredDistance:()=>gt,squaredLength:()=>Ot,str:()=>Xt,sub:()=>Wt,subtract:()=>dt,transformMat4:()=>wt,transformQuat:()=>Bt,zero:()=>Gt});var o={};r.r(o),r.d(o,{add:()=>be,calculateW:()=>se,clone:()=>Se,conjugate:()=>le,copy:()=>Ie,create:()=>Qt,dot:()=>Ce,equals:()=>Ge,exactEquals:()=>Be,exp:()=>ue,fromEuler:()=>de,fromMat3:()=>Te,fromValues:()=>Ne,getAngle:()=>re,getAxisAngle:()=>ee,identity:()=>Jt,invert:()=>fe,len:()=>Fe,length:()=>Ue,lerp:()=>xe,ln:()=>he,mul:()=>Oe,multiply:()=>ne,normalize:()=>we,pow:()=>ce,random:()=>_e,rotateX:()=>ie,rotateY:()=>ae,rotateZ:()=>oe,rotationTo:()=>Xe,scale:()=>Pe,set:()=>ge,setAxes:()=>He,setAxisAngle:()=>te,slerp:()=>Ee,sqlerp:()=>Ve,sqrLen:()=>De,squaredLength:()=>ye,str:()=>Re});var s={};r.r(s),r.d(s,{add:()=>_r,clone:()=>We,conjugate:()=>Mr,copy:()=>$e,create:()=>Ye,dot:()=>dr,equals:()=>gr,exactEquals:()=>Ir,fromMat4:()=>ze,fromRotation:()=>Ze,fromRotationTranslation:()=>ke,fromRotationTranslationValues:()=>qe,fromTranslation:()=>Ke,fromValues:()=>je,getDual:()=>er,getReal:()=>tr,getTranslation:()=>ir,identity:()=>Qe,invert:()=>Ar,len:()=>pr,length:()=>mr,lerp:()=>Rr,mul:()=>lr,multiply:()=>fr,normalize:()=>Sr,rotateAroundAxis:()=>Er,rotateByQuatAppend:()=>hr,rotateByQuatPrepend:()=>cr,rotateX:()=>or,rotateY:()=>sr,rotateZ:()=>ur,scale:()=>Tr,set:()=>Je,setDual:()=>nr,setReal:()=>rr,sqrLen:()=>Lr,squaredLength:()=>vr,str:()=>Nr,translate:()=>ar});var u={};r.r(u),r.d(u,{add:()=>Ur,angle:()=>sn,ceil:()=>wr,clone:()=>Or,copy:()=>Cr,create:()=>br,cross:()=>Qr,dist:()=>dn,distance:()=>Wr,div:()=>Tn,divide:()=>Dr,dot:()=>$r,equals:()=>En,exactEquals:()=>cn,floor:()=>Br,forEach:()=>Mn,fromValues:()=>Pr,inverse:()=>Zr,len:()=>_n,length:()=>qr,lerp:()=>Jr,max:()=>Xr,min:()=>Gr,mul:()=>ln,multiply:()=>yr,negate:()=>Kr,normalize:()=>zr,random:()=>tn,rotate:()=>on,round:()=>Vr,scale:()=>Hr,scaleAndAdd:()=>Yr,set:()=>xr,sqrDist:()=>Rn,sqrLen:()=>An,squaredDistance:()=>jr,squaredLength:()=>kr,str:()=>hn,sub:()=>fn,subtract:()=>Fr,transformMat2:()=>en,transformMat2d:()=>rn,transformMat3:()=>nn,transformMat4:()=>an,zero:()=>un});var h=r(685);function c(){var t=new h.ARRAY_TYPE(4);return h.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function E(t){var e=new h.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function _(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function l(t,e,r,n){var i=new h.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function T(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function d(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function R(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*a-i*n;return o?(o=1/o,t[0]=a*o,t[1]=-n*o,t[2]=-i*o,t[3]=r*o,t):null}function A(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function M(t){return t[0]*t[3]-t[2]*t[1]}function m(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],h=r[2],c=r[3];return t[0]=n*s+a*u,t[1]=i*s+o*u,t[2]=n*h+a*c,t[3]=i*h+o*c,t}function p(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=i*u+o*s,t[2]=n*-s+a*u,t[3]=i*-s+o*u,t}function v(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t}function L(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function S(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function N(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function I(t){return Math.hypot(t[0],t[1],t[2],t[3])}function g(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function b(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function O(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function P(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function C(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=h.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}function x(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function U(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}var F=m,y=O;function D(){var t=new h.ARRAY_TYPE(6);return h.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function w(t){var e=new h.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function B(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function G(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function X(t,e,r,n,i,a){var o=new h.ARRAY_TYPE(6);return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o[4]=i,o[5]=a,o}function V(t,e,r,n,i,a,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t}function H(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=r*a-n*i;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-i*u,t[3]=r*u,t[4]=(i*s-a*o)*u,t[5]=(n*o-r*s)*u,t):null}function Y(t){return t[0]*t[3]-t[1]*t[2]}function W(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=r[0],c=r[1],E=r[2],_=r[3],f=r[4],l=r[5];return t[0]=n*h+a*c,t[1]=i*h+o*c,t[2]=n*E+a*_,t[3]=i*E+o*_,t[4]=n*f+a*l+s,t[5]=i*f+o*l+u,t}function j(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=Math.sin(r),c=Math.cos(r);return t[0]=n*c+a*h,t[1]=i*c+o*h,t[2]=n*-h+a*c,t[3]=i*-h+o*c,t[4]=s,t[5]=u,t}function q(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=r[0],c=r[1];return t[0]=n*h,t[1]=i*h,t[2]=a*c,t[3]=o*c,t[4]=s,t[5]=u,t}function k(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=r[0],c=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=n*h+a*c+s,t[5]=i*h+o*c+u,t}function K(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function Z(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function z(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function $(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function Q(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function J(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function tt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function et(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function rt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function nt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function it(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=e[0],c=e[1],E=e[2],_=e[3],f=e[4],l=e[5];return Math.abs(r-u)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-E)<=h.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(a-_)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-f)<=h.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-l)<=h.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))}var at=W,ot=tt,st=r(600),ut=r(975),ht=r(160);function ct(){var t=new h.ARRAY_TYPE(4);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Et(t){var e=new h.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function _t(t,e,r,n){var i=new h.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function ft(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function lt(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function Tt(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function dt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function Rt(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function At(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function Mt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function mt(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function pt(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function vt(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function Lt(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function St(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function Nt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function It(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.hypot(r,n,i,a)}function gt(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}function bt(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function Ot(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function Pt(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function Ct(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function xt(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o,t}function Ut(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ft(t,e,r,n){var i=r[0]*n[1]-r[1]*n[0],a=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1],h=r[2]*n[3]-r[3]*n[2],c=e[0],E=e[1],_=e[2],f=e[3];return t[0]=E*h-_*u+f*s,t[1]=-c*h+_*o-f*a,t[2]=c*u-E*o+f*i,t[3]=-c*s+E*a-_*i,t}function yt(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t[3]=s+n*(r[3]-s),t}function Dt(t,e){var r,n,i,a,o,s;e=e||1;do{o=(r=2*h.RANDOM()-1)*r+(n=2*h.RANDOM()-1)*n}while(o>=1);do{s=(i=2*h.RANDOM()-1)*i+(a=2*h.RANDOM()-1)*a}while(s>=1);var u=Math.sqrt((1-o)/s);return t[0]=e*r,t[1]=e*n,t[2]=e*i*u,t[3]=e*a*u,t}function wt(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t}function Bt(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2],h=r[3],c=h*n+s*a-u*i,E=h*i+u*n-o*a,_=h*a+o*i-s*n,f=-o*n-s*i-u*a;return t[0]=c*h+f*-o+E*-u-_*-s,t[1]=E*h+f*-s+_*-o-c*-u,t[2]=_*h+f*-u+c*-s-E*-o,t[3]=e[3],t}function Gt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Xt(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Vt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function Ht(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=h.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}var Yt,Wt=dt,jt=Rt,qt=At,kt=It,Kt=gt,Zt=bt,zt=Ot,$t=(Yt=ct(),function(t,e,r,n,i,a){var o,s;for(e||(e=4),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)Yt[0]=t[o],Yt[1]=t[o+1],Yt[2]=t[o+2],Yt[3]=t[o+3],i(Yt,Yt,a),t[o]=Yt[0],t[o+1]=Yt[1],t[o+2]=Yt[2],t[o+3]=Yt[3];return t});function Qt(){var t=new h.ARRAY_TYPE(4);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Jt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function te(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function ee(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>h.EPSILON?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function re(t,e){var r=Ce(t,e);return Math.acos(2*r*r-1)}function ne(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],h=r[2],c=r[3];return t[0]=n*c+o*s+i*h-a*u,t[1]=i*c+o*u+a*s-n*h,t[2]=a*c+o*h+n*u-i*s,t[3]=o*c-n*s-i*u-a*h,t}function ie(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-n*s,t}function ae(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-a*s,t[1]=i*u+o*s,t[2]=a*u+n*s,t[3]=o*u-i*s,t}function oe(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=i*u-n*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t}function se(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t}function ue(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=Math.exp(a),u=o>0?s*Math.sin(o)/o:0;return t[0]=r*u,t[1]=n*u,t[2]=i*u,t[3]=s*Math.cos(o),t}function he(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=o>0?Math.atan2(o,a)/o:0;return t[0]=r*s,t[1]=n*s,t[2]=i*s,t[3]=.5*Math.log(r*r+n*n+i*i+a*a),t}function ce(t,e,r){return he(t,e),Pe(t,t,r),ue(t,t),t}function Ee(t,e,r,n){var i,a,o,s,u,c=e[0],E=e[1],_=e[2],f=e[3],l=r[0],T=r[1],d=r[2],R=r[3];return(a=c*l+E*T+_*d+f*R)<0&&(a=-a,l=-l,T=-T,d=-d,R=-R),1-a>h.EPSILON?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-n)*i)/o,u=Math.sin(n*i)/o):(s=1-n,u=n),t[0]=s*c+u*l,t[1]=s*E+u*T,t[2]=s*_+u*d,t[3]=s*f+u*R,t}function _e(t){var e=h.RANDOM(),r=h.RANDOM(),n=h.RANDOM(),i=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=a*Math.sin(2*Math.PI*n),t[3]=a*Math.cos(2*Math.PI*n),t}function fe(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a,s=o?1/o:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=a*s,t}function le(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Te(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*a+o]-e[3*o+a])*r,t[a]=(e[3*a+i]+e[3*i+a])*r,t[o]=(e[3*o+i]+e[3*i+o])*r}return t}function de(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(r),u=Math.cos(r),h=Math.sin(n),c=Math.cos(n);return t[0]=a*u*c-o*s*h,t[1]=o*s*c+a*u*h,t[2]=o*u*h-a*s*c,t[3]=o*u*c+a*s*h,t}function Re(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Ae,Me,me,pe,ve,Le,Se=Et,Ne=_t,Ie=ft,ge=lt,be=Tt,Oe=ne,Pe=St,Ce=Ut,xe=yt,Ue=bt,Fe=Ue,ye=Ot,De=ye,we=xt,Be=Vt,Ge=Ht,Xe=(Ae=ht.create(),Me=ht.fromValues(1,0,0),me=ht.fromValues(0,1,0),function(t,e,r){var n=ht.dot(e,r);return n<-.999999?(ht.cross(Ae,Me,e),ht.len(Ae)<1e-6&&ht.cross(Ae,me,e),ht.normalize(Ae,Ae),te(t,Ae,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(ht.cross(Ae,e,r),t[0]=Ae[0],t[1]=Ae[1],t[2]=Ae[2],t[3]=1+n,we(t,t))}),Ve=(pe=Qt(),ve=Qt(),function(t,e,r,n,i,a){return Ee(pe,e,i,a),Ee(ve,r,n,a),Ee(t,pe,ve,2*a*(1-a)),t}),He=(Le=st.create(),function(t,e,r,n){return Le[0]=r[0],Le[3]=r[1],Le[6]=r[2],Le[1]=n[0],Le[4]=n[1],Le[7]=n[2],Le[2]=-e[0],Le[5]=-e[1],Le[8]=-e[2],we(t,Te(t,Le))});function Ye(){var t=new h.ARRAY_TYPE(8);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function We(t){var e=new h.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function je(t,e,r,n,i,a,o,s){var u=new h.ARRAY_TYPE(8);return u[0]=t,u[1]=e,u[2]=r,u[3]=n,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u}function qe(t,e,r,n,i,a,o){var s=new h.ARRAY_TYPE(8);s[0]=t,s[1]=e,s[2]=r,s[3]=n;var u=.5*i,c=.5*a,E=.5*o;return s[4]=u*n+c*r-E*e,s[5]=c*n+E*t-u*r,s[6]=E*n+u*e-c*t,s[7]=-u*t-c*e-E*r,s}function ke(t,e,r){var n=.5*r[0],i=.5*r[1],a=.5*r[2],o=e[0],s=e[1],u=e[2],h=e[3];return t[0]=o,t[1]=s,t[2]=u,t[3]=h,t[4]=n*h+i*u-a*s,t[5]=i*h+a*o-n*u,t[6]=a*h+n*s-i*o,t[7]=-n*o-i*s-a*u,t}function Ke(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function Ze(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function ze(t,e){var r=Qt();ut.getRotation(r,e);var n=new h.ARRAY_TYPE(3);return ut.getTranslation(n,e),ke(t,r,n),t}function $e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Qe(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Je(t,e,r,n,i,a,o,s,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t}var tr=Ie;function er(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var rr=Ie;function nr(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function ir(t,e){var r=e[4],n=e[5],i=e[6],a=e[7],o=-e[0],s=-e[1],u=-e[2],h=e[3];return t[0]=2*(r*h+a*o+n*u-i*s),t[1]=2*(n*h+a*s+i*o-r*u),t[2]=2*(i*h+a*u+r*s-n*o),t}function ar(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=.5*r[0],u=.5*r[1],h=.5*r[2],c=e[4],E=e[5],_=e[6],f=e[7];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=o*s+i*h-a*u+c,t[5]=o*u+a*s-n*h+E,t[6]=o*h+n*u-i*s+_,t[7]=-n*s-i*u-a*h+f,t}function or(t,e,r){var n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=s*o+c*n+u*a-h*i,_=u*o+c*i+h*n-s*a,f=h*o+c*a+s*i-u*n,l=c*o-s*n-u*i-h*a;return ie(t,e,r),n=t[0],i=t[1],a=t[2],o=t[3],t[4]=E*o+l*n+_*a-f*i,t[5]=_*o+l*i+f*n-E*a,t[6]=f*o+l*a+E*i-_*n,t[7]=l*o-E*n-_*i-f*a,t}function sr(t,e,r){var n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=s*o+c*n+u*a-h*i,_=u*o+c*i+h*n-s*a,f=h*o+c*a+s*i-u*n,l=c*o-s*n-u*i-h*a;return ae(t,e,r),n=t[0],i=t[1],a=t[2],o=t[3],t[4]=E*o+l*n+_*a-f*i,t[5]=_*o+l*i+f*n-E*a,t[6]=f*o+l*a+E*i-_*n,t[7]=l*o-E*n-_*i-f*a,t}function ur(t,e,r){var n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=s*o+c*n+u*a-h*i,_=u*o+c*i+h*n-s*a,f=h*o+c*a+s*i-u*n,l=c*o-s*n-u*i-h*a;return oe(t,e,r),n=t[0],i=t[1],a=t[2],o=t[3],t[4]=E*o+l*n+_*a-f*i,t[5]=_*o+l*i+f*n-E*a,t[6]=f*o+l*a+E*i-_*n,t[7]=l*o-E*n-_*i-f*a,t}function hr(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=e[0],u=e[1],h=e[2],c=e[3];return t[0]=s*o+c*n+u*a-h*i,t[1]=u*o+c*i+h*n-s*a,t[2]=h*o+c*a+s*i-u*n,t[3]=c*o-s*n-u*i-h*a,s=e[4],u=e[5],h=e[6],c=e[7],t[4]=s*o+c*n+u*a-h*i,t[5]=u*o+c*i+h*n-s*a,t[6]=h*o+c*a+s*i-u*n,t[7]=c*o-s*n-u*i-h*a,t}function cr(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],h=r[2],c=r[3];return t[0]=n*c+o*s+i*h-a*u,t[1]=i*c+o*u+a*s-n*h,t[2]=a*c+o*h+n*u-i*s,t[3]=o*c-n*s-i*u-a*h,s=r[4],u=r[5],h=r[6],c=r[7],t[4]=n*c+o*s+i*h-a*u,t[5]=i*c+o*u+a*s-n*h,t[6]=a*c+o*h+n*u-i*s,t[7]=o*c-n*s-i*u-a*h,t}function Er(t,e,r,n){if(Math.abs(n)<h.EPSILON)return $e(t,e);var i=Math.hypot(r[0],r[1],r[2]);n*=.5;var a=Math.sin(n),o=a*r[0]/i,s=a*r[1]/i,u=a*r[2]/i,c=Math.cos(n),E=e[0],_=e[1],f=e[2],l=e[3];t[0]=E*c+l*o+_*u-f*s,t[1]=_*c+l*s+f*o-E*u,t[2]=f*c+l*u+E*s-_*o,t[3]=l*c-E*o-_*s-f*u;var T=e[4],d=e[5],R=e[6],A=e[7];return t[4]=T*c+A*o+d*u-R*s,t[5]=d*c+A*s+R*o-T*u,t[6]=R*c+A*u+T*s-d*o,t[7]=A*c-T*o-d*s-R*u,t}function _r(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t}function fr(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[4],u=r[5],h=r[6],c=r[7],E=e[4],_=e[5],f=e[6],l=e[7],T=r[0],d=r[1],R=r[2],A=r[3];return t[0]=n*A+o*T+i*R-a*d,t[1]=i*A+o*d+a*T-n*R,t[2]=a*A+o*R+n*d-i*T,t[3]=o*A-n*T-i*d-a*R,t[4]=n*c+o*s+i*h-a*u+E*A+l*T+_*R-f*d,t[5]=i*c+o*u+a*s-n*h+_*A+l*d+f*T-E*R,t[6]=a*c+o*h+n*u-i*s+f*A+l*R+E*d-_*T,t[7]=o*c-n*s-i*u-a*h+l*A-E*T-_*d-f*R,t}var lr=fr;function Tr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t}var dr=Ce;function Rr(t,e,r,n){var i=1-n;return dr(e,r)<0&&(n=-n),t[0]=e[0]*i+r[0]*n,t[1]=e[1]*i+r[1]*n,t[2]=e[2]*i+r[2]*n,t[3]=e[3]*i+r[3]*n,t[4]=e[4]*i+r[4]*n,t[5]=e[5]*i+r[5]*n,t[6]=e[6]*i+r[6]*n,t[7]=e[7]*i+r[7]*n,t}function Ar(t,e){var r=vr(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t}function Mr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var mr=Ue,pr=mr,vr=ye,Lr=vr;function Sr(t,e){var r=vr(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,i=e[1]/r,a=e[2]/r,o=e[3]/r,s=e[4],u=e[5],h=e[6],c=e[7],E=n*s+i*u+a*h+o*c;t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=(s-n*E)/r,t[5]=(u-i*E)/r,t[6]=(h-a*E)/r,t[7]=(c-o*E)/r}return t}function Nr(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ir(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function gr(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],E=e[0],_=e[1],f=e[2],l=e[3],T=e[4],d=e[5],R=e[6],A=e[7];return Math.abs(r-E)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(n-_)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-f)<=h.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-l)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-T)<=h.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-d)<=h.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-R)<=h.EPSILON*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(c-A)<=h.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))}function br(){var t=new h.ARRAY_TYPE(2);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function Or(t){var e=new h.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function Pr(t,e){var r=new h.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r}function Cr(t,e){return t[0]=e[0],t[1]=e[1],t}function xr(t,e,r){return t[0]=e,t[1]=r,t}function Ur(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function Fr(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function yr(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function Dr(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function wr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Br(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function Gr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function Xr(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function Vr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function Hr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function Yr(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function Wr(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function jr(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function qr(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function kr(t){var e=t[0],r=t[1];return e*e+r*r}function Kr(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Zr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function zr(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function $r(t,e){return t[0]*e[0]+t[1]*e[1]}function Qr(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function Jr(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t}function tn(t,e){e=e||1;var r=2*h.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function en(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function rn(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function nn(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function an(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function on(t,e,r,n){var i=e[0]-r[0],a=e[1]-r[1],o=Math.sin(n),s=Math.cos(n);return t[0]=i*s-a*o+r[0],t[1]=i*o+a*s+r[1],t}function sn(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+a*a),s=o&&(r*i+n*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function un(t){return t[0]=0,t[1]=0,t}function hn(t){return"vec2("+t[0]+", "+t[1]+")"}function cn(t,e){return t[0]===e[0]&&t[1]===e[1]}function En(t,e){var r=t[0],n=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))}var _n=qr,fn=Fr,ln=yr,Tn=Dr,dn=Wr,Rn=jr,An=kr,Mn=function(){var t=br();return function(e,r,n,i,a,o){var s,u;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()},600:(t,e,r)=>{"use strict";r.r(e),r.d(e,{add:()=>b,adjoint:()=>f,clone:()=>o,copy:()=>s,create:()=>i,determinant:()=>l,equals:()=>U,exactEquals:()=>x,frob:()=>g,fromMat2d:()=>v,fromMat4:()=>a,fromQuat:()=>L,fromRotation:()=>m,fromScaling:()=>p,fromTranslation:()=>M,fromValues:()=>u,identity:()=>c,invert:()=>_,mul:()=>F,multiply:()=>T,multiplyScalar:()=>P,multiplyScalarAndAdd:()=>C,normalFromMat4:()=>S,projection:()=>N,rotate:()=>R,scale:()=>A,set:()=>h,str:()=>I,sub:()=>y,subtract:()=>O,translate:()=>d,transpose:()=>E});var n=r(685);function i(){var t=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function o(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e,r,i,a,o,s,u,h){var c=new n.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=i,c[4]=a,c[5]=o,c[6]=s,c[7]=u,c[8]=h,c}function h(t,e,r,n,i,a,o,s,u,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=h,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function E(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function _(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],E=c*o-s*h,_=-c*a+s*u,f=h*a-o*u,l=r*E+n*_+i*f;return l?(l=1/l,t[0]=E*l,t[1]=(-c*n+i*h)*l,t[2]=(s*n-i*o)*l,t[3]=_*l,t[4]=(c*r-i*u)*l,t[5]=(-s*r+i*a)*l,t[6]=f*l,t[7]=(-h*r+n*u)*l,t[8]=(o*r-n*a)*l,t):null}function f(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8];return t[0]=o*c-s*h,t[1]=i*h-n*c,t[2]=n*s-i*o,t[3]=s*u-a*c,t[4]=r*c-i*u,t[5]=i*a-r*s,t[6]=a*h-o*u,t[7]=n*u-r*h,t[8]=r*o-n*a,t}function l(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],h=t[8];return e*(h*a-o*u)+r*(-h*i+o*s)+n*(u*i-a*s)}function T(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=r[0],f=r[1],l=r[2],T=r[3],d=r[4],R=r[5],A=r[6],M=r[7],m=r[8];return t[0]=_*n+f*o+l*h,t[1]=_*i+f*s+l*c,t[2]=_*a+f*u+l*E,t[3]=T*n+d*o+R*h,t[4]=T*i+d*s+R*c,t[5]=T*a+d*u+R*E,t[6]=A*n+M*o+m*h,t[7]=A*i+M*s+m*c,t[8]=A*a+M*u+m*E,t}function d(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=r[0],f=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=_*n+f*o+h,t[7]=_*i+f*s+c,t[8]=_*a+f*u+E,t}function R(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=Math.sin(r),f=Math.cos(r);return t[0]=f*n+_*o,t[1]=f*i+_*s,t[2]=f*a+_*u,t[3]=f*o-_*n,t[4]=f*s-_*i,t[5]=f*u-_*a,t[6]=h,t[7]=c,t[8]=E,t}function A(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function M(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function m(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function p(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function v(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function L(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,h=r*o,c=n*o,E=n*s,_=i*o,f=i*s,l=i*u,T=a*o,d=a*s,R=a*u;return t[0]=1-E-l,t[3]=c-R,t[6]=_+d,t[1]=c+R,t[4]=1-h-l,t[7]=f-T,t[2]=_-d,t[5]=f+T,t[8]=1-h-E,t}function S(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],E=e[9],_=e[10],f=e[11],l=e[12],T=e[13],d=e[14],R=e[15],A=r*s-n*o,M=r*u-i*o,m=r*h-a*o,p=n*u-i*s,v=n*h-a*s,L=i*h-a*u,S=c*T-E*l,N=c*d-_*l,I=c*R-f*l,g=E*d-_*T,b=E*R-f*T,O=_*R-f*d,P=A*O-M*b+m*g+p*I-v*N+L*S;return P?(P=1/P,t[0]=(s*O-u*b+h*g)*P,t[1]=(u*I-o*O-h*N)*P,t[2]=(o*b-s*I+h*S)*P,t[3]=(i*b-n*O-a*g)*P,t[4]=(r*O-i*I+a*N)*P,t[5]=(n*I-r*b-a*S)*P,t[6]=(T*L-d*v+R*p)*P,t[7]=(d*m-l*L-R*M)*P,t[8]=(l*v-T*m+R*A)*P,t):null}function N(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function I(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function g(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function b(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function O(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function P(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function C(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function x(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function U(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],h=t[6],c=t[7],E=t[8],_=e[0],f=e[1],l=e[2],T=e[3],d=e[4],R=e[5],A=e[6],M=e[7],m=e[8];return Math.abs(r-_)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-l)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-T)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-d)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-R)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(h-A)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(c-M)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(E-m)<=n.EPSILON*Math.max(1,Math.abs(E),Math.abs(m))}var F=T,y=O},975:(t,e,r)=>{"use strict";r.r(e),r.d(e,{add:()=>k,adjoint:()=>_,clone:()=>a,copy:()=>o,create:()=>i,determinant:()=>f,equals:()=>Q,exactEquals:()=>$,frob:()=>q,fromQuat:()=>F,fromQuat2:()=>b,fromRotation:()=>L,fromRotationTranslation:()=>g,fromRotationTranslationScale:()=>x,fromRotationTranslationScaleOrigin:()=>U,fromScaling:()=>v,fromTranslation:()=>p,fromValues:()=>s,fromXRotation:()=>S,fromYRotation:()=>N,fromZRotation:()=>I,frustum:()=>y,getRotation:()=>C,getScaling:()=>P,getTranslation:()=>O,identity:()=>h,invert:()=>E,lookAt:()=>Y,mul:()=>J,multiply:()=>l,multiplyScalar:()=>Z,multiplyScalarAndAdd:()=>z,ortho:()=>V,orthoNO:()=>X,orthoZO:()=>H,perspective:()=>w,perspectiveFromFieldOfView:()=>G,perspectiveNO:()=>D,perspectiveZO:()=>B,rotate:()=>R,rotateX:()=>A,rotateY:()=>M,rotateZ:()=>m,scale:()=>d,set:()=>u,str:()=>j,sub:()=>tt,subtract:()=>K,targetTo:()=>W,translate:()=>T,transpose:()=>c});var n=r(685);function i(){var t=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function a(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,r,i,a,o,s,u,h,c,E,_,f,l,T,d){var R=new n.ARRAY_TYPE(16);return R[0]=t,R[1]=e,R[2]=r,R[3]=i,R[4]=a,R[5]=o,R[6]=s,R[7]=u,R[8]=h,R[9]=c,R[10]=E,R[11]=_,R[12]=f,R[13]=l,R[14]=T,R[15]=d,R}function u(t,e,r,n,i,a,o,s,u,h,c,E,_,f,l,T,d){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=h,t[9]=c,t[10]=E,t[11]=_,t[12]=f,t[13]=l,t[14]=T,t[15]=d,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function E(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],E=e[9],_=e[10],f=e[11],l=e[12],T=e[13],d=e[14],R=e[15],A=r*s-n*o,M=r*u-i*o,m=r*h-a*o,p=n*u-i*s,v=n*h-a*s,L=i*h-a*u,S=c*T-E*l,N=c*d-_*l,I=c*R-f*l,g=E*d-_*T,b=E*R-f*T,O=_*R-f*d,P=A*O-M*b+m*g+p*I-v*N+L*S;return P?(P=1/P,t[0]=(s*O-u*b+h*g)*P,t[1]=(i*b-n*O-a*g)*P,t[2]=(T*L-d*v+R*p)*P,t[3]=(_*v-E*L-f*p)*P,t[4]=(u*I-o*O-h*N)*P,t[5]=(r*O-i*I+a*N)*P,t[6]=(d*m-l*L-R*M)*P,t[7]=(c*L-_*m+f*M)*P,t[8]=(o*b-s*I+h*S)*P,t[9]=(n*I-r*b-a*S)*P,t[10]=(l*v-T*m+R*A)*P,t[11]=(E*m-c*v-f*A)*P,t[12]=(s*N-o*g-u*S)*P,t[13]=(r*g-n*N+i*S)*P,t[14]=(T*M-l*p-d*A)*P,t[15]=(c*p-E*M+_*A)*P,t):null}function _(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],E=e[9],_=e[10],f=e[11],l=e[12],T=e[13],d=e[14],R=e[15];return t[0]=s*(_*R-f*d)-E*(u*R-h*d)+T*(u*f-h*_),t[1]=-(n*(_*R-f*d)-E*(i*R-a*d)+T*(i*f-a*_)),t[2]=n*(u*R-h*d)-s*(i*R-a*d)+T*(i*h-a*u),t[3]=-(n*(u*f-h*_)-s*(i*f-a*_)+E*(i*h-a*u)),t[4]=-(o*(_*R-f*d)-c*(u*R-h*d)+l*(u*f-h*_)),t[5]=r*(_*R-f*d)-c*(i*R-a*d)+l*(i*f-a*_),t[6]=-(r*(u*R-h*d)-o*(i*R-a*d)+l*(i*h-a*u)),t[7]=r*(u*f-h*_)-o*(i*f-a*_)+c*(i*h-a*u),t[8]=o*(E*R-f*T)-c*(s*R-h*T)+l*(s*f-h*E),t[9]=-(r*(E*R-f*T)-c*(n*R-a*T)+l*(n*f-a*E)),t[10]=r*(s*R-h*T)-o*(n*R-a*T)+l*(n*h-a*s),t[11]=-(r*(s*f-h*E)-o*(n*f-a*E)+c*(n*h-a*s)),t[12]=-(o*(E*d-_*T)-c*(s*d-u*T)+l*(s*_-u*E)),t[13]=r*(E*d-_*T)-c*(n*d-i*T)+l*(n*_-i*E),t[14]=-(r*(s*d-u*T)-o*(n*d-i*T)+l*(n*u-i*s)),t[15]=r*(s*_-u*E)-o*(n*_-i*E)+c*(n*u-i*s),t}function f(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],h=t[8],c=t[9],E=t[10],_=t[11],f=t[12],l=t[13],T=t[14],d=t[15];return(e*o-r*a)*(E*d-_*T)-(e*s-n*a)*(c*d-_*l)+(e*u-i*a)*(c*T-E*l)+(r*s-n*o)*(h*d-_*f)-(r*u-i*o)*(h*T-E*f)+(n*u-i*s)*(h*l-c*f)}function l(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=e[9],f=e[10],l=e[11],T=e[12],d=e[13],R=e[14],A=e[15],M=r[0],m=r[1],p=r[2],v=r[3];return t[0]=M*n+m*s+p*E+v*T,t[1]=M*i+m*u+p*_+v*d,t[2]=M*a+m*h+p*f+v*R,t[3]=M*o+m*c+p*l+v*A,M=r[4],m=r[5],p=r[6],v=r[7],t[4]=M*n+m*s+p*E+v*T,t[5]=M*i+m*u+p*_+v*d,t[6]=M*a+m*h+p*f+v*R,t[7]=M*o+m*c+p*l+v*A,M=r[8],m=r[9],p=r[10],v=r[11],t[8]=M*n+m*s+p*E+v*T,t[9]=M*i+m*u+p*_+v*d,t[10]=M*a+m*h+p*f+v*R,t[11]=M*o+m*c+p*l+v*A,M=r[12],m=r[13],p=r[14],v=r[15],t[12]=M*n+m*s+p*E+v*T,t[13]=M*i+m*u+p*_+v*d,t[14]=M*a+m*h+p*f+v*R,t[15]=M*o+m*c+p*l+v*A,t}function T(t,e,r){var n,i,a,o,s,u,h,c,E,_,f,l,T=r[0],d=r[1],R=r[2];return e===t?(t[12]=e[0]*T+e[4]*d+e[8]*R+e[12],t[13]=e[1]*T+e[5]*d+e[9]*R+e[13],t[14]=e[2]*T+e[6]*d+e[10]*R+e[14],t[15]=e[3]*T+e[7]*d+e[11]*R+e[15]):(n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=e[9],f=e[10],l=e[11],t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=h,t[7]=c,t[8]=E,t[9]=_,t[10]=f,t[11]=l,t[12]=n*T+s*d+E*R+e[12],t[13]=i*T+u*d+_*R+e[13],t[14]=a*T+h*d+f*R+e[14],t[15]=o*T+c*d+l*R+e[15]),t}function d(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function R(t,e,r,i){var a,o,s,u,h,c,E,_,f,l,T,d,R,A,M,m,p,v,L,S,N,I,g,b,O=i[0],P=i[1],C=i[2],x=Math.hypot(O,P,C);return x<n.EPSILON?null:(O*=x=1/x,P*=x,C*=x,a=Math.sin(r),s=1-(o=Math.cos(r)),u=e[0],h=e[1],c=e[2],E=e[3],_=e[4],f=e[5],l=e[6],T=e[7],d=e[8],R=e[9],A=e[10],M=e[11],m=O*O*s+o,p=P*O*s+C*a,v=C*O*s-P*a,L=O*P*s-C*a,S=P*P*s+o,N=C*P*s+O*a,I=O*C*s+P*a,g=P*C*s-O*a,b=C*C*s+o,t[0]=u*m+_*p+d*v,t[1]=h*m+f*p+R*v,t[2]=c*m+l*p+A*v,t[3]=E*m+T*p+M*v,t[4]=u*L+_*S+d*N,t[5]=h*L+f*S+R*N,t[6]=c*L+l*S+A*N,t[7]=E*L+T*S+M*N,t[8]=u*I+_*g+d*b,t[9]=h*I+f*g+R*b,t[10]=c*I+l*g+A*b,t[11]=E*I+T*g+M*b,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function A(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],u=e[7],h=e[8],c=e[9],E=e[10],_=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+h*n,t[5]=o*i+c*n,t[6]=s*i+E*n,t[7]=u*i+_*n,t[8]=h*i-a*n,t[9]=c*i-o*n,t[10]=E*i-s*n,t[11]=_*i-u*n,t}function M(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],h=e[8],c=e[9],E=e[10],_=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-h*n,t[1]=o*i-c*n,t[2]=s*i-E*n,t[3]=u*i-_*n,t[8]=a*n+h*i,t[9]=o*n+c*i,t[10]=s*n+E*i,t[11]=u*n+_*i,t}function m(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],h=e[4],c=e[5],E=e[6],_=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+h*n,t[1]=o*i+c*n,t[2]=s*i+E*n,t[3]=u*i+_*n,t[4]=h*i-a*n,t[5]=c*i-o*n,t[6]=E*i-s*n,t[7]=_*i-u*n,t}function p(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function v(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,e,r){var i,a,o,s=r[0],u=r[1],h=r[2],c=Math.hypot(s,u,h);return c<n.EPSILON?null:(s*=c=1/c,u*=c,h*=c,i=Math.sin(e),o=1-(a=Math.cos(e)),t[0]=s*s*o+a,t[1]=u*s*o+h*i,t[2]=h*s*o-u*i,t[3]=0,t[4]=s*u*o-h*i,t[5]=u*u*o+a,t[6]=h*u*o+s*i,t[7]=0,t[8]=s*h*o+u*i,t[9]=u*h*o-s*i,t[10]=h*h*o+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function S(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=n+n,u=i+i,h=a+a,c=n*s,E=n*u,_=n*h,f=i*u,l=i*h,T=a*h,d=o*s,R=o*u,A=o*h;return t[0]=1-(f+T),t[1]=E+A,t[2]=_-R,t[3]=0,t[4]=E-A,t[5]=1-(c+T),t[6]=l+d,t[7]=0,t[8]=_+R,t[9]=l-d,t[10]=1-(c+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function b(t,e){var r=new n.ARRAY_TYPE(3),i=-e[0],a=-e[1],o=-e[2],s=e[3],u=e[4],h=e[5],c=e[6],E=e[7],_=i*i+a*a+o*o+s*s;return _>0?(r[0]=2*(u*s+E*i+h*o-c*a)/_,r[1]=2*(h*s+E*a+c*i-u*o)/_,r[2]=2*(c*s+E*o+u*a-h*i)/_):(r[0]=2*(u*s+E*i+h*o-c*a),r[1]=2*(h*s+E*a+c*i-u*o),r[2]=2*(c*s+E*o+u*a-h*i)),g(t,e,r),t}function O(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function P(t,e){var r=e[0],n=e[1],i=e[2],a=e[4],o=e[5],s=e[6],u=e[8],h=e[9],c=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(a,o,s),t[2]=Math.hypot(u,h,c),t}function C(t,e){var r=new n.ARRAY_TYPE(3);P(r,e);var i=1/r[0],a=1/r[1],o=1/r[2],s=e[0]*i,u=e[1]*a,h=e[2]*o,c=e[4]*i,E=e[5]*a,_=e[6]*o,f=e[8]*i,l=e[9]*a,T=e[10]*o,d=s+E+T,R=0;return d>0?(R=2*Math.sqrt(d+1),t[3]=.25*R,t[0]=(_-l)/R,t[1]=(f-h)/R,t[2]=(u-c)/R):s>E&&s>T?(R=2*Math.sqrt(1+s-E-T),t[3]=(_-l)/R,t[0]=.25*R,t[1]=(u+c)/R,t[2]=(f+h)/R):E>T?(R=2*Math.sqrt(1+E-s-T),t[3]=(f-h)/R,t[0]=(u+c)/R,t[1]=.25*R,t[2]=(_+l)/R):(R=2*Math.sqrt(1+T-s-E),t[3]=(u-c)/R,t[0]=(f+h)/R,t[1]=(_+l)/R,t[2]=.25*R),t}function x(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3],u=i+i,h=a+a,c=o+o,E=i*u,_=i*h,f=i*c,l=a*h,T=a*c,d=o*c,R=s*u,A=s*h,M=s*c,m=n[0],p=n[1],v=n[2];return t[0]=(1-(l+d))*m,t[1]=(_+M)*m,t[2]=(f-A)*m,t[3]=0,t[4]=(_-M)*p,t[5]=(1-(E+d))*p,t[6]=(T+R)*p,t[7]=0,t[8]=(f+A)*v,t[9]=(T-R)*v,t[10]=(1-(E+l))*v,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function U(t,e,r,n,i){var a=e[0],o=e[1],s=e[2],u=e[3],h=a+a,c=o+o,E=s+s,_=a*h,f=a*c,l=a*E,T=o*c,d=o*E,R=s*E,A=u*h,M=u*c,m=u*E,p=n[0],v=n[1],L=n[2],S=i[0],N=i[1],I=i[2],g=(1-(T+R))*p,b=(f+m)*p,O=(l-M)*p,P=(f-m)*v,C=(1-(_+R))*v,x=(d+A)*v,U=(l+M)*L,F=(d-A)*L,y=(1-(_+T))*L;return t[0]=g,t[1]=b,t[2]=O,t[3]=0,t[4]=P,t[5]=C,t[6]=x,t[7]=0,t[8]=U,t[9]=F,t[10]=y,t[11]=0,t[12]=r[0]+S-(g*S+P*N+U*I),t[13]=r[1]+N-(b*S+C*N+F*I),t[14]=r[2]+I-(O*S+x*N+y*I),t[15]=1,t}function F(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,h=r*o,c=n*o,E=n*s,_=i*o,f=i*s,l=i*u,T=a*o,d=a*s,R=a*u;return t[0]=1-E-l,t[1]=c+R,t[2]=_-d,t[3]=0,t[4]=c-R,t[5]=1-h-l,t[6]=f+T,t[7]=0,t[8]=_+d,t[9]=f-T,t[10]=1-h-E,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,e,r,n,i,a,o){var s=1/(r-e),u=1/(i-n),h=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*u,t[10]=(o+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*h,t[15]=0,t}function D(t,e,r,n,i){var a,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(n-i),t[10]=(i+n)*a,t[14]=2*i*n*a):(t[10]=-1,t[14]=-2*n),t}var w=D;function B(t,e,r,n,i){var a,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(n-i),t[10]=i*a,t[14]=i*n*a):(t[10]=-1,t[14]=-n),t}function G(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),h=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(i-a)*h*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function X(t,e,r,n,i,a,o){var s=1/(e-r),u=1/(n-i),h=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=(o+a)*h,t[15]=1,t}var V=X;function H(t,e,r,n,i,a,o){var s=1/(e-r),u=1/(n-i),h=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=h,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=a*h,t[15]=1,t}function Y(t,e,r,i){var a,o,s,u,c,E,_,f,l,T,d=e[0],R=e[1],A=e[2],M=i[0],m=i[1],p=i[2],v=r[0],L=r[1],S=r[2];return Math.abs(d-v)<n.EPSILON&&Math.abs(R-L)<n.EPSILON&&Math.abs(A-S)<n.EPSILON?h(t):(_=d-v,f=R-L,l=A-S,a=m*(l*=T=1/Math.hypot(_,f,l))-p*(f*=T),o=p*(_*=T)-M*l,s=M*f-m*_,(T=Math.hypot(a,o,s))?(a*=T=1/T,o*=T,s*=T):(a=0,o=0,s=0),u=f*s-l*o,c=l*a-_*s,E=_*o-f*a,(T=Math.hypot(u,c,E))?(u*=T=1/T,c*=T,E*=T):(u=0,c=0,E=0),t[0]=a,t[1]=u,t[2]=_,t[3]=0,t[4]=o,t[5]=c,t[6]=f,t[7]=0,t[8]=s,t[9]=E,t[10]=l,t[11]=0,t[12]=-(a*d+o*R+s*A),t[13]=-(u*d+c*R+E*A),t[14]=-(_*d+f*R+l*A),t[15]=1,t)}function W(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=n[0],u=n[1],h=n[2],c=i-r[0],E=a-r[1],_=o-r[2],f=c*c+E*E+_*_;f>0&&(c*=f=1/Math.sqrt(f),E*=f,_*=f);var l=u*_-h*E,T=h*c-s*_,d=s*E-u*c;return(f=l*l+T*T+d*d)>0&&(l*=f=1/Math.sqrt(f),T*=f,d*=f),t[0]=l,t[1]=T,t[2]=d,t[3]=0,t[4]=E*d-_*T,t[5]=_*l-c*d,t[6]=c*T-E*l,t[7]=0,t[8]=c,t[9]=E,t[10]=_,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function j(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function q(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function k(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function K(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function Z(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function z(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function $(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Q(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],h=t[6],c=t[7],E=t[8],_=t[9],f=t[10],l=t[11],T=t[12],d=t[13],R=t[14],A=t[15],M=e[0],m=e[1],p=e[2],v=e[3],L=e[4],S=e[5],N=e[6],I=e[7],g=e[8],b=e[9],O=e[10],P=e[11],C=e[12],x=e[13],U=e[14],F=e[15];return Math.abs(r-M)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(i-m)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(a-p)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-v)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-L)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(L))&&Math.abs(u-S)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(h-N)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(c-I)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(E-g)<=n.EPSILON*Math.max(1,Math.abs(E),Math.abs(g))&&Math.abs(_-b)<=n.EPSILON*Math.max(1,Math.abs(_),Math.abs(b))&&Math.abs(f-O)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(l-P)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(T-C)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(C))&&Math.abs(d-x)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(R-U)<=n.EPSILON*Math.max(1,Math.abs(R),Math.abs(U))&&Math.abs(A-F)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(F))}var J=l,tt=K},160:(t,e,r)=>{"use strict";r.r(e),r.d(e,{add:()=>c,angle:()=>G,bezier:()=>C,ceil:()=>l,clone:()=>a,copy:()=>u,create:()=>i,cross:()=>b,dist:()=>K,distance:()=>p,div:()=>k,divide:()=>f,dot:()=>g,equals:()=>Y,exactEquals:()=>H,floor:()=>T,forEach:()=>Q,fromValues:()=>s,hermite:()=>P,inverse:()=>N,len:()=>z,length:()=>o,lerp:()=>O,max:()=>R,min:()=>d,mul:()=>q,multiply:()=>_,negate:()=>S,normalize:()=>I,random:()=>x,rotateX:()=>D,rotateY:()=>w,rotateZ:()=>B,round:()=>A,scale:()=>M,scaleAndAdd:()=>m,set:()=>h,sqrDist:()=>Z,sqrLen:()=>$,squaredDistance:()=>v,squaredLength:()=>L,str:()=>V,sub:()=>j,subtract:()=>E,transformMat3:()=>F,transformMat4:()=>U,transformQuat:()=>y,zero:()=>X});var n=r(685);function i(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function s(t,e,r){var i=new n.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=r,i}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function h(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function c(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function E(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function _(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function f(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function l(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function T(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function d(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function R(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function A(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function M(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function m(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function p(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.hypot(r,n,i)}function v(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function L(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function N(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function I(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function b(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2];return t[0]=i*u-a*s,t[1]=a*o-n*u,t[2]=n*s-i*o,t}function O(t,e,r,n){var i=e[0],a=e[1],o=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t}function P(t,e,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,h=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+r[0]*u+n[0]*h+i[0]*c,t[1]=e[1]*s+r[1]*u+n[1]*h+i[1]*c,t[2]=e[2]*s+r[2]*u+n[2]*h+i[2]*c,t}function C(t,e,r,n,i,a){var o=1-a,s=o*o,u=a*a,h=s*o,c=3*a*s,E=3*u*o,_=u*a;return t[0]=e[0]*h+r[0]*c+n[0]*E+i[0]*_,t[1]=e[1]*h+r[1]*c+n[1]*E+i[1]*_,t[2]=e[2]*h+r[2]*c+n[2]*E+i[2]*_,t}function x(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,i=2*n.RANDOM()-1,a=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=i*e,t}function U(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,t}function F(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t}function y(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=e[0],u=e[1],h=e[2],c=i*h-a*u,E=a*s-n*h,_=n*u-i*s,f=i*_-a*E,l=a*c-n*_,T=n*E-i*c,d=2*o;return c*=d,E*=d,_*=d,f*=2,l*=2,T*=2,t[0]=s+c+f,t[1]=u+E+l,t[2]=h+_+T,t}function D(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function w(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function B(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function G(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(a*a+o*o+s*s),h=u&&g(t,e)/u;return Math.acos(Math.min(Math.max(h,-1),1))}function X(t){return t[0]=0,t[1]=0,t[2]=0,t}function V(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function H(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Y(t,e){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1],u=e[2];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-u)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))}var W,j=E,q=_,k=f,K=p,Z=v,z=o,$=L,Q=(W=i(),function(t,e,r,n,i,a){var o,s;for(e||(e=3),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)W[0]=t[o],W[1]=t[o+1],W[2]=t[o+2],i(W,W,a),t[o]=W[0],t[o+1]=W[1],t[o+2]=W[2];return t})},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,a){for(var o,s,u=i(t),h=1;h<arguments.length;h++){for(var c in o=Object(arguments[h]))r.call(o,c)&&(u[c]=o[c]);if(e){s=e(o);for(var E=0;E<s.length;E++)n.call(o,s[E])&&(u[s[E]]=o[s[E]])}}return u}},51:(t,e,r)=>{"use strict";r.d(e,{Z:()=>M});let n=window,i=60,a=performance.now(),o=0,s=0,u=a;const h=[],c=[],E=[],_=[];let f=[],l=[],T=-1,d=0;function R(){!function(){let t,e=0,r=1e3/i,n=0;for(e=0;e<h.length;e++)t=h[e],null!=t&&t.func(t.args);for(;f.length>0;)t=f.pop(),t.func(t.args);let T=performance.now();for(s=(T-a)/1e3,o=T-u,e=0;e<c.length;e++)t=c[e],T-t.time>t.delay&&(t.func(t.args),c.splice(e,1));for(T=performance.now();E.length>0;){if(t=E.shift(),n=performance.now(),!(n-T<r)){E.unshift(t);break}t.func(t.args)}for(T=performance.now();_.length>0;)t=_.shift(),n=performance.now(),n-T<r&&t.func(t.args);u=T,f=f.concat(l),l=[]}(),T=n.requestAnimationFrame(R)}R();var A={addEF:function(t,e){const r=++d;return h[r]={func:t,args:e},r},removeEF:function(t){return void 0!==h[t]&&(h[t]=null),-1},delay:function(t,e,r){const n=performance.now();c.push({func:t,args:e,delay:r,time:n})},next:function(t,e){l.push({func:t,args:e})},defer:function(t,e){E.push({func:t,args:e})},usurp:function(t,e){_.push({func:t,args:e})},setRequestAnimationFrameSource:function(t){T>-1&&window.cancelAnimationFrame(T),n=t,R()},setFrameRate:function(t){i=t},getElapsedTime:function(){return s},getDeltaTime:function(){return o}};const M=A},247:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={autoSave:!1,showThumbnail:!1,margin:100,thumbnailSize:256,background:[22,22,22]}},856:(t,e,r)=>{"use strict";r.d(e,{nu:()=>C,QA:()=>x,Cg:()=>U,GL:()=>M,fy:()=>O,xs:()=>W,F7:()=>j});var n=r(187),i=r.n(n),a=r(418),o=r.n(a),s=r(685);function u(t,e){const r=t.getExtension(e);if(!r)return!1;const n=e.split("_")[0],i=new RegExp(`${n}$`);for(const e in r)if("function"==typeof r[e]){const n=e.replace(i,"");e.substring&&(t[n]=r[e].bind(r))}return!0}const h=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_color_buffer_half_float","OES_vertex_array_object","WEBGL_depth_texture","ANGLE_instanced_arrays","WEBGL_color_buffer_float","WEBGL_draw_buffers","EXT_color_buffer_float"],c=(()=>{let t=!1;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(t=!0),t})(),E=(t,e)=>{if("number"==typeof t)return s.equals(t,e);if(t.length!==e.length)return!1;let r=!0;return t.forEach(((t,n)=>{r=s.equals(t,e[n])&&r})),r},_={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,RED:6403,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HALF_FLOAT:36193,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0,R8:33321},f={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6403:"RED",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33321:"R8",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36193:"HALF_FLOAT",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"},l={alpha:!1,depth:!0,premultipliedAlpha:!1};var T=r(975),d=r(600);let R=0;function A(){let t,e,r=[0,0,0,0],n=0,i=0,a=0,s=(()=>{const t=document.createElement("canvas");return!(!t.getContext("experimental-webgl2")&&!t.getContext("webgl2"))})(),A=c;const m=T.create(),p=T.create(),v=T.create(),L=d.create(),S=T.create(),N=d.create();this.id="WebGLContext"+R++,this.canvas,this.gl,this.CONTEXT_LOST="contextLost",this.CONTEXT_RESTORED="contextRestored",this.shaderCount=0,this.bufferCount=0,this.textureCount=0,this.frameBufferCount=0,this.maxAnisotropy=0,this.multiRenderTargetSupport=!1,this.maxMultiRenderTargets=0,this.init=function(t,e={}){const r=o()({},l,e);if(void 0!==t){if(t instanceof HTMLCanvasElement){this.canvas=t;let n=s?"webgl2":"webgl";e.webgl1&&(n="webgl",s=!1),this.gl=t.getContext(n,r)}else window.WebGL2RenderingContext&&t instanceof WebGL2RenderingContext?(s=!0,this.gl=t,this.canvas=t.canvas):t instanceof WebGLRenderingContext?(s=!1,this.gl=t,this.canvas=t.canvas):console.error("The source has to be one of the following : Canvas, WebGLRenderingContext or WebGL2RenderingContext");this.canvas.addEventListener("webglcontextlost",g),this.canvas.addEventListener("webglcontextrestored",b),this.extensions=(t=>{const{gl:e}=t,r=window.WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,n={};h.forEach((t=>{n[t]=e.getExtension(t)})),r||(n.OES_vertex_array_object||console.error("OES_vertex_array_object extension is not supported"),u(e,"OES_vertex_array_object"),u(e,"ANGLE_instanced_arrays"),u(e,"WEBGL_draw_buffers"));const i=n.EXT_texture_filter_anisotropic;if(i&&(t.maxAnisotropy=e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),t.multiRenderTargetSupport=!!t.gl.drawBuffers,t.multiRenderTargetSupport){const r=t.gl.MAX_DRAW_BUFFERS||n.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL;t.maxMultiRenderTargets=e.getParameter(r)}return n})(this),(t=>{for(const e in _)t[e]?console.log("already exist : ",e):t[e]=_[e];if(t.webgl2){const e=/^[^a-z]*$/;for(const r in t.gl)e.test(r)&&-1===r.indexOf("FLOAT")&&(t[r]=t.gl[r],_[r]=t.gl[r],f[t[r]]=r)}})(this),this.setSize(this.canvas.width,this.canvas.height),this.enable(this.BLEND),this.enableAlphaBlending(),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.cullFace(M.BACK)}else{const t=document.createElement("canvas");this.init(t,r)}},this.clear=function(t=0,e=0,r=0,n=0){const{gl:i}=this;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},this.setSize=function(t,e){i=Math.floor(t),a=Math.floor(e),this.canvas.width=i,this.canvas.height=a,n=i/a,this.viewport(0,0,i,a)},this.viewport=function(t,e,n,i){E(r,[t,e,n,i])||(r=[t,e,n,i],this.gl.viewport(t,e,n,i))},this.getViewport=function(){return r},this.getAspectRatio=function(){return n},this.enable=function(t){this.gl.enable(t)},this.disable=function(t){this.gl.disable(t)},this.cullFace=function(t){this.gl.cullFace(t)},this.enableAlphaBlending=function(){const{gl:t}=this;t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)},this.enableAdditiveBlending=function(){const{gl:t}=this;t.blendFunc(t.ONE,t.ONE)},this.setMatrices=function(t){e=t,this.setModelMatrix(p)},this.setModelMatrix=function(t){T.copy(v,t),void 0!==e&&(T.multiply(m,e.viewMatrix,v),d.fromMat4(L,m),d.invert(L,L),d.transpose(L,L),d.fromMat4(N,m),d.invert(N,N),T.invert(S,e.viewMatrix))},this.useShader=function(e){t=e,this.shaderProgram=e.shaderProgram,this.gl.useProgram(this.shaderProgram)},this.draw=function(e){if(e.length)return void e.forEach((t=>this.draw(t)));I(),t.updateUniforms(),e.bind(this);const{drawType:r}=e,{gl:n}=this;e.isInstanced?n.drawElementsInstanced(e.drawType,e.numItems,n.UNSIGNED_INT,0,e.numInstance):r===n.POINTS?n.drawArrays(r,0,e.vertexSize):n.drawElements(r,e.numItems,n.UNSIGNED_INT,0),e.unbind()},this.getCamera=function(){return e},this.destroy=function(t=!0){this.gl.getExtension("WEBGL_lose_context").loseContext(),t&&void 0!==this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)},this.__defineGetter__("width",(function(){return i})),this.__defineGetter__("height",(function(){return a})),this.__defineGetter__("webgl2",(function(){return s})),this.__defineGetter__("isMobile",(function(){return A})),this.__defineGetter__("aspectRatio",(function(){return n}));const I=()=>{void 0!==e&&(t.uniform("uProjectionMatrix","mat4",e.projectionMatrix),t.uniform("uViewMatrix","mat4",e.viewMatrix),t.uniform("uNormalMatrix","mat3",L),t.uniform("uModelViewMatrixInverse","mat3",N)),t.uniform("uModelMatrix","mat4",v)},g=()=>{this.emit(this.CONTEXT_LOST)},b=()=>{this.emit(this.CONTEXT_RESTORED)}}A.prototype=Object.assign(Object.create(i().prototype),{constructor:A});const M=new A,m={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",ivec2:"uniform2i",ivec3:"uniform3i",ivec4:"uniform4i",mat2:"uniformMatrix2fv",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},p=t=>"number"==typeof t?t:t.slice?t.slice(0):new Float32Array(t),v=t=>"object"==typeof t?function(t){return 9===t.length?"mat3":16===t.length?"mat4":`vec${t.length}`}(t):"float";function L(t,e){let r;this.vertexShader=t||"#version 300 es\n\nprecision highp float;\n#define GLSLIFY 1\nin vec3 aVertexPosition;\nin vec2 aTextureCoord;\nin vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nout vec2 vTextureCoord;\nout vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}",this.fragmentShader=e||"precision highp float;\n#define GLSLIFY 1\n// varying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_FragColor = vec4(1.0);\n}",this.shaderProgram;let n={};this.bind=function(t){if(void 0===t||void 0===r||t===r){if(r=t||M,!this.shaderProgram){const t=i(this.vertexShader,!0),e=i(this.fragmentShader,!1);a(t,e)}r.useShader(this)}else console.error("this shader has been bind to a different WebGL Rendering Context",r.id)},this.uniform=function(t,e,r){let i,a;void 0===r?(a=v(e),i=e):(a=e,i=r);const o=m[a];if(n[t]){const e=n[t];E(e.value,i)||(e.value=p(i),e.changed=!0)}else n[t]={type:a,uniformType:o,value:p(i),changed:!0};return this},this.updateUniforms=function(){if(!r)return void console.warn("No WebGL Context has been set yet, please call shader.bind() first");const{gl:t}=r;for(let e in n){const r=n[e];if(r.changed){const n=e;r.uniformLoc||(r.uniformLoc=t.getUniformLocation(this.shaderProgram,n));const{uniformLoc:i,uniformType:a,value:o}=r;null!==i&&(-1===a.indexOf("Matrix")?t[a](i,o):t[a](i,!1,o)),r.changed=!1}}},this.destroy=function(){const{gl:t}=r;t.deleteProgram(this.shaderProgram),r.shaderCount--};const i=(t,e)=>{const{gl:n}=r,i=e?r.VERTEX_SHADER:r.FRAGMENT_SHADER,a=n.createShader(i);return n.shaderSource(a,t),n.compileShader(a),n.getShaderParameter(a,n.COMPILE_STATUS)?a:(console.warn("Error in Shader : ",n.getShaderInfoLog(a)),console.log((t=>{const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=`${t+1}: ${e[t]}`;return e.join("\n")})(t)),null)},a=(t,e)=>{const{gl:n}=r;this.shaderProgram=n.createProgram(),n.attachShader(this.shaderProgram,t),n.attachShader(this.shaderProgram,e),n.deleteShader(t),n.deleteShader(e),n.linkProgram(this.shaderProgram),r.shaderCount++}}function S(t=_.TRIANGLES){this.drawType=t,this.numItems=0;let e,r,n,i,a,o=[],s=[],u=[],h=!0,c=!1,E=0;this.bufferData=function(t,e,r,n=_.STATIC_DRAW,i=!1){let a,o=[];if("number"==typeof t[0]){if(a=t,void 0===r)return console.error("Missing element size for flatten data :",e),this;for(let t=0;t<a.length;t+=r){const e=[];for(let n=0;n<r;n++)e.push(a[t+n]);o.push(e)}}else o=t,a=(s=t)[0]instanceof Float32Array?s.reduce(((t,e)=>{for(let r=0;r<e.length;r++)t.push(e[r]);return t}),[]):s.flat();var s;const u=void 0===r?t[0].length:r;return f(a,t,e,u,n,i)},this.bufferInstance=function(t,e){const r=t[0].length;return E=t.length,this.bufferData(t,e,r,_.STATIC_DRAW,!0)},this.bufferVertex=function(t,e=_.STATIC_DRAW){return this.bufferData(t,"aVertexPosition",3,e)},this.bufferTexCoord=function(t,e=_.STATIC_DRAW){return this.bufferData(t,"aTextureCoord",2,e)},this.bufferNormal=function(t,e=_.STATIC_DRAW){return this.bufferData(t,"aNormal",3,e)},this.bufferIndex=function(t,e=_.STATIC_DRAW){return r=e,n=new Uint32Array(t),this.numItems=n.length,h=!0,this},this.bind=function(t){if(void 0!==t&&void 0!==a&&t!==a)return void console.error("this mesh has been bind to a different WebGL Rendering Context");a=t||GL;const{gl:r}=a;l(),r.bindVertexArray(e),this.vertexSize=this.getSource("aVertexPosition").length},this.unbind=function(){},this.getAttribute=function(t){return o.find((e=>e.name===t))},this.getAttributes=function(){return o},this.getSource=function(t){const e=this.getAttribute(t);return e?e.source:[]},this.generateFaces=function(){let t,e,r,i,a,o;u=[];const{vertices:s}=this;for(let h=0;h<n.length;h+=3){t=n[h],e=n[h+1],r=n[h+2],i=s[t],a=s[e],o=s[r];const c={indices:[t,e,r],vertices:[i,a,o]};u.push(c)}},this.destroy=function(){const{gl:t}=a;o.forEach((e=>{t.deleteBuffer(e.buffer),e.source=[],e.dataArray=[],a.bufferCount--})),i&&(t.deleteBuffer(i),a.bufferCount--),t.deleteVertexArray(e),o=[],n=[],s=[]},this.__defineGetter__("vertices",(function(){return this.getSource("aVertexPosition")})),this.__defineGetter__("coords",(function(){return this.getSource("aTextureCoord")})),this.__defineGetter__("normal",(function(){return this.getSource("aNormal")})),this.__defineGetter__("indices",(function(){return n})),this.__defineGetter__("faces",(function(){return u})),this.__defineGetter__("isInstanced",(function(){return c})),this.__defineGetter__("numInstance",(function(){return E}));const f=(t,e,r,n,i=_.STATIC_DRAW,a=!1)=>{const u=i;c=a||c;const h=new Float32Array(t),E=this.getAttribute(r);return E?(E.itemSize=n,E.dataArray=h,E.source=e):o.push({name:r,source:e,itemSize:n,usage:u,dataArray:h,isInstanced:a}),s.push(r),this},l=()=>{const{shaderProgram:t,gl:r}=a;0!=s.length&&(e||(e=r.createVertexArray()),r.bindVertexArray(e),o.forEach((e=>{if(-1!==s.indexOf(e.name)){const n=function(t,e){let r;const{gl:n}=e;return void 0!==t.buffer?r=t.buffer:(r=n.createBuffer(),t.buffer=r,e.bufferCount++),r}(e,a);r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,e.dataArray,e.usage);const i=((t,e,r)=>(void 0===e.cacheAttribLoc&&(e.cacheAttribLoc={}),void 0===e.cacheAttribLoc[r]&&(e.cacheAttribLoc[r]=t.getAttribLocation(e,r)),e.cacheAttribLoc[r]))(r,t,e.name);i>=0&&(r.enableVertexAttribArray(i),r.vertexAttribPointer(i,e.itemSize,r.FLOAT,!1,0,0)),e.attrPosition=i,e.isInstanced&&r.vertexAttribDivisor(i,1)}})),T(),r.bindVertexArray(null),h=!1,s=[])},T=()=>{const{gl:t}=a;h&&(i||(i=t.createBuffer(),a.bufferCount++),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,r))}}const N=t=>0!==t&&!(t&t-1);class I{constructor(t){this._value=t}set(t,e=1){this._value=this._value,this._value=0===e?this._value&0<<t:this._value|1<<t}get(t){let e=this._value&1<<t;return e>>=t,1===e}reset(t){this._value=t}get value(){return this._value}}const g="This texture has been bind to a different WebGL Rendering Context",b=(t,e="")=>{console.error(t,e)};class O{constructor(t,e={},r=0,n=0){if(this._fromWebGLTexture=!1,t instanceof WebGLTexture)this._texture=t,this._fromWebGLTexture=!0;else{if(this._source=t,this._isHtmlElement=(t=>t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)(this._source),!this._isHtmlElement&&t&&!((t,e)=>{let r=!0;return"Array"===t.constructor.name&&(console.error("Please convert texture source to Unit8Array or Float32Array"),r=!1),void 0===e.type&&"Uint8Array"!==t.constructor.name&&console.error("Using none Unit8Array, pleaes specify type in the texture parameters"),r})(t,e))return;this._getDimension(t,r,n),this._params=function(t,e,r){if(!t.minFilter){let n=_.LINEAR;e&&e&&N(e)&&N(r)&&(n=_.NEAREST_MIPMAP_LINEAR),t.minFilter=n}return t.mipmap=void 0===t.mipmap||t.mipmap,t.magFilter=t.magFilter||_.LINEAR,t.wrapS=t.wrapS||_.CLAMP_TO_EDGE,t.wrapT=t.wrapT||_.CLAMP_TO_EDGE,t.internalFormat=t.internalFormat||_.RGBA,t.format=t.format||_.RGBA,t.premultiplyAlpha=void 0!==t.premultiplyAlpha&&t.premultiplyAlpha,t.level=t.level||0,t.type=t.type||_.UNSIGNED_BYTE,t}(e,this._width,this._height),this._checkMipmap()}this._parametersState=new I(0)}bind(t,e){if(void 0!==e&&void 0!==this.GL&&e!==this.GL)return void b(g,this.GL.id);this.GL=e||M;const{gl:r}=this.GL;this._fromWebGLTexture||this.createTexture(this.GL),r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,this._texture),this._checkParameters()}createTexture(t){void 0===t||void 0===this.GL||t===this.GL?(this.GL=t||M,this._texture||(((t,e)=>{t.webgl2&&(e.type===_.HALF_FLOAT?(e.type=t.gl.HALF_FLOAT,e.internalFormat=_.RGBA16F):e.type===_.FLOAT&&(e.internalFormat=_.RGBA32F))})(this.GL,this._params),this._uploadTexture())):b(g,this.GL.id)}updateTexture(t){this._source=t,this._uploadTexture()}generateMipmap(){if(!this._generateMipmap)return;const{gl:t}=this.GL;t.bindTexture(t.TEXTURE_2D,this._texture),t.generateMipmap(t.TEXTURE_2D)}destroy(){const{gl:t}=this.GL;t.deleteTexture(this._texture),this.GL.textureCount--}showProperties(){console.log("Dimension :",this._width,this._height);for(const t in this._params)console.log(t,f[this._params[t]]||this._params[t])}_uploadTexture(){const{gl:t}=this.GL;this._texture||(this._texture=t.createTexture(),this.GL.textureCount++),t.bindTexture(t.TEXTURE_2D,this._texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),this._isHtmlElement&&!this.GL.webgl2?t.texImage2D(t.TEXTURE_2D,0,this._params.internalFormat,this._params.format,this._params.type,this._source):t.texImage2D(t.TEXTURE_2D,0,this._params.internalFormat,this._width,this._height,0,this._params.format,this._params.type,this._source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this._params.magFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this._params.minFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this._params.wrapS),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this._params.wrapT),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),this._generateMipmap&&t.generateMipmap(t.TEXTURE_2D)}_checkParameters(){const{gl:t}=this.GL;this._parametersState.value>0&&(this._parametersState.get(0)?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this._params.minFilter):this._parametersState.get(1)?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this._params.magFilter):this._parametersState.get(2)?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this._params.wrapS):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this._params.wrapT)),this._parametersState.reset(0)}_getDimension(t,e,r){t?(this._width=t.width||t.videoWidth,this._height=t.height||t.videoWidth,this._width=this._width||e,this._height=this._height||r,this._width&&this._height||(this._width=this._height=Math.sqrt(t.length/4))):(this._width=e,this._height=r)}_checkMipmap(){this._generateMipmap=this._params.mipmap,N(this._width)&&N(this._height)||(this._generateMipmap=!1),-1===f[this._params.minFilter].indexOf("MIPMAP")&&(this._generateMipmap=!1)}get texture(){return this._texture}set minFilter(t){this._params.minFilter=t,this._parametersState.set(0,1)}get minFilter(){return this._params.minFilter}set magFilter(t){this._params.magFilter=t,this._parametersState.set(1,1)}get magFilter(){return this._params.magFilter}set wrapS(t){this._params.wrapS=t,this._parametersState.set(2,1)}get wrapS(){return this._params.wrapS}set wrapT(t){this._params.wrapT=t,this._parametersState.set(3,1)}get wrapT(){return this._params.wrapT}get width(){return this._width}get height(){return this._height}get glTexture(){return this._texture}}class P{constructor(t){return this._GL=t||M,this._uniforms={},this._uniformTextures=[],this._fbo,this._clearColor={r:0,g:0,b:0,a:0},this}setClearColor(t=0,e=0,r=0,n=0){return this._clearColor.r=t,this._clearColor.g=e,this._clearColor.b=r,this._clearColor.a=n,this}useProgram(t,e){return this._shader=t instanceof L?t:new L(t,e),this}setMesh(t){return this._mesh=t,this}createMesh(t){return this._mesh=new S(t),this}bufferVertex(t){return this._mesh||(this._mesh=new S),this._mesh.bufferVertex(t),this}bufferTexCoord(t){return this._mesh||(this._mesh=new S),this._mesh.bufferTexCoord(t),this}bufferNormal(t){return this._mesh||(this._mesh=new S),this._mesh.bufferNormal(t),this}bufferIndex(t){return this._mesh||(this._mesh=new S),this._mesh.bufferIndex(t),this}bufferInstance(t,e){return this._mesh?(this._mesh.bufferInstance(t,e),this):(console.warn("Need to create mesh first"),this)}bufferData(t,e){return this._mesh||(this._mesh=new S),this._mesh.bufferData(t,e),this}uniform(t,e,r){const n=t;let i,a;return void 0===r?(a=v(e),i=e):(a=e,i=r),this._uniforms[n]={type:a,value:i},this}uniformTexture(t,e,r){return this.bindTexture(t,e,r)}bindTexture(t,e,r){return void 0!==r?this._uniformTextures[r]={name:t,texture:e}:this._uniformTextures.push({name:t,texture:e}),this}bindFrameBuffer(t){return this._fbo=t,this}draw(){if(this._shader){if(this._mesh){if(this._fbo){const{r:t,g:e,b:r,a:n}=this._clearColor;this._fbo.bind(this._GL),this._GL.clear(t,e,r,n)}this._shader.bind(this._GL);for(const t in this._uniforms){const e=this._uniforms[t];this._shader.uniform(t,e.type,e.value)}return this._uniformTextures.forEach(((t,e)=>{void 0!==t&&(this._shader.uniform(t.name,"int",e),t.texture.bind(e,this._GL))})),this._GL.draw(this._mesh),this._fbo&&this._fbo.unbind(),this}console.warn("No Mesh assigned for draw call")}else console.warn("No GLShader assigned for draw call")}get shader(){return this._shader}get framebuffer(){return this._fbo}}class C extends P{constructor(t){super(t);const e=this._GL,r=1e3,n=[[-r,0,0],[r,0,0],[0,-r,0],[0,r,0],[0,0,-r],[0,0,r]];this.createMesh(e.LINES).bufferVertex(n).bufferData([[1,0,0],[1,0,0],[0,1,0],[0,1,0],[0,0,1],[0,0,1]],"aColor").bufferIndex([0,1,2,3,4,5]).useProgram("#version 300 es\n\nprecision highp float;\n#define GLSLIFY 1\nin vec3 aVertexPosition;\nin vec3 aColor;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nout vec3 vColor;\n\nvoid main(void) {\n  gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n  vColor = aColor;\n}","#version 300 es\nprecision highp float;\n#define GLSLIFY 1\nin vec3 vColor;\nuniform float uOpacity;\nout vec4 oColor;\n\nvoid main(void) {\n    oColor = vec4(vColor, uOpacity);\n}"),this.opacity=.75}draw(){this.uniform("uOpacity",this.opacity),super.draw()}}class x extends P{constructor(t){super(t),this.setMesh(((t,e,r=!1)=>{const n=[],i=[],a=[],o=[],s=1/e;let u=0;function h(r,n,i=!1){const a=r/e*Math.PI-.5*Math.PI,o=n/e*Math.PI*2,s=i?1:t,u=[];u[1]=Math.sin(a)*s;const h=Math.cos(a)*s;u[0]=Math.cos(o)*h,u[2]=Math.sin(o)*h;const c=1e4;return u[0]=Math.floor(u[0]*c)/c,u[1]=Math.floor(u[1]*c)/c,u[2]=Math.floor(u[2]*c)/c,u}for(let t=0;t<e;t++)for(let r=0;r<e;r++){n.push(h(t,r)),n.push(h(t+1,r)),n.push(h(t+1,r+1)),n.push(h(t,r+1)),o.push(h(t,r,!0)),o.push(h(t+1,r,!0)),o.push(h(t+1,r+1,!0)),o.push(h(t,r+1,!0));const c=r/e,E=t/e;i.push([1-c,E]),i.push([1-c,E+s]),i.push([1-c-s,E+s]),i.push([1-c-s,E]),a.push(4*u+0),a.push(4*u+1),a.push(4*u+2),a.push(4*u+0),a.push(4*u+2),a.push(4*u+3),u++}return r&&a.reverse(),(new S).bufferVertex(n).bufferTexCoord(i).bufferIndex(a).bufferNormal(o)})(1,12)).useProgram("#version 300 es\n\nprecision highp float;\n#define GLSLIFY 1\nin vec3 aVertexPosition;\nin vec2 aTextureCoord;\nin vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec3 uTranslate;\nuniform vec3 uScale;\nuniform vec3 uRotation;\n\nout vec2 vTextureCoord;\nout vec3 vNormal;\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, s, -s, c);\n\treturn m * v;\n}\n\nvoid main(void) {\n  vec3 pos = aVertexPosition * uScale;\n  pos.yz = rotate(pos.yz, uRotation.x);\n  pos.xz = rotate(pos.xz, uRotation.y);\n  pos.xy = rotate(pos.xy, uRotation.z);\n  pos += uTranslate;\n\n  gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n  vTextureCoord = aTextureCoord;\n  vNormal = aNormal;\n}","precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 uColor;\nuniform float uOpacity;\n\nvoid main(void) {\n    gl_FragColor = vec4(uColor, uOpacity);\n}").uniform("uRotation",[0,0,0])}draw(t,e=[1,1,1],r=[1,1,1],n=1){this.uniform("uTranslate",t).uniform("uScale",e).uniform("uColor",r).uniform("uOpacity",n),super.draw(0)}}class U extends P{constructor(t){super(t),this.setMesh((new S).bufferData([[-1,-1],[-1,4],[4,-1]],"aPosition",2).bufferIndex([2,1,0])).useProgram("#version 300 es\n\nprecision mediump float;\n#define GLSLIFY 1\nin vec2 aPosition;\nout vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTextureCoord = aPosition * .5 + .5;\n}","#version 300 es\n\nprecision highp float;\n#define GLSLIFY 1\nin vec2 vTextureCoord;\nuniform sampler2D texture;\n\nout vec4 oColor;\n\nvoid main(void) {\n    oColor = texture(texture, vTextureCoord);\n}")}draw(t){this.bindTexture("texture",t,0),super.draw(0)}}const{mat4:F,vec4:y}=r(370);var D=r(51);class w{constructor(t,e=.1){this.easing=e,this._value=t,this._targetValue=t,this._efIndex=D.Z.addEF((()=>this._update()))}_update(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}setTo(t){this._targetValue=this._value=t}add(t){this._targetValue+=t}limit(t,e){t>e?this.limit(e,t):(this._min=t,this._max=e,this._checkLimit())}_checkLimit(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}destroy(){D.Z.removeEF(this._efIndex)}set value(t){this._targetValue=t}get value(){return this._value}get targetValue(){return this._targetValue}}var B=r(160);const G=function(t,e){const r=e||{};return t.touches?(r.x=t.touches[0].pageX,r.y=t.touches[0].pageY):(r.x=t.clientX,r.y=t.clientY),r};class X{#t=!1;#e=!1;#r=!1;#n=!1;#i;#a={};#o={};#s=T.create();#u=T.create();#h=T.create();#c=T.create();#E=B.create();#_=B.create();#f=B.fromValues(0,1,0);radius=new w(0);rx=new w(0);ry=new w(0);#l=0;#T=0;constructor(t,e=5,r=window){this.#i=t,this.radius.setTo(e),this.#_=[0,0,this.radius],this.rx.limit(-Math.PI/2+.01,Math.PI/2-.01),r.addEventListener("mousewheel",this._onWheel),r.addEventListener("DOMMouseScroll",this._onWheel),r.addEventListener("mousedown",this._onDown),r.addEventListener("mousemove",this._onMove),window.addEventListener("mouseup",this._onUp),r.addEventListener("touchstart",this._onDown),r.addEventListener("touchmove",this._onMove),window.addEventListener("touchend",this._onUp),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.update(),D.Z.addEF(this._loop)}lock(t=!0){this.#t=t,this.#e=t,this.#n=!1}lockZoom(t=!0){this.#e=t}lockRotation(t=!0){this.#t=t}update(){B.set(this.#_,0,0,this.radius.value),B.rotateX(this.#_,this.#_,[0,0,0],this.rx.value),B.rotateY(this.#_,this.#_,[0,0,0],this.ry.value),T.lookAt(this.#s,this.#_,this.#E,this.#f),T.invert(this.#u,this.#s),T.mul(this.#s,this.#s,this.#c),T.mul(this.#s,this.#s,this.#h),this.#i?.setViewMatrix(this.#s)}_onDown=t=>{this.#t||(this.#n=!0,G(t,this.#a),G(t,this.#o),this.#l=this.rx.targetValue,this.#T=this.ry.targetValue,T.identity(this.#h))};_onMove=t=>{if(this.#t)return;if(!this.#n)return;if(G(t,this.#a),t.shiftKey){const t=[this.#a.x-this.#o.x,-(this.#a.y-this.#o.y),0];return B.transformMat4(t,t,this.#u),B.scale(t,t,.01),T.identity(this.#h,this.#h),void T.translate(this.#h,this.#h,t)}const e=this.#a.x-this.#o.x;this.ry.value=.01*-e+this.#T;const r=this.#a.y-this.#o.y;this.rx.value=.01*-r+this.#l};_onUp=()=>{this.#n=!1,this.#r&&(T.mul(this.#c,this.#c,this.#h),T.identity(this.#h))};_onWheel=t=>{if(this.#e)return;const e=t.wheelDelta,r=t.detail;let n=0;n=r?e?e/r/40*r>0?1:-1:-r/3:e/120,this.radius.add(2*-n),this.radius.targetValue<0&&(this.radius.value=1e-4)};_onKeyDown=t=>{t.code.indexOf("Shift")>-1&&(this.#r=!0)};_onKeyUp=t=>{"Shift"===t.key&&(T.mul(this.#c,this.#c,this.#h),T.identity(this.#h)),this.#r=!1};_loop=()=>{this.update()}}class V{constructor(){this._mtxView=T.create(),this._mtxProj=T.create(),this._near=0,this._far=0,this._lookDir=B.create()}lookAt(t,e,r=[0,1,0]){T.lookAt(this._mtxView,t,e,r)}setFromViewProjection(t,e){T.copy(this._mtxView,t),T.copy(this._mtxProj,e)}setViewMatrix(t){T.copy(this._mtxView,t)}setProjectionMatrix(t){T.copy(this._mtxProj,t)}_updateMatrices(){}get viewMatrix(){return this._mtxView}get view(){return this._mtxView}get projectionMatrix(){return this._mtxProj}get projection(){return this._mtxProj}get position(){const t=T.create();return T.invert(t,this._mtxView),[t[12],t[13],t[14]]}get direction(){const t=d.create();return d.fromMat4(t,this._mtxView),d.transpose(t,t),B.transformMat3(this._lookDir,[0,0,-1],t),B.normalize(this._lookDir,this._lookDir),this._lookDir}set near(t){this._near=t,this._updateMatrices()}get near(){return this._near}set far(t){this._far=t,this._updateMatrices()}get far(){return this._far}}function H(t,e){this.origin=t,this.direction=e;const r=B.create(),n=B.create(),i=B.create(),a=B.create(),o=B.create(),s=B.create(),u=B.create(),h=B.create();this.at=function(t){return B.copy(a,this.direction),B.scale(a,a,t),B.add(a,a,this.origin),a},this.lookAt=function(t){B.sub(this.direction,t,this.origin),B.normalize(this.origin,this.origin)},this.closestPointToPoint=function(t){const e=B.create();B.sub(t,this.origin);const r=B.dot(e,this.direction);return r<0?B.clone(this.origin):(B.copy(e,this.direction),B.scale(e,e,r),B.add(e,e,this.origin),e)},this.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},this.distanceSqToPoint=function(t){const e=B.create();B.sub(e,t,this.origin);const r=B.dot(e,this.direction);return r<0?B.squaredDistance(this.origin,t):(B.copy(e,this.direction),B.scale(e,e,r),B.add(e,e,this.origin),B.squaredDistance(e,t))},this.intersectsSphere=function(t,e){return this.distanceToPoint(t)<=e},this.intersectSphere=function(t,e){const r=B.create();B.sub(r,t,this.origin);const n=B.dot(r,this.direction),i=B.dot(r,r)-n*n,a=e*e;if(i>a)return null;const o=Math.sqrt(a-i),s=n-o,u=n+o;return s<0&&u<0?null:s<0?this.at(u):this.at(s)},this.intersectTriangle=function(t,e,a,c=!0){B.copy(r,t),B.copy(n,e),B.copy(i,a),B.sub(o,n,r),B.sub(s,i,r),B.cross(u,o,s);let E,_=B.dot(this.direction,u);if(_>0){if(c)return null;E=1}else{if(!(_<0))return null;E=-1,_=-_}B.sub(h,this.origin,r),B.cross(s,h,s);const f=E*B.dot(this.direction,s);if(f<0)return null;B.cross(o,o,h);const l=E*B.dot(this.direction,o);if(l<0)return null;if(f+l>_)return null;const T=-E*B.dot(h,u);return T<0?null:this.at(T/_)}}class Y extends V{constructor(t,e,r,n){super(),this._fov=0,this._ratio=0,this.setPerspective(t,e,r,n)}setPerspective(t,e,r,n){T.perspective(this._mtxProj,t,e,r,n),this._near=r,this._far=n,this._fov=t,this._ratio=e}setAspectRatio(t){this._ratio=t,this._updateMatrices()}generateRay(t,e){const r=T.create(),n=B.create(),i=this._mtxProj,a=this._mtxView;return T.multiply(r,i,a),T.invert(r,r),B.transformMat4(n,t,r),B.sub(n,n,this.position),B.normalize(n,n),e?(e.origin=this.position,e.direction=n):e=new H(this.position,n),e}_updateMatrices(){this.setPerspective(this._fov,this._ratio,this._near,this._far)}}class W{constructor(t){this._GL=t||M,this.camera=new Y,this.camera.setPerspective(45*Math.PI/180,M.aspectRatio,.1,100),this.orbitalControl=new X(this.camera,15,window),this.orbitalControl.radius.value=10,this._isRunning=!0,this._initTextures(),this._initViews(),window.addEventListener("resize",(()=>this.resize())),this._efIndex=D.Z.addEF((()=>this._loop()))}stop(){this._isRunning=!1}resume(){this._isRunning=!0}_initTextures(){}_initViews(){}update(){}render(){}_loop(){this._isRunning&&(this.update(),this._GL.viewport(0,0,this._GL.width,this._GL.height),this._GL.setMatrices(this.camera),this.render())}resize(){this._GL.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(this._GL.aspectRatio)}}const j=t=>{const e=t.split("\n"),r=[],n=[],i=[],a=[],o=[],s=[],u=[];let h,c=0;const E=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,_=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,f=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,l=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,T=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,d=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,R=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/;function A(t){const e=parseInt(t);return 3*(e>=0?e-1:e+a.length/3)}function M(t){const e=parseInt(t);return 3*(e>=0?e-1:e+o.length/3)}function m(t){const e=parseInt(t);return 2*(e>=0?e-1:e+s.length/2)}function p(t,e,n){r.push([a[t],a[t+1],a[t+2]]),r.push([a[e],a[e+1],a[e+2]]),r.push([a[n],a[n+1],a[n+2]]),u.push(3*c+0),u.push(3*c+1),u.push(3*c+2),c++}function v(t,e,r){n.push([s[t],s[t+1]]),n.push([s[e],s[e+1]]),n.push([s[r],s[r+1]])}function L(t,e,r){i.push([o[t],o[t+1],o[t+2]]),i.push([o[e],o[e+1],o[e+2]]),i.push([o[r],o[r+1],o[r+2]])}function S(t,e,r,n,i,a,o,s,u,h,c,E){let _,f=A(t),l=A(e),T=A(r);void 0===n?p(f,l,T):(_=A(n),p(f,l,_),p(l,T,_)),void 0!==i&&(f=m(i),l=m(a),T=m(o),void 0===n?v(f,l,T):(_=m(s),v(f,l,_),v(l,T,_))),void 0!==u&&(f=M(u),l=M(h),T=M(c),void 0===n?L(f,l,T):(_=M(E),L(f,l,_),L(l,T,_)))}for(let t=0;t<e.length;t++){let r=e[t];r=r.trim(),0!==r.length&&"#"!==r.charAt(0)&&(null!==(h=E.exec(r))?a.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])):null!==(h=_.exec(r))?o.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])):null!==(h=f.exec(r))?s.push(parseFloat(h[1]),parseFloat(h[2])):null!==(h=l.exec(r))?S(h[1],h[2],h[3],h[4]):null!==(h=T.exec(r))?S(h[2],h[5],h[8],h[11],h[3],h[6],h[9],h[12]):null!==(h=d.exec(r))?S(h[2],h[6],h[10],h[14],h[3],h[7],h[11],h[15],h[4],h[8],h[12],h[16]):null!==(h=R.exec(r))&&S(h[2],h[5],h[8],h[11],void 0,void 0,void 0,void 0,h[3],h[6],h[9],h[12]))}return q({positions:r,coords:n,normals:i,indices:u})},q=t=>{const e=t.normals.length>0,r=t.coords.length>0;let n;if(t.positions.length>65535){const i=[];let a=0;const o={};for(o.positions=t.positions.concat(),o.coords=t.coords.concat(),o.indices=t.indices.concat(),o.normals=t.normals.concat();t.indices.length>0;){const s=Math.min(65535,t.positions.length),u=t.indices.splice(0,s),h=[],c=[],E=[];let _,f=0;for(let t=0;t<u.length;t++)u[t]>f&&(f=u[t]),_=u[t],h.push(o.positions[_]),r&&c.push(o.coords[_]),e&&E.push(o.normals[_]),u[t]-=a;a=f+1,n=new S,n.bufferVertex(h),r&&n.bufferTexCoord(c),n.bufferIndex(u),e&&n.bufferNormal(E),i.push(n)}return i}return n=new S,n.bufferVertex(t.positions),r&&n.bufferTexCoord(t.coords),n.bufferIndex(t.indices),e&&n.bufferNormal(t.normals),n};r(643)},643:()=>{Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(r,n){return Array.isArray(n)?r.push.apply(r,t.call(n,e-1)):r.push(n),r}),[]):Array.prototype.slice.call(this)},writable:!0})},943:()=>{"use strict";String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)},window.addEventListener("keydown",(t=>{if(83===t.keyCode&&(t.metaKey||t.ctrlKey)){t.preventDefault();const e=(()=>{const t=new Date;return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}-${t.getHours()}.${t.getMinutes()}.${t.getSeconds()}`})();((t,e)=>{var r=document.createElement("a"),n=(t=>{for(var e=t.split(","),r=e[0].match(/:(.*?);/)[1],n=atob(e[1]),i=n.length,a=new Uint8Array(i);i--;)a[i]=n.charCodeAt(i);return new Blob([a],{type:r})})(t.toDataURL({format:"png",multiplier:4})),i=URL.createObjectURL(n);r.download=`${e}.png`,r.href=i,r.click()})(document.querySelector("#main-canvas"),e)}}))},624:(t,e,r)=>{"use strict";r.d(e,{B8:()=>i,H:()=>n});const n=t=>{console.error(t)},i=(t,e,r)=>t.length?i(t[0],t[1],t[2]):void 0===e?`rgb(${t}, ${t}, ${t})`:`rgb(${t}, ${e}, ${r})`},552:(t,e,r)=>{"use strict";r.d(e,{H:()=>u,Z:()=>h});var n=r(247);let i,a,o;const s=(t,e,r)=>{const{margin:i}=n.Z,{innerWidth:a,innerHeight:o}=window;e=e||a,r=r||o;const s=a-i,u=o-i;let h=Math.min(e,s),c=Math.min(r,u);const E=s/e,_=u/r,f=Math.min(E,_);h=e*f,c=r*f;let l=Math.floor(a-h)/2,T=`\n  position:absolute;\n  width:${h}px;\n  height:${c}px;\n  top:${Math.floor(o-c)/2}px;\n  left:${l}px;\n  `;t.style.cssText=T},u=()=>{i&&s(i,a,o)},h=(t,e,r)=>{i=t,a=e,o=r,window.addEventListener("resize",(()=>{s(t,e,r)})),s(t,e,r)}}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var a=n[t]={exports:{}};return r[t].call(a.exports,a,a.exports,i),a.exports}i.m=r,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,r)=>(i.f[r](t,e),e)),[])),i.u=t=>t+".bundle.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="fxhash-boilerplate-webpack:",i.l=(r,n,a,o)=>{if(t[r])t[r].push(n);else{var s,u;if(void 0!==a)for(var h=document.getElementsByTagName("script"),c=0;c<h.length;c++){var E=h[c];if(E.getAttribute("src")==r||E.getAttribute("data-webpack")==e+a){s=E;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+a),s.src=r),t[r]=[n];var _=(e,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(n))),e)return e(n)},f=setTimeout(_.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=_.bind(null,s.onerror),s.onload=_.bind(null,s.onload),u&&document.head.appendChild(s)}},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{var t={179:0};i.f.j=(e,r)=>{var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((r,i)=>n=t[e]=[r,i]));r.push(n[2]=a);var o=i.p+i.u(e),s=new Error;i.l(o,(r=>{if(i.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,n[1](s)}}),"chunk-"+e,e)}};var e=(e,r)=>{var n,a,[o,s,u]=r,h=0;if(o.some((e=>0!==t[e]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);u&&u(i)}for(e&&e(r);h<o.length;h++)a=o[h],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0},r=self.webpackChunkfxhash_boilerplate_webpack=self.webpackChunkfxhash_boilerplate_webpack||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),(()=>{"use strict";var t=i(856),e=i(552);var r=i(247);let n=!1,a=!1;class o extends t.xs{constructor(){super(),t.GL.setSize(2160,2700),this.camera.setAspectRatio(t.GL.aspectRatio),(0,e.Z)(t.GL.canvas,2160,2700),setTimeout((()=>{a=!0}),500)}_initTextures(){}_initViews(){this._dAxis=new t.nu,this._dCopy=new t.Cg,this._dBall=new t.QA}update(){}render(){t.GL.clear(.1,.1,.1,1),t.GL.setMatrices(this.camera),this._dAxis.draw(),a&&!n&&r.Z.autoSave&&(((t,e)=>{var r=document.createElement("a"),n=(t=>{for(var e=t.split(","),r=e[0].match(/:(.*?);/)[1],n=atob(e[1]),i=n.length,a=new Uint8Array(i);i--;)a[i]=n.charCodeAt(i);return new Blob([a],{type:r})})(t.toDataURL({format:"png",multiplier:4})),i=URL.createObjectURL(n);r.download=`${e}.png`,r.href=i,r.click()})(t.GL.canvas,(()=>{const t=new Date;return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}-${t.getHours()}.${t.getMinutes()}.${t.getSeconds()}`})()),n=!0)}resize(){}}const s=o;var u=i(624);const h=[];let c;const E=e=>{c=e.map((({id:e,file:r,type:n})=>{const i=r;let a;switch(n){case"jpg":case"png":a=new t.fy(r);break;case"text":a=(0,t.F7)(r)}return{id:e,source:i,type:n,file:a}})),console.table(c)};var _=i(719),f=i.n(_);let l,T;i(943);var d;new Promise(((t,e)=>{const r=document.body.querySelector(".Loading-Bar");console.log("Load Assets",h),h.length>0?(document.body.classList.add("isLoading"),new(f())({assets:h}).on("error",(t=>{console.log("Error :",t)})).on("progress",(t=>{r&&(r.style.width=100*t+"%")})).on("complete",(e=>{r&&(r.style.width="100%"),E(e),setTimeout((()=>{document.body.classList.remove("isLoading"),t(d)}),500)})).start()):t(d)})).then((function(){i.e(891).then(i.bind(i,891)).then((({default:e})=>{e.init(),T=document.createElement("canvas"),T.id="main-canvas",document.body.appendChild(T),t.GL.init(T,{alpha:!1,preserveDrawingBuffer:!0}),l=new s,Promise.all([i.e(296),i.e(608)]).then(i.bind(i,608)).then((({default:t})=>{t(l),i.e(756).then(i.bind(i,756))}))}))}),u.H)})()})();